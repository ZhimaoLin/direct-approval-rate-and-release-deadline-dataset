DESCRIPTION

tmf: Add some unit tests to the ITmfStatistics

Also fixed some bugs that those tests exposed:
- Time ranges are now inclusive (both at the beginning and end)
  for all implementations.
- All methods in TmfStateStatistics will now wait for the history
  construction to be complete, so hopefully no more hundreds of
  AttributeNotFoundException's.
- State system queries at the end time should now work correctly
  (the work-around was removed).
- A time range beginning at the trace's start time should now
  return the correct values. I couldn't test with the edge case
  where you have more than 1 event exactly at the start time, but
  I assume it should work correctly too.

Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2012-11-01 02:38:22.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/499/ 

-------------------------------------
author: Brenden Conley
date: 2012-11-01 02:50:49.000000000

Patch Set 1: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/499/ : SUCCESS

-------------------------------------
author: Luciana Barry
date: 2012-11-01 14:37:34.000000000

Patch Set 1: (1 inline comment)



Line:98, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/statistics/TmfStateStatistics.java -> I would suggest to create another constructor that takes a File as an additional parameter. Then the test code can provide the test file with hardcoded file name.

-------------------------------------
author: Braxton Mccarthy
date: 2012-11-01 15:35:49.000000000

Patch Set 1: (1 inline comment)



Line:98, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/statistics/TmfStateStatistics.java -> Good idea. This code could eventually be wrapped into HistoryBuilder or something too, because it needs to be done every time we want to use a state system.

-------------------------------------
