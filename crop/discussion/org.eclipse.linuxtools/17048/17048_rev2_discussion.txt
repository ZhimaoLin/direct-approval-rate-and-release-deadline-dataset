DESCRIPTION

Systemtap: Allow >1 regexs to parse graph output.

In Run Configurations->Graphing, allow creation of multiple regular expressions
for parsing graph output. In other words, enable capturing data from more than
one type of pattern from a script's output. Include a test for this feature.

Also, remove features that are not compatible with this multi-regex setup,
such as "Import/Export Datasets" and "Modify Parsing Expression".

Change-Id: If77c96567cc7118b8f58a4e0846b9eacfefedf0b
Signed-off-by: Landon Wilkins xxx@xxx.xxx


COMMENTS

author: Landon Wilkins
date: 2013-10-09 20:37:59.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2013-10-09 21:08:03.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3666/

-------------------------------------
author: Brenden Conley
date: 2013-10-09 21:42:37.000000000

Patch Set 2: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3666/ : FAILURE

-------------------------------------
author: Erick Ross
date: 2013-10-10 05:32:37.000000000

Patch Set 2: Code-Review-2

(17 comments)

API breaking changes are not allowed for 2.2. Please mark them as deprecated and scheduled for removal for 3.0.

Line:20, systemtap/org.eclipse.linuxtools.systemtap.graphingapi.ui/src/org/eclipse/linuxtools/systemtap/graphingapi/ui/wizards/dataset/SelectRowParsingWizardPage.java -> These are public API. You can not remove it. Mark as deprecated instead and add TODO to drop in 3.0.

Line:12, systemtap/org.eclipse.linuxtools.systemtap.graphingapi.ui/src/org/eclipse/linuxtools/systemtap/graphingapi/ui/wizards/dataset/ParsingWizardPage.java -> These are public API. You can not remove it. Mark as deprecated instead and add TODO to drop in 3.0.

Line:20, systemtap/org.eclipse.linuxtools.systemtap.graphingapi.ui/src/org/eclipse/linuxtools/systemtap/graphingapi/ui/wizards/graph/SelectGraphWizard.java -> These are public API. You can not remove it. Mark as deprecated instead and add TODO to drop in 3.0.

Line:29, systemtap/org.eclipse.linuxtools.systemtap.graphingapi.ui/src/org/eclipse/linuxtools/systemtap/graphingapi/ui/wizards/graph/SelectSeriesWizardPage.java -> These are public API. You can not remove it. Mark as deprecated instead and add TODO to drop in 3.0.

Line:14, systemtap/org.eclipse.linuxtools.systemtap.graphingapi.ui/src/org/eclipse/linuxtools/systemtap/graphingapi/ui/wizards/dataset/DataSetWizard.java -> These are public API. You can not remove it. Mark as deprecated instead and add TODO to drop in 3.0.

Line:67, systemtap/org.eclipse.linuxtools.systemtap.ui.graphing/src/org/eclipse/linuxtools/systemtap/ui/graphing/views/GraphSelectorEditor.java -> This is API breaking change. It's not allowed for 2.2. Please keep the old API next to the new one you need and mark the old one as deprecated with TODO to drop in 3.0.

Line:23, systemtap/org.eclipse.linuxtools.systemtap.graphingapi.ui/src/org/eclipse/linuxtools/systemtap/graphingapi/ui/wizards/graph/SelectGraphWizardPage.java -> These are public API. You can not remove it. Mark as deprecated instead and add TODO to drop in 3.0.

Line:37, systemtap/org.eclipse.linuxtools.systemtap.ui.ide/src/org/eclipse/linuxtools/internal/systemtap/ui/ide/actions/RunScriptChartHandler.java -> It's a good practice to use interface (List) instead of implementation( ArrayList) for definitions/parameters/etc. unless you need some method specific to the implementation.

Line:23, systemtap/org.eclipse.linuxtools.systemtap.graphingapi.ui/src/org/eclipse/linuxtools/systemtap/graphingapi/ui/wizards/dataset/SelectTableParsingWizardPage.java -> These are public API. You can not remove it. Mark as deprecated instead and add TODO to drop in 3.0.

Line:27, systemtap/org.eclipse.linuxtools.systemtap.graphingapi.ui/src/org/eclipse/linuxtools/systemtap/graphingapi/ui/wizards/dataset/SelectDataSetWizardPage.java -> These are public API. You can not remove it. Mark as deprecated instead and add TODO to drop in 3.0.

Line:699, systemtap/org.eclipse.linuxtools.systemtap.ui.ide/src/org/eclipse/linuxtools/internal/systemtap/ui/ide/launcher/SystemTapScriptGraphOptionsTab.java -> What's the purpose of this method? It's private and it just adds false as parameter. It would be clearer if the method with parameter is used everywhere so it's clear whether force is needed or not.

Line:794, systemtap/org.eclipse.linuxtools.systemtap.ui.ide/src/org/eclipse/linuxtools/internal/systemtap/ui/ide/launcher/SystemTapScriptGraphOptionsTab.java -> Same comment about methods that just make it less clear what happens.

Line:825, systemtap/org.eclipse.linuxtools.systemtap.ui.ide/src/org/eclipse/linuxtools/internal/systemtap/ui/ide/launcher/SystemTapScriptGraphOptionsTab.java -> And again method making it harder to read.

Line:54, systemtap/org.eclipse.linuxtools.systemtap.graphingapi.ui/src/org/eclipse/linuxtools/systemtap/graphingapi/ui/wizards/dataset/DataSetFactory.java -> These are public API. You can not remove it. Mark as deprecated instead and add TODO to drop in 3.0.

Line:17, systemtap/org.eclipse.linuxtools.systemtap.ui.consolelog/src/org/eclipse/linuxtools/systemtap/ui/consolelog/ChartStreamDaemon2.java -> These are public API. You can not remove it. Mark as deprecated instead and add TODO to drop in 3.0.

Line:5, systemtap/org.eclipse.linuxtools.systemtap.ui.graphing/META-INF/MANIFEST.MF -> I would rather see this being bumped to 2.2. I know it's artificial change but better to match the whole Linux Tools release and next one will be 2.2.

Line:21, systemtap/org.eclipse.linuxtools.systemtap.ui.graphing/pom.xml -> Same version change as in the MANIFEST.MF file.

-------------------------------------
