DESCRIPTION

tmf: Move some code to copy/add/remove traces in UI

The "Copy trace", "Select traces..." and "Remove" functionnalities have
some code that can be reused by each other and future features.  This
code has been moved to the model element's classes.

Change-Id: Id61914521f41d9c2b2c25fe1268e61be62c1d504
Signed-off-by: Aryana Jones xxx@xxx.xxx


COMMENTS

author: Annalise Jimenez
date: 2013-03-01 14:19:11.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2013-03-01 14:19:17.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/1546/ 

-------------------------------------
author: Brenden Conley
date: 2013-03-01 14:33:12.000000000

Patch Set 2: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/1546/ : SUCCESS

-------------------------------------
author: Luciana Barry
date: 2013-03-01 19:23:45.000000000

Patch Set 2: I would prefer that you didn't submit this

(5 inline comments)



Line:221, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/CopyExperimentDialog.java -> extra space

Line:220, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/CopyTraceDialog.java -> extra space

Line:215, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/model/TmfWithFolderElement.java -> If we are to support a (target) parent folder parameter, then it could be anywhere and the new path should be relative to it. But the copySupplementaryFolder method only supports copying to the same project. So it's probably better to remove the parentFolder parameter. The parent folder can be found with getResource().getParent().

Line:218, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/model/TmfWithFolderElement.java -> This would be cleaner as newPath = getParent().getResource.getFullPath().addTrailingSeparator().append(newName)

Line:232, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/model/TmfWithFolderElement.java -> If the element is an experiment, we want to delete any resource that has TmfExperiment.class name as trace type. It would be ok to get the trace type and delete the member if it is either TmfTrace.class or TmfExperiment.class.

-------------------------------------
author: Braxton Mccarthy
date: 2013-03-01 19:29:21.000000000

Patch Set 2: (2 inline comments)



Line:2, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/CopyTraceDialog.java -> Please write it with a comma, as in 2011, 2013 (creation year, year of last revision). Yeah, it's weird, but that's what Eclipse (and the copyright tools) expect. See http://www.eclipse.org/legal/copyrightandlicensenotice.php

Line:218, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/model/TmfWithFolderElement.java -> Does IPath.append() work the same way as StringBuilder.append() ? If so, then it *modifies* the object is called on (and also returns it). Is this what we want here?

-------------------------------------
author: Annalise Jimenez
date: 2013-03-01 22:19:18.000000000

Patch Set 2: (1 inline comment)



Line:218, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/model/TmfWithFolderElement.java -> This code was copy/pasted from the CopyTraceDialog and CopyExperimentDialog, so I guess it does not modify the object, or else there would have been an error long ago.

-------------------------------------
