DESCRIPTION

TMF: Implementation of UstMemoryAnalysisModule requirements

The events needed by the analysis are added as requirements. We also add the
information that the libc with probes should be loaded prior to start the trace
session. The lttng2.core bundle is imported to make use of the session
configuration strings.

Change-Id: Idcfb13d7ae43bb73f6631c12f4eeb52fe74976d5
Signed-off-by: Bailey Galloway xxx@xxx.xxx


COMMENTS

author: Bailey Galloway
date: 2014-04-04 15:28:41.000000000

Uploaded patch set 5.

-------------------------------------
author: Brenden Conley
date: 2014-04-04 17:24:31.000000000

Patch Set 5:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6243/

-------------------------------------
author: Brenden Conley
date: 2014-04-04 18:01:44.000000000

Patch Set 5: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6243/ : SUCCESS

-------------------------------------
author: Annalise Jimenez
date: 2014-04-07 15:56:37.000000000

Patch Set 5: Code-Review-1

(4 comments)

Some unused imports

Line:1, lttng/org.eclipse.linuxtools.lttng2.ust.core/src/org/eclipse/linuxtools/lttng2/ust/core/analysis/memory/messages.properties -> An example of how to load the libc_wrapper should be useful to add:

To do so, start the application to trace with:

LD_PRELOAD=/usr/local/lib/liblttng-ust-libc-wrapper.so ./myProgram

Line:64, lttng/org.eclipse.linuxtools.lttng2.ust.core/src/org/eclipse/linuxtools/lttng2/ust/core/analysis/memory/UstMemoryAnalysisModule.java -> Alex will say to use a linkedList instead if you do not need to access the items by index, though initializing with an initial capacity a bit higher than the number of items it will contain may make ArrayList more efficient. But Sets is also a good option, since you do not care about the order and it will avoid duplicates.

But I would not block a patch for such a reason. Others may though... ;-)

Line:16, lttng/org.eclipse.linuxtools.lttng2.ust.ui.tests/META-INF/MANIFEST.MF -> I think you don't need those 2 anymore

Line:17, lttng/org.eclipse.linuxtools.lttng2.ust.ui/META-INF/MANIFEST.MF -> I don't think you need this anymore?

-------------------------------------
author: Bailey Galloway
date: 2014-04-07 18:02:04.000000000

Patch Set 5:

(2 comments)

Line:1, lttng/org.eclipse.linuxtools.lttng2.ust.core/src/org/eclipse/linuxtools/lttng2/ust/core/analysis/memory/messages.properties -> Indeed, we'll add this as well. Do we take for account that the user already has the library?

Line:64, lttng/org.eclipse.linuxtools.lttng2.ust.core/src/org/eclipse/linuxtools/lttng2/ust/core/analysis/memory/UstMemoryAnalysisModule.java -> Interesting, we will refactor many places based on that comment :)

-------------------------------------
author: Annalise Jimenez
date: 2014-04-07 18:40:26.000000000

Patch Set 5:

(1 comment)

Line:1, lttng/org.eclipse.linuxtools.lttng2.ust.core/src/org/eclipse/linuxtools/lttng2/ust/core/analysis/memory/messages.properties -> I don't know... I think it comes with lttng-ust. And the library path is wrote is the one on my machine, installed from source. It's probably in /usr/lib/ when installed from package.

-------------------------------------
author: Bailey Galloway
date: 2014-04-07 18:52:06.000000000

Patch Set 5:

(1 comment)

Line:1, lttng/org.eclipse.linuxtools.lttng2.ust.core/src/org/eclipse/linuxtools/lttng2/ust/core/analysis/memory/messages.properties -> It's the same in my machine too.

-------------------------------------
