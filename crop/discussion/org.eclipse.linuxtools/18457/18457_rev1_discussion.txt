DESCRIPTION

Avoid flickering redraw of TmfEventsTable on open.

There is a 4 or 5 redraw of the Events table caused by the columns pack.
To avoid flickering, it's better to disable the redraw of the table.

I didn't try this fix on linux.

Change-Id: Idcfd1f5a79faee8ae0c31b268c67576ba1547760
Signed-off-by: Jordon Obrien xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-11-16 06:51:04.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3975/

-------------------------------------
author: Brenden Conley
date: 2013-11-16 07:21:34.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3975/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2013-11-17 05:33:19.000000000

Patch Set 1: Verified+1 Code-Review+1 IP-Clean+1

I never noticed any flickering, but the patch doesn't break anything (Ubuntu 14.04 + Eclipse 4.4).

-------------------------------------
author: Jordon Obrien
date: 2013-11-17 05:35:17.000000000

Patch Set 1:

I did the demo to Mathieu.
Maybe it is only visible on windows.
I can show you the demo.

-------------------------------------
author: Braxton Mccarthy
date: 2013-11-17 05:41:02.000000000

Patch Set 1:

Yeah, that's what I meant, maybe the flickering happens only on Windows. I added Patrick to the reviewers, he's on Windows too.

-------------------------------------
author: Luciana Barry
date: 2013-11-18 18:12:24.000000000

Patch Set 1: Verified+1 Code-Review-1 IP-Clean+1

Works fine and helps on my Windows machine too.
Could you resubmit it on master branch though?

-------------------------------------
author: Jordon Obrien
date: 2013-11-18 21:53:10.000000000

Patch Set 1:

I do not necessary agree on pushing on master because this feature is not use anywhere else and need to be beta test first.

We are used to push on stable version only when the fix is for something "broken". A glitch is a nice to have.

But, but... it's your code base and I'll follow your recommendation.

-------------------------------------
author: Luciana Barry
date: 2013-11-19 15:58:13.000000000

Patch Set 1:

The stable branch is 'stable-2.1'. The branch 'master' is for current development. The branch 'lttng-luna' is a special future branch, because we just can't wait to break API's ;)

Beta test is what 'Verified' by the reviewer is for...

-------------------------------------
author: Jordon Obrien
date: 2013-11-19 16:00:44.000000000

Patch Set 1:

k, in fact, the code for re-enabling should be in a try-finally. Otherwise, you could have a case, with an exception, where no redraw will ever take place again. :)
I'll clean this soon.

-------------------------------------
author: Luciana Barry
date: 2013-11-20 20:59:36.000000000

Patch Set 1:

I'm not sure if the try-finally is really necessary. It's more robust, but if there is a runtime exception, other things will be broken (for example, we would be stuck with the 'cache update busy' flag set to true). Having our code base protected from runtime exceptions seems like a daunting task...

-------------------------------------
author: Jordon Obrien
date: 2013-11-20 23:03:44.000000000

Patch Set 1:

move to master.
I don't know how to move the branch, thus I created a new one.

-------------------------------------
author: Jordon Obrien
date: 2013-11-20 23:03:53.000000000

Abandoned

move to master

-------------------------------------
