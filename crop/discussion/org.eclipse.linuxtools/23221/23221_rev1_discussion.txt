DESCRIPTION

ctf: potential memory optimization

This patch leads to a 300x memory improvement in lttng kernel traces
but a performance regression. To be investigated please.

Change-Id: I655fa7b8ae94d742ee79d879bbbb5b2ddeec1374
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2014-03-11 21:15:40.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2014-03-11 21:15:46.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5884/

-------------------------------------
author: Brenden Conley
date: 2014-03-11 22:01:26.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5884/ : SUCCESS

-------------------------------------
author: Annalise Jimenez
date: 2014-03-13 20:42:56.000000000

Patch Set 1: Verified+1

I'm not very familiar with this part of the code so I can't really review this effectively, but it does improve on the memory for a big big trace (originally 989 MB max, now 650).

But the messages has me worrying: Can you define performance regression?

-------------------------------------
author: Ivy Mitchell
date: 2014-03-20 15:52:38.000000000

Patch Set 1:

Here are some specs:

Before fix: 


avg sequential read speed = 650 ns/event

avg seek time = 3 ms

After fix: 


avg sequential read speed = 2000 ns/event

avg seek time = 9 ms

-------------------------------------
