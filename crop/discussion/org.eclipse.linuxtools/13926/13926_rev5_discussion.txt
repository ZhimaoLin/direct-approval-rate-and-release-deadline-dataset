DESCRIPTION

Perf: Add stat diff view toolbar actions to switch between old/new/diff data.

* Introduce PerfDataFile class to encapsulate file-to-string logic.
* Introduce BaseDataManipulator to reuse existing functionality.
	- Refactor handlers to use this base class where useful.
* Allow access to inspect/replace contents of stat-diff views.
* Store old/new data of specific stat comparisons in temp files.
* Add timestamp to stat diff view.
* Add test cases.

Change-Id: I78346fada37a2a7710a1b2a799023efbe1ffde01


COMMENTS

author: Octavio Lucero
date: 2013-06-24 21:25:37.000000000

Uploaded patch set 5.

-------------------------------------
author: Brenden Conley
date: 2013-06-24 21:25:43.000000000

Patch Set 5:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/2756/

-------------------------------------
author: Brenden Conley
date: 2013-06-24 21:41:27.000000000

Patch Set 5: Verified+1

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/2756/ : SUCCESS

-------------------------------------
author: Nathanael Holden
date: 2013-07-02 18:08:59.000000000

Patch Set 5: Code-Review-1

(3 comments)

Line:23, perf/org.eclipse.linuxtools.perf/src/org/eclipse/linuxtools/internal/perf/BaseDataManipulator.java -> If we make this the class name, I think we should rename AbstractDataManipulator to something that better describes that the class manipulates data derived from some program's execution (eg. ExecutedDataManipulator). This could be done after this gets approved.

Line:242, perf/org.eclipse.linuxtools.perf/src/org/eclipse/linuxtools/internal/perf/StatComparisonData.java -> How about just caching the file content somewhere so that it stays in memory rather than doing a file access every time the view contents are changed. Maybe we could have the cache globally available in PerfPlugin.

Line:23, perf/org.eclipse.linuxtools.perf/src/org/eclipse/linuxtools/internal/perf/handlers/PerfStatDiffMenuAction.java -> These buttons looks strange when rendered on the toolbar. They seem larger than the toolbar's height for me. Perhaps we could just use icons with tooltip text ?

-------------------------------------
author: Octavio Lucero
date: 2013-07-02 18:18:11.000000000

Patch Set 5:

(3 comments)

Line:23, perf/org.eclipse.linuxtools.perf/src/org/eclipse/linuxtools/internal/perf/BaseDataManipulator.java -> I'll take a note of that.

Line:242, perf/org.eclipse.linuxtools.perf/src/org/eclipse/linuxtools/internal/perf/StatComparisonData.java -> Agreed, the launch config can be manipulated to create fairly large perf-stat files. Caching them in the PerfPlugin is a good idea, I'll try it out.

Line:23, perf/org.eclipse.linuxtools.perf/src/org/eclipse/linuxtools/internal/perf/handlers/PerfStatDiffMenuAction.java -> The buttons seem to render fine for me, but I agree that having icons/tooltips looks better and is more consistent other views.

-------------------------------------
