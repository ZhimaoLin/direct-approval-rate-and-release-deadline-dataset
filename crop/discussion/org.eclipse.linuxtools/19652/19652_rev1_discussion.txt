DESCRIPTION

ctf: isolate the abstraction of memory map byte-buffer.

The concept of the memory map mechanism should not be exposed
outside the StreamInput. This is internal to StreamInput.
The API should exposed : give me a byte buffer (I don't care how).

Change-Id: I832d2776845a07173f4ef7cb47fd9c75c7db73bf
Signed-off-by: Jordon Obrien xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-12-11 15:21:14.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4582/

-------------------------------------
author: Ivy Mitchell
date: 2013-12-11 15:27:28.000000000

Patch Set 1: Code-Review+1 IP-Clean+1

This looks good to me. Last time we used a bytebuffer and had a 100% performance regression (took twice as long to read an event) We were keeping it there to make sure people don't make the mistake again. Your patch does make the code more readable though.

-------------------------------------
author: Jordon Obrien
date: 2013-12-11 15:30:37.000000000

Patch Set 1:

ByteBuffer is (for sure) a bad idea.
But, it's like others collection (ArrayList vs LinkedList), you want to manipulate the abstraction (and use the right implementation).

Breaking API is the key to code scalability in number of nodes.

This is one patch (in many others, including your refactoring) to bring CTF in a stable state.

-------------------------------------
author: Jordon Obrien
date: 2013-12-11 15:32:07.000000000

Patch Set 1:

The main idea of this patch was to hide "getFileChannel".
A low concept delegated to the stream is exposed to an upper layer of abstraction.

The "question" ask between layer is "give me bytes".

fileChannel is an internal implementation details to be hide.

-------------------------------------
author: Brenden Conley
date: 2013-12-11 15:38:18.000000000

Patch Set 1: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4582/ : FAILURE

-------------------------------------
author: Ivy Mitchell
date: 2013-12-11 15:42:02.000000000

Patch Set 1:

is it possible the tests were not updated?

-------------------------------------
