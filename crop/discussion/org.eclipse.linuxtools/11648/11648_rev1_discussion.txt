DESCRIPTION

Work around the limitation in o.e.debug.ui.launchConfigurationTabGroups.

If 2 or more Launch Configuration Tab Group providers contribute to the
same 'type' and 'mode', they will clash, and the last one encountered
will be used, regardless of which launch delegate is specified. This can
cause problems when a launch delegate uses launch configuration
attributes that a user should be able to set with a particular tab.

This workaround adds our 'Profiler Tab' to Launch Configuration Tab
Groups that might clash with ours.

Change-Id: Idae4637a8bdb36015405f5762a7d06e3ccc86477


COMMENTS

author: Brenden Conley
date: 2013-04-04 17:34:42.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/1855/ 

-------------------------------------
author: Nathanael Holden
date: 2013-04-04 17:40:09.000000000

Patch Set 1: I would prefer that you didn't submit this

After looking at https://bugs.eclipse.org/bugs/show_bug.cgi?id=288192 , it seems that the only solution is to know ahead of time what other tab group providers contribute to type='org.eclipse.cdt.launch.applicationLaunchType' , mode='profile' and make sure our Profiler Tab is contributed under theirs as well. This way a user can choose any delegate and always have the necessary tabs displayed.

I'd prefer if other were able to test/discuss this to ensure this is an acceptable solution.

-------------------------------------
author: Brenden Conley
date: 2013-04-04 17:47:15.000000000

Patch Set 1: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/1855/ : SUCCESS

-------------------------------------
author: Octavio Lucero
date: 2013-04-04 18:07:32.000000000

Patch Set 1:

When the profiling delegate is selected the profiler tab is loaded and the launch configuration tab functionality works as expected. I did notice that when selecting the ptp delegate, none of the tabs (including the C/C++ application tabs) are displayed. I also see this behaviour in master, so I'm pretty sure it was not brought by this change.

-------------------------------------
author: Octavio Lucero
date: 2013-04-04 18:50:17.000000000

Patch Set 1:

Disregard the issue I mentioned, tried the change in fresh workspace and everything works fine; profiler tab is loaded by default, and unloaded when selecting the ptp launch delegate.

-------------------------------------
author: Nathanael Holden
date: 2013-04-05 15:29:01.000000000

Patch Set 1: No score

There are some issues with this change, but they are things that can't be fixed on our end :

- We're assuming whichever tab group provider wins out, they will provide the standard Common/Arguments/Environment/Source tabs. the PTP tab group that clashes with us does this to some extent, but we should be able to provide our own.

-------------------------------------
author: Nathanael Holden
date: 2013-04-05 15:52:34.000000000

Patch Set 1: I would prefer that you didn't submit this

Temporarily set -1 so that this issue can be reproduced for now.

-------------------------------------
