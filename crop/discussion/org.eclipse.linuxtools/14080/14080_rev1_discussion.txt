DESCRIPTION

tmf: Fix fake event problem in AbstractTmfStateProvider

For a given state provider, if the last event modifies the state
AND the user calls .waitForEmptyQueue() right before closing the
tree manually, the resulting history would have an incorrect end
time and it would be impossible to query at the timestamp of the
last event.

This was due do a "fake" synchronization event being set as the
provider's current event, so when closing the history it would
use its time stamp which is effectively 0.

Remedy this by using an internal event class explicitely for this.
Thanks to J.-C. Kouam√© for finding this one!

Change-Id: I06227ca656a67991966b1d1dd15330cb97754fbe
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-06-26 18:22:35.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/2776/

-------------------------------------
author: Brenden Conley
date: 2013-06-26 18:36:16.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/2776/ : SUCCESS

-------------------------------------
author: Ricky Reeves
date: 2013-06-27 18:10:54.000000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Braxton Mccarthy
date: 2013-06-27 20:13:29.000000000

Patch Set 1: Verified+1 Code-Review+2 IP-Clean+1

-------------------------------------
