DESCRIPTION

Bug 480813 - Should provide a launch shortcut for Build Image Launch

- add a new launch shortcut: BuildDockerImageShortcut
- fix the BuildImageJob to build the image with a default name so
  it can be tagged in the future and will show up even when Image
  filtering is on
- fix BuildImageJob to use Dockerfile as the name to look for
- add a config_id to IBuildDockerImageLaunchConstants so that it is
  centralized
- add a getActiveWorkbenchShell method to Docker UI Activator plug-in
- add a toString() method to DockerConnection which returns the
  connection name

Change-Id: I89f59f0fb4fcf2bee2edc5f7856aee15cd2b254b


COMMENTS

author: Kaylin Maxwell
date: 2015-10-27 20:14:10.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2015-10-27 20:14:16.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9999/

-------------------------------------
author: Brenden Conley
date: 2015-10-27 20:29:32.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9999/ : SUCCESS

-------------------------------------
author: Zechariah Krause
date: 2015-10-28 16:52:15.000000000

Patch Set 1: Code-Review-1

(3 comments)

Found issues while testing, the main ones being that the list of available connections shows a list of <unknown> values instead of the actual connection names and a new launch configuration will be created even if one already exists.

Line:98, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/BuildDockerImageShortcut.java -> For existing launch configurations, this method returns the path to the base directory, not the path to the Dockerfile, so the comparison fails and a new configuration is prompted for creation.

Line:182, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/BuildDockerImageShortcut.java -> I would set the value to "true" since it was selected in the project explorer

Line:255, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/BuildDockerImageShortcut.java -> Here I have 4 connections and the dialog shows 4 lines with <unknown> as a label.

-------------------------------------
author: Kaylin Maxwell
date: 2015-10-28 20:31:35.000000000

Patch Set 1:

(3 comments)

Line:98, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/BuildDockerImageShortcut.java -> Fixed.  Should have removed the last segment from the resource location which is Dockerfile.

Line:182, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/BuildDockerImageShortcut.java -> Since we are using an absolute path (from resource.getLocation()), the path is not relative.

Line:255, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/BuildDockerImageShortcut.java -> Done  Was using the wrong ILabelProvider.

-------------------------------------
author: Gerrit Code Review
date: 2015-10-30 09:32:33.000000000

Change has been successfully cherry-picked as 574dbcea0f09eba5005f9be5b19e298eb0dff9b4 by Zechariah Krause

-------------------------------------
