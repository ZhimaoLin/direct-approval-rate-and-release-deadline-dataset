DESCRIPTION

tmf: Support locale in timestamp format and time preferences

Bug: 439917
Change-Id: I14b90bed61ed0f6174f27852fa7fad72bfa5d41e
Signed-off-by: Luciana Barry xxx@xxx.xxx

COMMENTS

author: Kaeden Tapia
date: 2014-09-22 21:43:30.000000000

Patch Set 2: Commit message was updated

-------------------------------------
author: Brenden Conley
date: 2014-09-22 21:43:36.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9043/

-------------------------------------
author: Kaeden Tapia
date: 2014-09-22 22:24:27.000000000

Patch Set 2: Code-Review-1

(3 comments)

Some questions

Line:260, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/timestamp/TmfTimestampFormat.java -> Does it make more sense to call TmfTimePreferences.getInstance().getLocale() here?

Line:272, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/timestamp/TmfTimestampFormat.java -> and here

Line:537, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/timestamp/TmfTimestampFormat.java -> Why is this new line needed? Is it because the milliseconds will be handled in parseSubSeconds?

-------------------------------------
author: Brenden Conley
date: 2014-09-22 22:28:10.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9043/ : SUCCESS

-------------------------------------
author: Luciana Barry
date: 2014-09-23 17:00:31.000000000

Patch Set 2:

(2 comments)

Line:260, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/timestamp/TmfTimestampFormat.java -> Not sure. Food for thought:
- If we use the preference settings locale we should also use the preference settings time zone.
- If we don't use the default locale we have to change the internal Calendar accordingly.
- Currently only the 'default time format' uses the preference settings time zone. Every other time format uses the default time zone (unless time zone is specified in the constructor).

Line:537, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/timestamp/TmfTimestampFormat.java -> Yes. And when the time was negative (e.g. 1969), a non-zero negative fraction of second was decrementing the second by 1.

-------------------------------------
author: Kaeden Tapia
date: 2014-09-23 17:25:23.000000000

Patch Set 2: Verified+1 Code-Review+2

(1 comment)

Line:260, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/timestamp/TmfTimestampFormat.java -> It sounds like we can keep it as is for now. I don't think I'd want to mess around with the time zone at the same time.

-------------------------------------
