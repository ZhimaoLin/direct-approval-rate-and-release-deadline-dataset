DESCRIPTION

Bug 508282 - Unable to list image tags on DockerHub

Refactored the code in the AbstractRegistry class to move the logic of
retrieving the tags by type of registry in private methods, and
implemented
the workflow to retrieve a Bearer token if needed when querying on
DockerHub.

Also, providing the resulting list of tags in a sorted, reverse order.

Added a few tests to verify the parsing of the 'Www-Authenticate'
response header,
and verify that the list of tags for an official image (eg: "php") and a
regular image (eg: "jboss/wildfly") can be retrieved. These tests are
temporarily ignored because they fail on Hudson (can the salve machine
connect to Docker Hub ?)

Also: refactored some loops to use the Stream API.

Change-Id: I60d7d71188e2e6e3d19a32e6fb1e53cb11605bf8
Signed-off-by: Zechariah Krause xxx@xxx.xxx
Reviewed-on: https://git.eclipse.org/r/85887
Tested-by: Brenden Conley
Reviewed-by: Kaylin Maxwell <Chasity xxx@xxx.xxx


COMMENTS

author: Gerrit Code Review
date: 2016-11-29 21:17:57.000000000

Change has been successfully cherry-picked as 1f01289c7cbcf30ef593a0ad06448ed3c4e984ac by Kaylin Maxwell

-------------------------------------
author: Kaylin Maxwell
date: 2016-11-29 21:18:04.000000000

Patch Set 6: Cherry Picked

This patchset was cherry picked to branch stable-5.2 as commit d84858b876393053dfcea81f4ea4cbe9307b5bcb

-------------------------------------
