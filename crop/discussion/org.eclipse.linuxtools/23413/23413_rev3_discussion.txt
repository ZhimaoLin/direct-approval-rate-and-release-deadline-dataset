DESCRIPTION

tmf: Improve time graph combo responsiveness

- Optimize computation of visible expanded items list and prevent
unnecessary recomputation.

- Optimize alignment of tree and time graph item heights and only align
currently visible items.

- Remove the paint listener used to align item heights and add a common
method to simultaneously align the top index and the item heights when
necessary.

Change-Id: I4aedb6ca5973f867288a8334d92c53e688b775fe
Signed-off-by: Luciana Barry xxx@xxx.xxx


COMMENTS

author: Luciana Barry
date: 2014-03-19 13:58:59.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2014-03-19 13:59:05.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6034/

-------------------------------------
author: Brenden Conley
date: 2014-03-19 14:45:56.000000000

Patch Set 3: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6034/ : SUCCESS

-------------------------------------
author: Kaeden Tapia
date: 2014-03-19 18:24:36.000000000

Patch Set 3:

It looks like it's still happening. I get the exception when scrolling after filtering. Let me know if you need help to reproduce it.

org.eclipse.swt.SWTException: Widget is disposed
	at org.eclipse.swt.SWT.error(SWT.java:4441)
	at org.eclipse.swt.SWT.error(SWT.java:4356)
	at org.eclipse.swt.SWT.error(SWT.java:4327)
	at org.eclipse.swt.widgets.Widget.error(Widget.java:476)
	at org.eclipse.swt.widgets.Widget.checkWidget(Widget.java:413)
	at org.eclipse.swt.widgets.TreeItem.getBounds(TreeItem.java:467)
	at org.eclipse.linuxtools.tmf.ui.widgets.timegraph.TimeGraphCombo.alignTreeItems(TimeGraphCombo.java:1065)
	at org.eclipse.linuxtools.tmf.ui.widgets.timegraph.TimeGraphCombo.access$4(TimeGraphCombo.java:1040)
	at org.eclipse.linuxtools.tmf.ui.widgets.timegraph.TimeGraphCombo$6.handleEvent(TimeGraphCombo.java:507)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4425)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1388)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1412)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1397)
	at org.eclipse.swt.widgets.Widget.sendKeyEvent(Widget.java:1424)
	at org.eclipse.swt.widgets.Widget.gtk_key_press_event(Widget.java:824)
	at org.eclipse.swt.widgets.Control.gtk_key_press_event(Control.java:3266)
	at org.eclipse.swt.widgets.Composite.gtk_key_press_event(Composite.java:777)
	at org.eclipse.swt.widgets.Widget.windowProc(Widget.java:2088)
	at org.eclipse.swt.widgets.Control.windowProc(Control.java:5498)
	at org.eclipse.swt.widgets.Tree.windowProc(Tree.java:3516)

-------------------------------------
author: Kaeden Tapia
date: 2014-03-19 20:43:50.000000000

Patch Set 3: Verified-1

-------------------------------------
