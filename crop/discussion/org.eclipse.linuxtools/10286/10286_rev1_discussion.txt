DESCRIPTION

ctf: Avoid re-downloading the test traces

Do not download the test traces if they are already present
on the file system (skipexisting="true").

ignoreerrors="true" was also added, so that if the traces cannot
be downloaded for some reason, at least it doesn't fail the
complete build. Some unit tests will probably fail, but that's
the lesser of the two evils.

Change-Id: I69d7cb1525005cf6426f7aa42c45ecbb4c92cdff
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-02-11 19:04:28.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/1346/ 

-------------------------------------
author: Brenden Conley
date: 2013-02-11 19:11:03.000000000

Patch Set 1: Fails

Build Failed 

https://hudson.eclipse.org/sandbox/job/linuxtools/1346/ : FAILURE

-------------------------------------
author: Nathanael Holden
date: 2013-02-11 19:26:36.000000000

Patch Set 1: (1 inline comment)

Alexandre, please refer to my comment (need to either set the version, or inherit our version from the top level pom)

Line:42, lttng/org.eclipse.linuxtools.ctf.core.tests/pom.xml -> Please set your version to 1.7. The skipexisting property is new in Ant 1.8. By default maven-antrun-plugin 1.2 brings in ant 1.6.5 (http://mvnrepository.com/artifact/org.apache.maven.plugins/maven-antrun-plugin/1.2) if nothing is explicitly specified. maven-antrun-plugin 1.7 brings in Ant 1.8.2 (http://mvnrepository.com/artifact/org.apache.maven.plugins/maven-antrun-plugin/1.7)

-------------------------------------
author: Braxton Mccarthy
date: 2013-02-11 19:31:20.000000000

Patch Set 1:

Thanks Roland, I was wondering why the skipexisting was not recognized... I'm really not an expert on this stuff ;)

I'm wondering also what would happen if the file cannot be downloaded, wouldn't the untar/bunzip commands give a fatal error? Those don't seem to support ignoreerrors attributes...

-------------------------------------
