DESCRIPTION

tmf: Rework trace import wizard

- Use standard directory and file trees from the base import resource
wizard. This fixes the problem of UI freezes in the previous
implementation when setting the checked state of a large file system
tree. Instead of having on single tree for directories and files there
are 2 trees side-by-side, one for directories and one for the files of
the highlighted directory.

- Introduce TraceFileSystemElement class for the tree viewers
This class extends FileSystemElement that is used in the standard
tree viewers of base import wizard class and it supports lazy
loading of the children elements.

- Only import directories as traces if they are valid directory
traces. This avoids directories to be imported when they are selected
in the tree. Right now only CTF traces are considered for that. A
generic solution needs to implemented for that.

- Don't try to validate a trace when changing the selection state
and a trace type is selected. The validation of traces can be very
long if many files and directories are selected and we don't want
to do that for each selection change. The trace type validation
is now only done after pressing the finish button.

- Directories are validated first using trace types for directories
By doing that, valid directory traces are not considered for file
trace types

- Support for auto detection of trace types
When this option is selected the wizard tries to detect automatically
the trace type. For CTF traces (directories) this is working well.
For file traces additional code is needed to detect the valid trace
type.

- Possibly long validation and import operation can now be cancelled.

- New checkbox to import unrecognized traces or to omit them
During auto detection it might happen that a trace type is not found
for a given file. This new checkbox allows the use to import the
unrecognized traces or to omit them. This checkbox value is persisted
in the dialog settings and loaded when opening the wizard afterwards.

- Trace type selection combo box has now sorted entries

Change-Id: I4920ad1d1de40e7665f1394549d3ff945b91d870
Signed-off-by: Ricky Reeves <Meredith xxx@xxx.xxx


COMMENTS

author: Kaeden Tapia
date: 2014-02-11 23:30:03.000000000

Uploaded patch set 2.

-------------------------------------
author: Kaeden Tapia
date: 2014-02-11 23:59:33.000000000

Patch Set 2: Code-Review-1

(2 comments)

Line:620, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/project/model/TmfTraceType.java -> Should be 3.0

Line:636, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/project/model/TmfTraceType.java -> Should be 3.0

-------------------------------------
author: Ricky Reeves
date: 2014-02-12 01:19:20.000000000

Patch Set 2:

(5 comments)

Line:242, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/project/model/TmfTraceType.java -> needs to be removed

Line:254, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/project/model/TmfTraceType.java -> needs to be removed

Line:262, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/project/model/TmfTraceType.java -> We don't need that line in master anymore

Line:620, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/project/model/TmfTraceType.java -> Acutally it needs to be removed since class is marked as since 3.0

Line:636, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/project/model/TmfTraceType.java -> Done

-------------------------------------
author: Brenden Conley
date: 2014-02-12 01:46:54.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5412/

-------------------------------------
author: Brenden Conley
date: 2014-02-12 02:42:50.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5412/ : SUCCESS

-------------------------------------
