DESCRIPTION

tmf: Work around SWTBot test hang in the presence of GTK3

With GTK3, the SWTBot test hangs as soon as a Display.syncExec
is called on the swtbot thread (non-UI) which seems like a bug
in SWT. For now, GTK3 can be disabled by setting the SWT_GTK3
environment variable to 0. Note that for Kepler GTK2 is still
used by default so this is not a problem.

Change-Id: I4a5026f616ab032d95e90e4ad80cea665d552d3c
Signed-off-by: Alivia Ritter xxx@xxx.xxx


COMMENTS

author: Kaeden Tapia
date: 2014-01-13 20:51:44.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2014-01-13 20:51:49.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5010/

-------------------------------------
author: Brenden Conley
date: 2014-01-13 21:03:00.000000000

Patch Set 3: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5010/ : FAILURE

-------------------------------------
author: Ivy Mitchell
date: 2014-01-13 22:04:34.000000000

Patch Set 3:

This patch works for me and looks good. I will restart the buils since gcov was the point of failure.

-------------------------------------
author: Ivy Mitchell
date: 2014-01-13 22:04:54.000000000

Patch Set 3: Verified+1 Code-Review+2 IP-Clean+1

-------------------------------------
author: Kaeden Tapia
date: 2014-01-13 22:06:27.000000000

Patch Set 3:

Alexandre, could you test the latest patch on 14.04? It contains a workaround for the webkit crash.

-------------------------------------
author: Braxton Mccarthy
date: 2014-01-14 18:46:11.000000000

Patch Set 3:

It fixes the Webkit crash. However now I'm getting a test error:

Tests in error: 
  test(org.eclipse.linuxtools.tmf.ui.swtbot.tests.ImportAndReadSmokeTest): Could not find widget matching: (of type 'Button' and with mnemonic 'Next >' and with style 'SWT.PUSH')

-------------------------------------
author: Braxton Mccarthy
date: 2014-01-14 23:21:58.000000000

Patch Set 3: Verified+1 Code-Review+2 IP-Clean+1

Ok finally after running it in a nested X-server (so that moving the mouse doesn't fail the test), it works reliably.

-------------------------------------
author: Brenden Conley
date: 2014-01-15 00:35:24.000000000

Patch Set 3: -Verified

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5039/

-------------------------------------
author: Brenden Conley
date: 2014-01-15 00:56:22.000000000

Patch Set 3: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5039/ : FAILURE

-------------------------------------
author: Brenden Conley
date: 2014-01-15 02:01:30.000000000

Patch Set 3: -Verified

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5042/

-------------------------------------
author: Brenden Conley
date: 2014-01-15 05:04:35.000000000

Patch Set 3: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5042/ : ABORTED

-------------------------------------
