DESCRIPTION

tmf: Support for selecting both traces and folders when deleting

Change-Id: Iace8f35b4e85749244291a575040fc82a901ff23
Signed-off-by: Alivia Ritter xxx@xxx.xxx


COMMENTS

author: Kaeden Tapia
date: 2014-07-24 04:21:22.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2014-07-24 04:47:50.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7924/

-------------------------------------
author: Brenden Conley
date: 2014-07-24 05:29:22.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7924/ : SUCCESS

-------------------------------------
author: Ricky Reeves
date: 2014-07-24 13:35:18.000000000

Patch Set 1: Code-Review-1 Verified+1

(7 comments)

Line:562, lttng/org.eclipse.linuxtools.tmf.ui/plugin.xml -> I don't understand this not-case here. What should it do?

Line:171, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> no task name for the subMonitor is set in this case.

Line:175, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> We need to pass the progress subMonitor here.

Line:186, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> We need to pass the progress subMonitor here.

Line:192, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> shouldn't it be subMonitor here instead of monitor?

Line:208, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> subMonitor.worked(1) treats a single trace the same way than a folder which may have many traces. This is not accurate. For example, when deleting just one folder the progress monitor is not updated regardless how many traces are in the folder.

I think, the progress monitor handling should be more accurate.

Line:236, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> Sorry for nit-picking. When having a mixed selection (trace + folder)  the message says "Are you sure you want to delete this trace" which is not accurate. The generic message should be more clear.

There is also another case for removing traces from an experiment. It should say "Remove..." instead of "Delete..." in the message as well as the title.

-------------------------------------
author: Kaeden Tapia
date: 2014-07-24 23:06:11.000000000

Patch Set 1:

(7 comments)

Line:562, lttng/org.eclipse.linuxtools.tmf.ui/plugin.xml -> It's because we don't want to show "Delete" on the traces folders. We want to show "Clear".

Line:171, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> Done

Line:175, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> Done

Line:186, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> Done

Line:192, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> Done

Line:208, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> Done. I have reworked the progress handling.

Line:236, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DeleteTraceFolderElementHandler.java -> "Sorry for nit-picking. When having a mixed selection (trace + folder) the message says "Are you sure you want to delete this trace" which is not accurate. The generic message should be more clear."

I added a generic message mentioning "selected elements".

"There is also another case for removing traces from an experiment. It should say "Remove..." instead of "Delete..." in the message as well as the title."

That was there before but it's pretty straightforward to fix.

-------------------------------------
