DESCRIPTION

tmf: Delete experiment supp files when adding/removing trace

Bug: 421372

Change-Id: I9dde1c7988df47348e5c96ecda43df45dc062c4a
Signed-off-by: Alivia Ritter xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-11-11 22:07:08.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3882/

-------------------------------------
author: Brenden Conley
date: 2013-11-11 22:41:25.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3882/ : SUCCESS

-------------------------------------
author: Ricky Reeves
date: 2013-11-12 14:58:46.000000000

Patch Set 1: Verified+1 Code-Review+1 IP-Clean+1

Please double-check with Genevieve if change in TmfExperimentElement.removeTrace(...) is ok when calling it from SynchronizeTracesHandler

-------------------------------------
author: Annalise Jimenez
date: 2013-11-12 20:45:32.000000000

Patch Set 1:

It does not delete the supplementary file in the following case:

* Do a trace synchronization
* Without opening the experiment or touching anything, just right-click on one of the trace of the experiment to remove it.  The files are still there.

But it may have to do with the way the experiment is built after the synchronization more than your code.  I'll review that soon (one of the few small issues that are the reason why I'll revisit the synchronization soon). 

So just push it and I'll adapt.

-------------------------------------
author: Kaeden Tapia
date: 2013-11-12 21:12:35.000000000

Patch Set 1:

I don't get any supplementary files if I don't open the experiment. Here's what I'm doing:

1. Import the two synchronization test traces
2. Create the experiment
3. Add the two synchronization test traces
4. Synchronize
5. Right-click on the trace under the experiment, remove
6. Right-click on the experiment, there is no supplementary file

-------------------------------------
author: Annalise Jimenez
date: 2013-11-13 16:41:28.000000000

Patch Set 1: Verified+1

More information on the bug: if I delete the trace that was copied just copied, it works ok.  It's one of the other traces.

but go ahead and commit this. The bug is actually in the sync because when it does not delete the supplementary files, the element does not appear to be an experiment element (right-clicking does not show the full context menu of experiments). I need to open it for it to become an experiment again.

-------------------------------------
author: Kaeden Tapia
date: 2013-11-14 19:11:27.000000000

Patch Set 1: Code-Review+2

-------------------------------------
