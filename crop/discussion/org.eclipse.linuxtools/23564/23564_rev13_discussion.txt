DESCRIPTION

lttng: Add Lttng relayd connector

This allows connections to the lttng session daemon so that live trace
reading can work.

Change-Id: Ida7f76f09d3f01a25b67cc552cb5869dc5e4c3a4
Signed-off-by: Ivy Mitchell xxx@xxx.xxx
Signed-off-by: Alivia Ritter xxx@xxx.xxx


COMMENTS

author: Braxton Mccarthy
date: 2014-04-22 23:12:13.000000000

Uploaded patch set 13.

-------------------------------------
author: Braxton Mccarthy
date: 2014-04-22 23:24:27.000000000

Patch Set 13: Code-Review-1

(1 comment)

One more comment, then about the "size" discussion:
- There are still some size() methods with no comments whatsoever.
- I don't like size(), it's easy to confuse with Collections.size(). For public methods in specific objects, you could have getPacketSize(), getResponseSize() etc. IFixedSize is unnecessary.
- Having some private methods where size() actually means something different (only first packet) is crazy design. You know today, but 2 months from now nobody will remember, and we'll have lots of fun debugging size problems. Specific methods names, like sizeOfFirstPacket() etc. would be safer.
- If there is no interface, then the methods can be static (if the size is constant, of course). If it's static, it should be a public static final int, not a method. Methods should be only where the size can vary from one object to another.

Line:60, lttng/org.eclipse.linuxtools.lttng2.core/src/org/eclipse/linuxtools/internal/lttng2/core/relayd/lttngviewerCommands/ConnectResponse.java -> using enum.values() or ordinal() etc. is bad in general. If you change the order of the declaration, then all existing code breaks. And here, in the enum you define (1, 2) as the "fCode", but here the values() checks for (0, 1). I dare hope this breaks some tests ;)

The way from patch set 11 looked better, I'll let you udpate it as I'm not sure what is the expected behavior (1,2) or (0,1).

-------------------------------------
author: Brenden Conley
date: 2014-04-23 13:47:12.000000000

Patch Set 13:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6580/

-------------------------------------
author: Brenden Conley
date: 2014-04-23 14:18:39.000000000

Patch Set 13: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6580/ : ABORTED

-------------------------------------
