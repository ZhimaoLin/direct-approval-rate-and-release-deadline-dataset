DESCRIPTION

tmf: Fix IndexOOB exception in HT node with concurrent read/write

Similar to bug #432191, but with the History Tree backend. It's possible
for an attribute to be created, sent to the backend, and written to a
node, all while a query is ongoing. (That's a race condition where you
race a Formula 1 against a turtle, but the turtle somehow arrives first).

Simply ignore those new attributes, since their value at time 't' would be
null anyway.

Change-Id: I072a08e84795a321c3b2bb393d9880ac4ba13a6a
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Braxton Mccarthy
date: 2014-04-08 21:22:43.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2014-04-08 22:13:16.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6305/

-------------------------------------
author: Brenden Conley
date: 2014-04-08 22:49:02.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6305/ : SUCCESS

-------------------------------------
author: Annalise Jimenez
date: 2014-04-09 14:07:25.000000000

Patch Set 1: Code-Review+1

(1 comment)

That should indeed solve it.

You may push or correct the comment, it was there before, it can be there again. If you do, you have my +1 on it.

Line:391, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/backends/historytree/HTNode.java -> While there, if you feel like it, you might correct the comment "since we now the..." -> "since we know the..."

-------------------------------------
author: Ivy Mitchell
date: 2014-04-09 14:18:01.000000000

Patch Set 1: Code-Review+1

100% with Genevieve.

Could not reproduce the bug but it works normallly. Can that be a +0.5 verified?

-------------------------------------
author: Luciana Barry
date: 2014-04-09 14:18:27.000000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Braxton Mccarthy
date: 2014-04-09 16:42:14.000000000

Patch Set 1: Code-Review+2

-------------------------------------
