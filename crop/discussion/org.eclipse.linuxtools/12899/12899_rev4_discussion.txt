DESCRIPTION

tmf: fix import trace wizard changing trace types after directory

Change-Id: I6cf1b30839f2ff4ffa80e8a7d29a0326d9bf8a89
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-05-23 18:58:16.000000000

Uploaded patch set 4.

-------------------------------------
author: Brenden Conley
date: 2013-05-23 19:25:56.000000000

Patch Set 4:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/2424/ 

-------------------------------------
author: Brenden Conley
date: 2013-05-23 19:46:03.000000000

Patch Set 4: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/2424/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2013-05-23 22:51:40.000000000

Patch Set 4: I would prefer that you didn't submit this

(5 inline comments)



Line:70, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/ImportTraceWizardScanPage.java -> private final

Line:425, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/ImportTraceWizardScanPage.java -> { on same line

Line:38, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/ImportTraceContentProvider.java -> these should be private

Line:113, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/ImportTraceContentProvider.java -> FileAndName.compareTo() ultimately does String.compareTo(), which can be arbitrarily slow. This would be better with a HashSet.

Line:619, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/BatchImportTraceWizard.java -> Any reason why fScanPage isn't declared as a ImportTraceWizardScanPage instead?

-------------------------------------
author: Ricky Reeves
date: 2013-05-24 11:46:14.000000000

Patch Set 4: (1 inline comment)



Line:366, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/ImportTraceWizardScanPage.java -> You don't need to store the monitor in a private member and access it through the getMonitor() method. Just add final to monitor and then you can use it in the run method and any spawned threads (asyncExec).

So, remove method getMonitor()  and member fMonitor and use a final in definition: public IStatus run(final IProgressMonitor monitor)

-------------------------------------
