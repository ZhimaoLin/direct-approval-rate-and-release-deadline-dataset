DESCRIPTION

[Oprofile] - Support to multiple events in Oprofile plugin

this patch enable oprofile plugin to support multiple events in oprofile view.
we also changed oprofile tree hierarchy now session can be viewed as top element
in tree followed by events.each session can have multiple events.

Signed-off-by: Camila Montgomery xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2014-01-27 11:15:57.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5191/

-------------------------------------
author: Brenden Conley
date: 2014-01-27 11:53:42.000000000

Patch Set 1: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5191/ : FAILURE

-------------------------------------
author: Nathanael Holden
date: 2014-01-27 15:34:11.000000000

Patch Set 1:

Isn't this already supported ? https://git.eclipse.org/r/19135/ introduced support for multiple events using operf. Also, opcontrol already supports multiple events, though i'm not sure if it's possible to specify more events than available hardware counters.

-------------------------------------
author: Elizabeth Figueroa
date: 2014-01-27 18:54:41.000000000

Patch Set 1:

Hi Roland,
As far as i know multiple event selection is already supported by operf. although opcontrol did not support same.

In my patch i did two things

1. i have added one more list viwer in in event tab page with add/add all/remove/remove all button option. so end user do not have to remember selected event if event list is huge. he/she easily add/remove events from list.

2.second important changes i done by changing oprofile view tree hierarchy , as of now we had event had top most element in tree which look odd sometime . I made session as top level element in tree followed by multiple events as child.

-------------------------------------
author: Elizabeth Figueroa
date: 2014-01-27 18:56:31.000000000

Patch Set 1:

So i don't think this patch is duplicate of  https://git.eclipse.org/r/19135/.

-------------------------------------
author: Craig Arias
date: 2014-01-28 15:48:32.000000000

Patch Set 1: Code-Review-1

(2 comments)

I agree that this patch is for improving the UI for multiple events and not to add the support for multiple events. 

Roland, are you comfortable in having sessions as the root nodes?

Also, opcontrol can only profile one event per counter (one event in each tab), hence there should be a verification so that no more events are added to the second list when opcontrol is in use.

Line:647, oprofile/org.eclipse.linuxtools.oprofile.launch/src/org/eclipse/linuxtools/internal/oprofile/launch/configuration/AbstractEventConfigTab.java -> Please verify the commented code that were inserted by you. Check if they are wrongly commented or remove please.

Line:68, oprofile/org.eclipse.linuxtools.oprofile.ui/src/org/eclipse/linuxtools/internal/oprofile/ui/view/OprofileViewSaveDefaultSessionAction.java -> remove if not needed. Also, fyi, linuxtools has a policy of using {} always when opening and closing.

-------------------------------------
author: Nathanael Holden
date: 2014-01-28 16:08:19.000000000

Patch Set 1:

I'm fine with (2) . I think having sessions as the top elements with the tree hierarchy makes sense.

Regarding (1) , I haven't looked too deeply at this, but if we decide to list all the selected events in a separate list viewer, then it makes sense to always show just one tab. This approach would make operf/opcontrol event selection more similar.

Currently we have a tab and list viewer for every hardware counter available. In the case of operf we just show one tab since the user isn't limited by the number of hardware counters.

-------------------------------------
author: Craig Arias
date: 2014-01-28 17:26:19.000000000

Patch Set 1:

I agree, Camila Montgomery, do you think you could modify the behavior according to Roland suggestion (i.e., for opcontrol instead of opening multiple tabs, open just one like in operf and forbid to include more events than the number of counters)?

-------------------------------------
author: Elizabeth Figueroa
date: 2014-01-28 17:38:00.000000000

Patch Set 1:

Hi Rodrigo,
It make sense to keep compatibility between Opcontrol & Operf. 

i am agree with Roland suggestion. will modify my patch and upload new one soon.

-------------------------------------
author: Craig Arias
date: 2014-02-04 15:50:30.000000000

Abandoned

Moved to https://git.eclipse.org/r/21217

-------------------------------------
