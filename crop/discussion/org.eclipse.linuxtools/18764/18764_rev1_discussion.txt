DESCRIPTION

TMF: TimeGraphPresentationProvider can notify listeners of color change

Bug 419282: If a presentation provider see its state table change and modify
colors, it fires a notification to listeners
The TimeGraphControl implements that listening interface.

Change-Id: I985576b10e0f5dcff154c555c307433193065d81
Signed-off-by: Aryana Jones xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-11-22 21:48:23.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4099/

-------------------------------------
author: Brenden Conley
date: 2013-11-22 22:38:39.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4099/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2013-11-23 08:49:27.000000000

Patch Set 1: Code-Review-1

(5 comments)

Looks like a good idea. Does this mean we'll eventually be able to customize the colors in the CFV straight from the UI? ;)

Line:84, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> mein eyes!

While here, could you wrap this on many lines plz?

Line:2423, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> Minor optimization, but the empty array could be stored in a private static field, so you don't instantiate a new one every time this is called.

Line:2429, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> The above method could be moved in here (and the setTimeGraphProvider could call the public method). It would save one method.

Line:42, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphPresentationProvider.java -> final? :D

Line:164, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphPresentationProvider.java -> This javadoc is already in ITimeGraphPresentationProvider2, no need to repeat it if it's not changed.

-------------------------------------
author: Jordon Obrien
date: 2013-11-24 03:30:07.000000000

Patch Set 1:

(4 comments)

Drive-by.
Modification seems good to me, modulo nits (and alex comments).

Line:44, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/ITimeGraphPresentationProvider2.java -> Ditto: javadoc comment aren't there just because there are mandatory.

I pick a random example on the web, for a listener. It's meanigful for me.

addSelectionListener(SelectionListener sl) 
          Add a selection listener to be notified when the text selection changes in the document.

Line:41, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphPresentationProvider.java -> nits: which kind of listener.
It's helpful for a third person reading the code.
"Listeners to signal a color changed event." or something more meanigful.

Line:164, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphPresentationProvider.java -> I just learn this goodie, nice!

Line:168, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphPresentationProvider.java -> nits: If I respect the coding style of Eclipse (which I think is the one for TMF), no space after !.

-------------------------------------
author: Braxton Mccarthy
date: 2013-11-24 03:40:12.000000000

Patch Set 1:

(1 comment)

Line:168, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphPresentationProvider.java -> woah, how come I missed that, lol

-------------------------------------
author: Annalise Jimenez
date: 2013-11-24 04:36:47.000000000

Patch Set 1:

(1 comment)

Line:168, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphPresentationProvider.java -> Alex, you disappoint me.  How could you miss an easy shot like that at 3:50 AM!!

-------------------------------------
author: Annalise Jimenez
date: 2013-11-25 15:02:19.000000000

Patch Set 1:

(1 comment)

And yes, it does mean that the user will be able to edit the state colors herself (when that is implemented in the UI of course)

Line:2423, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> Too minor, this function is called very very seldom and the 'else' is a corner case.  I don't want to add an extra field to this already full class.

-------------------------------------
author: Braxton Mccarthy
date: 2013-11-26 23:13:00.000000000

Patch Set 1:

(2 comments)

Line:2423, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> What I do sometimes is I "cheat" and add the field declaration just above the only method that uses it... like a method-specific field.

But if that doesn't happen often it's fine. We create a new array in the other branch anyway.

Line:168, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphPresentationProvider.java -> inorite!

-------------------------------------
