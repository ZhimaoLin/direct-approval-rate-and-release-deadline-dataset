DESCRIPTION

Bug 469717: Work around socket read timeout in docker-client.

attachContainer in docker-client uses the regular client which by
default has a fixed socket read timeout. When attaching to a container,
an arbitrary amount of time may pass between reads so when a timeout
occurs, simply re-attach in the reading thread.

Note that this only happens for TCP connections. The UNIX socket
implementation seems to have data traveling consistently while the TCP
implementation (Apache HttpClient) likely takes care of this
functionality itself, leaving the socket unused for longer.

Change-Id: I0ecbf64ba145bbea7cebfd9094272ffe9d371cee


COMMENTS

author: Nathanael Holden
date: 2015-08-14 16:35:58.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2015-08-14 16:36:05.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9803/

-------------------------------------
author: Brenden Conley
date: 2015-08-14 16:58:24.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9803/ : SUCCESS

-------------------------------------
author: Nathanael Holden
date: 2015-08-14 17:11:12.000000000

Patch Set 1: Code-Review+2 Verified+1

I've tested this and it fixes the issue with TCP connections while not affecting UNIX socket connections in any way.

-------------------------------------
author: Gerrit Code Review
date: 2015-08-14 17:11:28.000000000

Change has been successfully cherry-picked as 67a20d7ac317f54f17bfceaa5538aa3c49572ce4 by Nathanael Holden

-------------------------------------
