DESCRIPTION

ctf: Make CTFTrace and its reader classes AutoCloseable

Basically just replace their dipose() method with close(). This
small change allows us to benefit from the compiler warnings for
when a resource is allocated locally in a method but never disposed.

Which then allows to find leaks. Many leaks ! Many tests were leaking
CTFTraceReaders and the like, but the biggest offender is probably the
validation methods in LttngKernelTrace and LttngUstTrace: trying to
validate a non-CTF trace could potentially leak a number of file
descriptors equal to the number of files in that trace(!)

Change-Id: I7e54416b608992a14a7bfd3cd29ffb8dc3cee898
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Braxton Mccarthy
date: 2014-04-14 16:45:05.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2014-04-14 19:23:37.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6419/

-------------------------------------
author: Ivy Mitchell
date: 2014-04-14 19:55:56.000000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Brenden Conley
date: 2014-04-14 20:27:42.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6419/ : SUCCESS

-------------------------------------
