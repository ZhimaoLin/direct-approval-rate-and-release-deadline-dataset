DESCRIPTION

ctf: [rfc] Flatten fixed size structs

This patch will unroll nested arrays and structs retaining only floats,
enums and integers in a 1d array. This means we won't need to create
"useless" definitions.

Change-Id: Ia22730b6479df5b4a4f296e609bb98bdc4f1736e
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2014-05-07 03:28:45.000000000

Uploaded patch set 4.

-------------------------------------
author: Brenden Conley
date: 2014-05-07 03:36:02.000000000

Patch Set 4:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6893/

-------------------------------------
author: Brenden Conley
date: 2014-05-07 04:25:04.000000000

Patch Set 4: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6893/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2014-06-17 19:15:53.000000000

Patch Set 4: Code-Review-1

(3 comments)

As commented inline, this should probably use a StructDeclarationFactory or something of the like.

Also, why is the only constructor a copy constructor? Can't we create fixed-size structs "right away"? Having to do two objects every time probably eats up some of the potential performance improvements.

Line:9, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/FixedSizeStructDeclaration.java -> name on separate line

Line:10, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/FixedSizeStructDeclaration.java -> add empty line after

Line:41, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/FixedSizeStructDeclaration.java -> You're mostly checking "instanceof" in here. This looks like a case where making use of molyporphism would be better. How about adding a isFixedSize() to IDeclaration instead?

-------------------------------------
author: Ivy Mitchell
date: 2014-06-19 18:30:38.000000000

Patch Set 5: Patch Set 4 was rebased

-------------------------------------
