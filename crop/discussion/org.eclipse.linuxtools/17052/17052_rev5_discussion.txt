DESCRIPTION

tmf: Merge TmfDataProvider and TmfEventProvider together

Initially, there was a plan to support "traces" that had no timestamps,
and this would be handled by a DataProvider. Turns out the whole
framework requires some sort of timestamp nowadays, so this distinction
is no longer necessary.

(If a trace really does not have any timestamp, they could just use the
event rank as a sort of dummy timestamp, which is quite intuitive anyway).

This also merges Tmf{Data|Event}Request and TmfCoalesced{Data|Event}Request.

Change-Id: I734bb297d252d56902e1eb0534669b0d4088d911
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Braxton Mccarthy
date: 2013-11-21 18:12:03.000000000

Uploaded patch set 5.

-------------------------------------
author: Brenden Conley
date: 2013-11-21 18:46:28.000000000

Patch Set 5:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4076/

-------------------------------------
author: Brenden Conley
date: 2013-11-21 18:56:54.000000000

Patch Set 5: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4076/ : FAILURE

-------------------------------------
author: Brenden Conley
date: 2013-11-21 23:56:14.000000000

Patch Set 5: -Verified

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4084/

-------------------------------------
author: Brenden Conley
date: 2013-11-22 00:16:53.000000000

Patch Set 5: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4084/ : FAILURE

-------------------------------------
author: Brenden Conley
date: 2013-11-22 15:01:44.000000000

Patch Set 5: -Verified

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4093/

-------------------------------------
author: Brenden Conley
date: 2013-11-22 17:47:22.000000000

Patch Set 5: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4093/ : ABORTED

-------------------------------------
author: Annalise Jimenez
date: 2013-11-22 17:48:05.000000000

Patch Set 5:

I think the deadlock situation may be here again...

-------------------------------------
author: Annalise Jimenez
date: 2013-11-22 18:02:26.000000000

Patch Set 5:

For now, you could try commenting 
Tmf.UI.test.project.model
ProjectModelAnalysisTest#testInstantiate
ProjectModelOutputTest#testListOutputs
ProjectModelOutputTest#testOpenView

They all involve opening a trace that may send signals while being disposed of by another thread.  But we'll have to solve this one, because UI tests do want to quickly open and close traces and we cannot just deregister them from signals handling...  And we don't want to use trace stubs that change the behavior of a real trace, that's wrong for tests.

-------------------------------------
author: Ricky Reeves
date: 2013-11-22 19:25:16.000000000

Patch Set 5:

I've just pushed a fix for the failing test cases https://git.eclipse.org/r/#/c/18748/ (Sorry Genevieve that I didn't wait for you to review, Alex looked at it). I think the build will work after rebasing this patch.

Alex, could you please rebase this batch and try again

-------------------------------------
