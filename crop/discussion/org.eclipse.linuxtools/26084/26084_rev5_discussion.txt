DESCRIPTION

ctf: Introducing the FixedLengthStringDefintion

This patch introduces the fixedlength string that will make sequences
and arrays read faster when it's a string, as the ctf spec specifies
that they are aligned on 8 bits and always 8 bits wide per character.

Sequences and arrays can either be ArrayDefinition2s or
FixedStringDefintions.

This patch gives a 20% acceleration in sequential reading.

Signed-off-by: Ivy Mitchell xxx@xxx.xxx
Change-Id: I7933268b7f9271f74f7d59339ea9b8343fdb021e


COMMENTS

author: Ivy Mitchell
date: 2014-06-16 21:16:23.000000000

Uploaded patch set 5.

-------------------------------------
author: Brenden Conley
date: 2014-06-16 21:16:32.000000000

Patch Set 5:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7387/

-------------------------------------
author: Brenden Conley
date: 2014-06-16 21:33:11.000000000

Patch Set 5: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7387/ : FAILURE

-------------------------------------
author: Ivy Mitchell
date: 2014-06-16 22:06:41.000000000

Patch Set 5:

In reference to the api breakage... this patch came in on may the 6th, it is IMO a Luna latecomer. 
I consider CTF's api to be a non-api for the moment... the problem stems from tmf.ctf needing event type information. 

We should have a discussion about ctf's api at a later date.

-------------------------------------
author: Braxton Mccarthy
date: 2014-06-17 17:43:22.000000000

Patch Set 5: Code-Review-1

(5 comments)

This looks much better (on a relative scale)! Couple more comments, but once those are fixed, I wouldn't mind merging it into 3.1. We'll just have to remove the "signal deprecated in deprecated code" warning first, I'll prepare a patch for that.

Line:32, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/SequenceDeclaration.java -> Use whole path

Line:20, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/SequenceDefinition.java -> Don't import them if they are only used in doc. Use the whole paths below.

Line:36, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/ArrayDeclaration.java -> This links to this very class. Not very informative ;)

Use the whole path (internal.ctf.core.event.types.ArrayDeclaration), don't import it.

Line:33, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/ArrayDefinition.java -> use the whole path

Line:55, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/ScopedDefinition.java -> ok well if we can't remove it, it should be deprecated at least?

-------------------------------------
