DESCRIPTION

tmf: Add a column in the statistics view

Bug 383246: Add a column for statistics only in the visible window

Change-Id: Ic619c3297f815052e6c90fee7bc87097986fe6ef
Signed-off-by: Simeon Moses xxx@xxx.xxx


COMMENTS

author: Simeon Moses
date: 2012-07-27 18:40:52.000000000

Uploaded patch set 2.

-------------------------------------
author: Ricky Reeves
date: 2012-08-01 18:04:29.000000000

Patch Set 2: I would prefer that you didn't submit this

(6 inline comments)

Overall it looks good. However, please look at my comments. Also make sure that all class version numbers are xxx@xxx.xxx tags are there where applicable and fix all compiler warnings.

Line:88, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/TmfStatisticsView.java -> Here we are assuming that the TmfTimestamp value is in nanoseconds. However, The TMF Statistics implementation should be generic and it should be possible to use the view correctly for other timestamp scales. Therefore when sending the initial timerange signal we have to normalize to the time scale of the TmfTimestamp used in the trace.

Line:455, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/TmfStatisticsView.java -> Here we are assuming that the TmfTimestamp value is in nanoseconds. However, The TMF Statistics implementation should be generic and it should be possible to use the view correctly for other timestamp scales. Therefore when sending the initial timerange signal we have to normalize to the time scale of the TmfTimestamp used in the trace.

Line:625, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/TmfStatisticsView.java -> I like that you use a dedicated class for the request. Better code.

Line:3, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/messages.properties -> I think the header should indicate what the statistics mean. Global doesn't indicate that it's number of events. So use maybe "Global Event Count" or "Global Number of Events"

Line:5, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/messages.properties -> Same as above for global. It should indicate the statistic type somehow i.e. number of events.

Line:24, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/model/TmfStatistics.java -> Update version number

-------------------------------------
author: Simeon Moses
date: 2012-08-01 22:51:32.000000000

Patch Set 2: (6 inline comments)



Line:88, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/TmfStatisticsView.java -> Done

Line:455, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/TmfStatisticsView.java -> Done

Line:625, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/TmfStatisticsView.java -> Let's give the credit to those who deserves it! That was Alex idea to move it in a different class.

Line:3, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/messages.properties -> I'll change it to Global event count, but the goal was to reduce the size of the column, since the event count don't take all the width of the column and that the tooltip explain what it actually is.

As for the future, this may be interesting to provide a way to adjust the width of the columns to automatically resize itself to his content on double clicking on the right limit of the column as in spreadsheet programs.

Line:5, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/messages.properties -> Done - changed to Partial event count

Line:24, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/statistics/model/TmfStatistics.java -> Done

-------------------------------------
