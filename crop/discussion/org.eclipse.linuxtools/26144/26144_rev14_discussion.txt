DESCRIPTION

tmf: Add percentage on Statistics view

Change-Id: I70a565611e230330bc147bb92575d6606aa89311
Signed-off-by: Itzel Singleton xxx@xxx.xxx
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Itzel Singleton
date: 2014-05-13 22:22:55.000000000

Uploaded patch set 14.

-------------------------------------
author: Ivy Mitchell
date: 2014-05-14 00:21:03.000000000

Patch Set 14:

oops

-------------------------------------
author: Brenden Conley
date: 2014-05-14 00:23:54.000000000

Patch Set 14:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7005/

-------------------------------------
author: Brenden Conley
date: 2014-05-14 01:06:49.000000000

Patch Set 14: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7005/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2014-05-14 13:48:09.000000000

Patch Set 14: Code-Review-1

(7 comments)

Ok I like this approach, even better separation of the functionality!

Some comments. But we're on the right track design-wise now :)

Line:71, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/statistics/model/TmfBaseColumnDataProvider.java -> In general, I wouldn't suggest using default visibility (no "protected" or "private" modifier, makes the field package-visible only), but in this case here it would kind of make sense.

protected also makes it part of the API xxx@xxx.xxx etc.), whereas package-only visibility does not.

protected is for when the class is meant to be extended.

But you can keep the Javadoc comments, those are good.

Line:1, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/statistics/model/TmfColumnDataFormatter.java -> Missing copyright header. Check the template from another class.

Line:11, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/statistics/model/TmfColumnDataFormatter.java -> use your real name ;)

Line:13, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/statistics/model/TmfColumnDataFormatter.java -> remove this empty line

Line:15, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/statistics/model/TmfColumnDataFormatter.java -> make the class final too, so that it can't be extended and instantiated.

Line:20, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/statistics/model/TmfColumnDataFormatter.java -> private static final

Don't call it fFormatter, fSomething is for instance fields. static final defines should have their names in ALL_CAPS.

Line:178, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/statistics/model/TmfStatisticsTreeNode.java -> Can't you do this in the constructor, and make the field fTopNode final?

-------------------------------------
author: Ivy Mitchell
date: 2014-05-14 13:54:39.000000000

Patch Set 14:

wasn't this just supposed to be a label provider override?

-------------------------------------
author: Luciana Barry
date: 2014-05-14 15:36:49.000000000

Patch Set 14:

- The event count alignment seems visually unappealing to me when the percentage has different number of digits (>9.9%). Have you considered putting the percentage in its own column?

- When the time selection has no event, there is no percentage displayed, is this intended?

- Not sure what the GTK display bug is, but have you checked if setVisible(false) on the dummy column still fixes the display bug? Otherwise, perhaps setWidth(0) and setResizable(false)?

-------------------------------------
