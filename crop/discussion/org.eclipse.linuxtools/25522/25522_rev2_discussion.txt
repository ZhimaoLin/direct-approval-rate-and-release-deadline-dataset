DESCRIPTION

tmf : changing the way to build the Timegraphview.

This patch removes the notion of resolution of the state system (a fake) to make a real resolution of the view.
Then we can change the way to build the view to make it faster.

Change-Id: Ia179778493959c52c0160afec20f09357bc16428
Signed-off-by: Ayanna Reed xxx@xxx.xxx


COMMENTS

author: Ayanna Reed
date: 2014-04-25 15:23:20.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2014-04-25 15:26:55.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6682/

-------------------------------------
author: Brenden Conley
date: 2014-04-25 16:07:16.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6682/ : SUCCESS

-------------------------------------
author: Ayanna Reed
date: 2014-04-25 16:16:52.000000000

Patch Set 2:

(1 comment)

Line:1122, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/timegraph/AbstractTimeGraphView.java -> ArrayList<>()

-------------------------------------
author: Ayanna Reed
date: 2014-04-25 17:43:44.000000000

Patch Set 2:

(1 comment)

Line:218, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/src/org/eclipse/linuxtools/internal/lttng2/kernel/ui/views/resources/ResourcesView.java -> else {
    // add null event if it intersects the start time
    event = new NullTimeEvent(entry, time, duration);
}

-------------------------------------
author: Luciana Barry
date: 2014-04-30 20:18:27.000000000

Patch Set 2: Code-Review-1

(6 comments)

Line:422, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/src/org/eclipse/linuxtools/internal/lttng2/kernel/ui/views/controlflow/ControlFlowView.java -> All the code above is repeated for every resolution step instead of once per entry. That can't be good for performance.

Line:436, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/src/org/eclipse/linuxtools/internal/lttng2/kernel/ui/views/controlflow/ControlFlowView.java -> This change removes the placeholder TimeEvent that is inserted in between real events at every resolution step, and that can be seen during zooming before the new zoomed event list is computed.

Line:218, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/src/org/eclipse/linuxtools/internal/lttng2/kernel/ui/views/resources/ResourcesView.java -> This could add NullTimeEvent in the middle of the list, which is not the original code intent.

Line:1122, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/timegraph/AbstractTimeGraphView.java -> Yes, ArrayList!

Line:1135, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/timegraph/AbstractTimeGraphView.java -> Isn't this changing what we had decided not to change in the other patch https://git.eclipse.org/r/#/c/21155/ ?

Line:1146, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/timegraph/AbstractTimeGraphView.java -> It's not always the zoomed event list, so it should just be eventList...

-------------------------------------
author: Erick Ross
date: 2015-03-06 20:59:23.000000000

Abandoned

Lttng module is separate project now. Consider submitting your patch to
https://projects.eclipse.org/projects/tools.tracecompass .

-------------------------------------
