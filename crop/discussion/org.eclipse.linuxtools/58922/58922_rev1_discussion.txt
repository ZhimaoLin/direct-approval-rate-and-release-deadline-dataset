DESCRIPTION

proxy: resolve conflict between ssh.proxy and rdt.proxy

Both ssh and rdt proxies implement remote handlers for the ssh scheme.
Change the proxy such as ssh.proxy get called for connections with 'jsch' scheme.
The ssh.proxy keep called if 'ssh'.

Change-Id: I1a7987cc5721549c1dca34e47d4ed135e64202b8
Signed-off-by: Logan Yoder xxx@xxx.xxx


COMMENTS

author: Logan Yoder
date: 2015-10-26 12:47:19.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2015-10-26 12:47:26.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9989/

-------------------------------------
author: Logan Yoder
date: 2015-10-26 12:57:16.000000000

Patch Set 1:

Currently both rdt.proxy and ssh.proxy are configured to handle 'ssh' scheme. The LT proxy pick rdt.proxy though.

While rdt.proxy handle URI like "ssh://AUTORITY/", the ssh.proxy is implemented to deal with xxx@xxx.xxx The early URL is used by remote perf, oprofile..etc. The later is used with remote Systemtap. So both implementation should coexist.

This patch resolve the conflict by making the ssh.proxy be called with whatever URI which scheme is named "jsch".

Not sure this is the best solution. Another possibility is delegate to rdt.proxy the decision of calling its handlers or ssh.proxy's depending on URI format.

-------------------------------------
author: Brenden Conley
date: 2015-10-26 13:16:19.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9989/ : SUCCESS

-------------------------------------
author: Kaylin Maxwell
date: 2015-10-26 19:33:11.000000000

Patch Set 1: Code-Review-1

You should not be removing ssh schema support from the ssh proxy.  The user should be able to install what they want and simply use ssh in their URIs.  If either plug-in is installed, then their request gets met.  If you want, you can add jsch as a second schema to ssh.proxy which is then available for testing and for users to demand the ssh.proxy over the rdt.proxy plug-in.  It is then a minor bump instead of a major one for the ssh.proxy plug-in.  You should add that bump if it was not done as part of another change that is in master but hasn't been released yet.

-------------------------------------
author: Gerrit Code Review
date: 2015-10-27 18:06:08.000000000

Change has been successfully cherry-picked as 23898a9200d683076d54b76770aa2f96b26d5cf4 by Kaylin Maxwell

-------------------------------------
