DESCRIPTION

tmf: Support auto-expand level in time graph widgets

Change-Id: Ide5bf142c251349eaf0c757da3390f6151934695
Signed-off-by: Luciana Barry xxx@xxx.xxx


COMMENTS

author: Luciana Barry
date: 2014-06-20 15:40:09.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2014-06-20 15:40:15.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7483/

-------------------------------------
author: Brenden Conley
date: 2014-06-20 16:26:03.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7483/ : SUCCESS

-------------------------------------
author: Annalise Jimenez
date: 2014-06-25 15:25:06.000000000

Patch Set 1: Code-Review-1

(9 comments)

Some comments and questions

Line:71, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphViewer.java -> This constant should be at only 1 place, not repeated in each class. (What if you change to -999 here but not at the other place, results won't be coherent).

Line:1286, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphViewer.java -> Here too, you should use xxx@xxx.xxx TheClassWithTheRightConstant#ALL_LEVELS} instead.

Line:1289, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphViewer.java -> Unclosed <p>

Line:950, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphCombo.java -> You could use xxx@xxx.xxx #ALL_LEVELS} instead so the person reading the javadoc knows how to use it.

Line:953, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphCombo.java -> Unclosed <p>

Line:961, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphCombo.java -> It feels weird that the time graph viewer and tree viewer do not have the same auto expand level for the same effect. Is that something in the underlying  classes? Or could you send the same level to time graph viewer as tree viewer?

Line:97, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> Yet another ALL_LEVELS constant...

Line:500, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> Same comments as other files

Line:2510, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> If item.fExpanded was true before, how did you make the expansions in sync with the tree viewer? Won't this same mechanism still work now without needing this? Or is there some code to delete wrt how it worked before?

-------------------------------------
author: Luciana Barry
date: 2014-06-25 20:00:32.000000000

Patch Set 1:

(9 comments)

Line:71, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphViewer.java -> Done

Line:1286, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphViewer.java -> Done

Line:1289, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphViewer.java -> Done

Line:950, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphCombo.java -> Done

Line:953, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphCombo.java -> Done

Line:961, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/TimeGraphCombo.java -> The time graph control doesn't have an 'invisible root element' so the tree viewer's '1' value wouldn't make sense there. I preferred to keep all three classes with the same meaning. It's also more intuitive than the tree viewer's levels...

Line:97, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> Done

Line:500, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> Done

Line:2510, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/widgets/timegraph/widgets/TimeGraphControl.java -> The time graph combo defaults the tree viewer auto-expand to ALL_LEVELS in its constructor. The auto-expand is also initialized to ALL_LEVELS in this class. If you later change the level from time graph combo they will both be kept in sync.

-------------------------------------
