DESCRIPTION

[WIP] tmf: only dispatch events to relevant event providers 

When coalescing request across event providers (e.g. Experiment and
traces) then the requests done on the traces are not interested
in events from other requests. Before this patch each implementation
of handleData() had to do this.

However, the implementation doesn't seem to scale well when having
many traces in an experiment. It needs to be profile if this actually
improves the overall performance in comparision to not coalesce
requests across providers.

Change-Id: I1482c79ef3a0359b9b3526212c4555b57c102650
Signed-off-by: Ricky Reeves <Meredith xxx@xxx.xxx


COMMENTS

author: Ricky Reeves
date: 2014-03-19 19:53:37.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2014-03-19 21:44:44.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6041/

-------------------------------------
author: Brenden Conley
date: 2014-03-19 22:39:33.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6041/ : SUCCESS

-------------------------------------
author: Annalise Jimenez
date: 2014-03-20 20:07:06.000000000

Patch Set 1: Code-Review-1

(3 comments)

Some comments

Line:98, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/request/ITmfEventRequest.java -> extra empty line here

Line:413, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/statesystem/TmfStateSystemAnalysisModule.java -> I guess this is the WIP part...

Line:66, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/component/ITmfEventProvider.java -> I'm not sure I like this method name. I had to read the javadoc to be sure what it did! I'd go for something more easily readable, either isEventProvidedBy maybe, or provide(d|s)Event?

-------------------------------------
author: Ricky Reeves
date: 2014-03-21 15:22:35.000000000

Patch Set 1:

(4 comments)

Line:98, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/request/ITmfEventRequest.java -> Done

Line:413, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/statesystem/TmfStateSystemAnalysisModule.java -> This has to be removed. For debugging.

Line:415, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/statesystem/TmfStateSystemAnalysisModule.java -> If the this patch gets merged we can remove the (event.getTrace() == trace) check

Line:66, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/component/ITmfEventProvider.java -> This was 3rd version of that method name. Not easy to find a meaningful one. I'll go with your suggestion isEventProvidedBy.

-------------------------------------
