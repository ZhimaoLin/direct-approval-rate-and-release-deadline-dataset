DESCRIPTION

tmf: Call parent before CtfTmfTrace specific initialization

Some features need to have resources initialized before the CtfTmfTrace
starts fetching its events.

Change-Id: If3d638263713064e8b4be4e651e4e0e33c734e4e
Signed-off-by: Aryana Jones xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-03-01 17:24:54.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/1550/ 

-------------------------------------
author: Brenden Conley
date: 2013-03-01 17:37:38.000000000

Patch Set 1: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/1550/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2013-03-01 19:09:04.000000000

Patch Set 1:

I remember there was a reason at the time why this was put after the CTF initialization. However now it seems to work even with the change... maybe it's because the new CtfIterator API works differently?

Could you expand on what the "some features" are? I agree it makes more sense to call a super.method() first, but I'd rather not "fix" what is not broken.

-------------------------------------
author: Annalise Jimenez
date: 2013-03-01 21:13:10.000000000

Patch Set 1:

"Some features": For instance, when synchronizing 2 traces, the synchronization formula would be saved in a file (resource) for the trace and would need to be fetched before needing to create timestamps.  The trace's resources are initialized in the super.initTrace, but in the CtfTmfTrace initialization code, it seeks a first event to get the trace's start time.  This start time wouldn't be synchronized if the super.initTrace stays at the end.

-------------------------------------
author: Ricky Reeves
date: 2013-03-04 12:49:19.000000000

Patch Set 1: Verified; Looks good to me, but someone else must approve; IP review completed

I also remember that super.init() had to be after reading the first event. However, I think that's not true anymore, because the reading of the first event is done for all trace types in TmfEventsEditor. 

I tried the change and it works fine.

-------------------------------------
author: Braxton Mccarthy
date: 2013-03-04 16:13:45.000000000

Patch Set 1: Verified; Looks good to me, approved; Unclean IP, do not check in

After playing with it a bit, we found out that the reason it doesn't matter anymore is that since the trace-in-editors change, the state system and statistics building is now done by the TraceOpen signal, and not by the call to initialize(). Thus, it seems safe to call TmfTrace.initialize() before the CTF initialization stuff, since we won't need to read events right away.

Geneviève, can you please add the IP statement, after that I'll remove the -1 and we can merge it.

-------------------------------------
author: Annalise Jimenez
date: 2013-03-04 16:30:12.000000000

Patch Set 1:

I, Aryana Jones, declare that I developed the attached code from scratch, without referencing any 3rd party materials except material licensed under the terms of EPL. I am authorized by École Polytechnique de Montréal to make this contribution under the terms of EPL.

-------------------------------------
author: Braxton Mccarthy
date: 2013-03-04 16:38:03.000000000

Patch Set 1: IP review completed



-------------------------------------
