DESCRIPTION

lttng-control: Workaround for stderr problem in with SSH shell

The RSE ssh shell service uses JCraft's ChannelShell class which
doesn't provide the error stream. This causes problems when parsing
the error output for a special behaviour. For example, when a
the kernel provider is not available the command lttng list -k returns
an error message in the error stream "Kernel provider not available"
and has a non-zero return value. However, this error is ingored in the
Control view, since some users only use UST.

For MI integration, it's important that stdout and stderr is provided
separately.  This patch works for the MI integration, unless there
is mixture of stdout and stderr output for the case that a subset
of the command is successful and some fail (e.g. enable multiple
events). In that case the output has to treated in a special way.

Change-Id: I22f6aa98f36c80602d0f73c0d9a25ae5131ef16b
Signed-off-by: Ricky Reeves <Meredith xxx@xxx.xxx
Reviewed-on: https://git.eclipse.org/r/31570
Tested-by: Brenden Conley
Reviewed-by: Izaiah Valdez xxx@xxx.xxx
Reviewed-by: Braxton Mccarthy xxx@xxx.xxx
Reviewed-by: Ricky Reeves xxx@xxx.xxx
Tested-by: Ricky Reeves xxx@xxx.xxx


COMMENTS

author: Ricky Reeves
date: 2014-08-14 17:27:23.000000000

Change has been successfully cherry-picked as 02c749102993d6b3964f1bd153d292813dec4466

-------------------------------------
