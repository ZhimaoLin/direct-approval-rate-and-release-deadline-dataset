DESCRIPTION

valgrind parser tests using mockito

Change-Id: Ic5da7c4de9c5be4ad439c300580da5ccfa894205
Signed-off-by: Ishaan Salas xxx@xxx.xxx

COMMENTS

author: Brenden Conley
date: 2015-12-10 08:52:38.000000000

Patch Set 11:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/10231/

-------------------------------------
author: Brenden Conley
date: 2015-12-10 09:08:04.000000000

Patch Set 11: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/10231/ : SUCCESS

-------------------------------------
author: Erick Ross
date: 2015-12-10 09:17:33.000000000

Patch Set 11:

(10 comments)

Activators usually end up causing problems so we try to stay away of them if there is another way to achieve what's needed or there is sound reason to do it. In this case adding activator for the sake of tests is a bit too much. 
Hope that the review is not too much - just minor things but I find this kind of things important for project health :).
Another good practice used in Linux Tools is to commit custom project compiler settings (as strict as you think it deserves) which people make stricter over time so we don't pollute others workbench with too much warnings when using less strict settings, also automation like save actions to organize imports and etc. are welcome to be committed in the project so everyone gets them too.

Line:44, valgrind/org.eclipse.linuxtools.valgrind.core.tests/src/org/eclipse/linuxtools/valgrind/core/tests/TestSourceReader.java -> Generification warning.

Line:60, valgrind/org.eclipse.linuxtools.valgrind.core.tests/src/org/eclipse/linuxtools/valgrind/core/tests/TestSourceReader.java -> Another generification warning.

Line:111, valgrind/org.eclipse.linuxtools.valgrind.core.tests/src/org/eclipse/linuxtools/valgrind/core/tests/TestSourceReader.java -> And another one.

Line:142, valgrind/org.eclipse.linuxtools.valgrind.core.tests/src/org/eclipse/linuxtools/valgrind/core/tests/TestSourceReader.java -> Use !line.isEmpty() - easier to read and more consistent with the next condition.

Line:12, releng/org.eclipse.linuxtools.target/linuxtools-e4.5.target -> You should edit linuxtools-e4.6.target for master.

Line:42, valgrind/org.eclipse.linuxtools.valgrind.core.tests/src/org/eclipse/linuxtools/internal/valgrind/core/ValgrindCoreParserTest.java -> The abstract class should be changed to have getBundle abstract. Then the implementation can become "return FrameworkUtil.getBundle(ValgrindCoreParser.class);"

Line:6, valgrind/org.eclipse.linuxtools.valgrind.core/src/org/eclipse/linuxtools/internal/valgrind/core/ValgrindCoreActivator.java -> This kind of activator is never needed if the only thing it does is to give access to the bundle. Even if it was it is missing license header which would have been showstopper.

Line:26, valgrind/org.eclipse.linuxtools.valgrind.core/META-INF/MANIFEST.MF -> This change shouldn't be needed when other comments applied.

Line:91, valgrind/org.eclipse.linuxtools.valgrind.core.tests/src/org/eclipse/linuxtools/valgrind/core/tests/AbstractInlineDataTest.java -> Make this abstract as per the comment in the extending class.

Line:100, valgrind/org.eclipse.linuxtools.valgrind.core.tests/src/org/eclipse/linuxtools/valgrind/core/tests/AbstractInlineDataTest.java -> Remove as not needed with abstract getBundle.

-------------------------------------
author: Julian Foster
date: 2015-12-10 12:59:04.000000000

Patch Set 11:

(3 comments)

Line:12, releng/org.eclipse.linuxtools.target/linuxtools-e4.5.target -> In 4.6 I did it without versions already. This was in case anybody still using using 4.5, but I can remove this

Line:42, valgrind/org.eclipse.linuxtools.valgrind.core.tests/src/org/eclipse/linuxtools/internal/valgrind/core/ValgrindCoreParserTest.java -> I did not know it is possible, it would be awesome, I can fix it in cdt too :)

Line:91, valgrind/org.eclipse.linuxtools.valgrind.core.tests/src/org/eclipse/linuxtools/valgrind/core/tests/AbstractInlineDataTest.java -> Yep

-------------------------------------
author: Gerrit Code Review
date: 2015-12-11 13:03:27.000000000

Change has been successfully cherry-picked as e1703cbd89b9ca6d9bc5614fc413a8276cffc698 by Erick Ross

-------------------------------------
