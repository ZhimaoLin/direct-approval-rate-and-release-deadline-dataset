DESCRIPTION

tmf: CtfTmfEvent improvements

- Remove extraneous Javadoc
- Change fTimestamp from a singleton to a proper field, set at
  the constructor.
- Drop unneeded singletons (fReference and fSource)

Change-Id: I0522a40f3817bcc34bde48dc90358fb745f7bdbc
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2012-09-06 20:55:41.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/128/ 

-------------------------------------
author: Brenden Conley
date: 2012-09-06 21:02:49.000000000

Patch Set 1: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/128/ : SUCCESS

-------------------------------------
author: Ivy Mitchell
date: 2012-09-07 18:31:59.000000000

Patch Set 1: Verified; I would prefer that you didn't submit this; IP review completed

I would like to see some benchmarks proving that final is faster than lazy init. Then it's a giant colossal +2

-------------------------------------
author: Braxton Mccarthy
date: 2012-09-13 18:14:51.000000000

Patch Set 1:

Performance isn't the main focus here, just code clarity and simplicity in general ;)

Not sure if it's really representative, but I ran ctf.core.tests.headless.ReadTrace 5 times with each implementation.

With the current implementation in lttng-kepler:
Time to read 695319 events = 1322.8551427474297 ns/event
Time to read 695319 events = 1290.749765215678 ns/event
Time to read 695319 events = 1209.3963173737523 ns/event
Time to read 695319 events = 1201.8950136556027 ns/event
Time to read 695319 events = 1240.623267881361 ns/event

With this commit applied:
Time to read 695319 events = 1238.790555126496 ns/event
Time to read 695319 events = 1204.907277091522 ns/event
Time to read 695319 events = 1191.6552373802529 ns/event
Time to read 695319 events = 1135.4642732328614 ns/event
Time to read 695319 events = 1223.0996880568487 ns/event

-------------------------------------
author: Braxton Mccarthy
date: 2012-09-13 18:17:18.000000000

Patch Set 1:

Oh wow, thanks Gerrit for scrapping my comment...

let's try this again:


With current git tree:

Time to read 695319 events = 1322.8551427474297 ns/event

Time to read 695319 events = 1290.749765215678 ns/event

Time to read 695319 events = 1209.3963173737523 ns/event

Time to read 695319 events = 1201.8950136556027 ns/event

Time to read 695319 events = 1240.623267881361 ns/event


With this commit applied:

Time to read 695319 events = 1238.790555126496 ns/event

Time to read 695319 events = 1204.907277091522 ns/event

Time to read 695319 events = 1191.6552373802529 ns/event

Time to read 695319 events = 1135.4642732328614 ns/event

Time to read 695319 events = 1223.0996880568487 ns/event

It's not a statistically-noticeable improvement, but it doesn't make it worse in any case.

-------------------------------------
