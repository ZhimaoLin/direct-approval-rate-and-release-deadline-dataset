DESCRIPTION

tmf: add abstract view and viewer classes for generation of SWT charts

Change-Id: I2d83280a63574727ceaf567db501119a7e0b2909
Signed-off-by: Ricky Reeves <Meredith xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-12-19 21:02:14.000000000

Patch Set 1:

This looks very nice to me, I don't want to be pedantic, but would it be a good idea to have a ItmfJfaceView interface between this and TmfView. Basically we are now using viewers often. It's a nice mvc. The issue, soon, we may have Zest, Guava, papyrus or other viewers all based on the jface way of working, do we want to copy-paste this every time.

-------------------------------------
author: Ivy Mitchell
date: 2013-12-19 21:02:43.000000000

Patch Set 1: Code-Review-1 IP-Clean+1

very soft -1 until question is addressed

-------------------------------------
author: Annalise Jimenez
date: 2013-12-19 21:46:36.000000000

Patch Set 1: Code-Review-1

(11 comments)

Some little nits and extra documentation needed (I didn't know when I added the xy line plot and I'm still not sure what is the x offset)

I'll look into Matthew jface thing later. I have no idea what he's talking about ;-)

Line:23, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/ITmfChartTimeProvider.java -> Not obvious from javadoc comment and class name: is this a time provider? or a chart data provider? Or any XY type of data provider? Should a class implement this only if its x axis is a time range identical to that of the trace?

A bit more doc could be useful here to describe when we should implement this.

Line:56, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/ITmfChartTimeProvider.java -> Add line break here

Line:59, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/ITmfChartTimeProvider.java -> Get the start time of the selected range? current begin time sounds weird

Line:66, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/ITmfChartTimeProvider.java -> Same here

Line:75, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/ITmfChartTimeProvider.java -> Except copy-pasting from existing code and pray for the best, I wouldn't know what to do here. Maybe add an example with a hypothetical start time?

Line:20, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/TmfChartView.java -> This view is meant to be used when you have only one viewer to display in a view. If you want a view with multiple charts together, you'd need to develop your own view, right?

Line:40, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/TmfXYChartViewer.java -> Actually, it doesn't do that yet ;-) But those patches will be in soon enough, so nevermind

Line:119, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/TmfXYChartViewer.java -> Again, more explanation of this xOffset would be greatly appreciated.

Line:125, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/TmfXYChartViewer.java -> Ctrl-alt-F will add the missing lines here.

Line:463, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/TmfXYChartViewer.java -> Wrong javadoc here

Line:470, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/TmfXYChartViewer.java -> Method does not make use of the signal, is that normal?

-------------------------------------
author: Brenden Conley
date: 2013-12-19 21:59:29.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4809/

-------------------------------------
author: Brenden Conley
date: 2013-12-19 22:19:49.000000000

Patch Set 1: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4809/ : FAILURE

-------------------------------------
author: Ricky Reeves
date: 2013-12-20 13:02:17.000000000

Patch Set 1:

(10 comments)

Line:23, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/ITmfChartTimeProvider.java -> Done

Line:56, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/ITmfChartTimeProvider.java -> Done

Line:59, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/ITmfChartTimeProvider.java -> Done

Line:66, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/ITmfChartTimeProvider.java -> Done

Line:75, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/ITmfChartTimeProvider.java -> Done

Line:20, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/TmfChartView.java -> Yes, this class should make it easy to create a view with one viewer. For multiple viewers it's probably better to develop your own.

Line:40, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/TmfXYChartViewer.java -> Yes, that happens when splitting patches in smaller patches :-)

Line:119, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/TmfXYChartViewer.java -> Will add a link to getXOffset() where the explanation will be

Line:463, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/TmfXYChartViewer.java -> Done

Line:470, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/xycharts/TmfXYChartViewer.java -> Yes, it is. The signal doesn't have any specific content. However, we cannot remove it because the TmfSignalManager needs it to find all signal handlers for this signal.

-------------------------------------
