DESCRIPTION

ctf: add synthetic LTTng kernel trace

This will allow us to have much more control over testing the parser
and it allows scalability testing too.

Change-Id: I433709dafab8fd5c8d412cb9b4b632ade03f18a9
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-10-29 22:25:23.000000000

Uploaded patch set 10.

-------------------------------------
author: Brenden Conley
date: 2013-10-30 02:17:36.000000000

Patch Set 10:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3795/

-------------------------------------
author: Brenden Conley
date: 2013-10-30 02:52:27.000000000

Patch Set 10: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3795/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2013-11-01 19:22:21.000000000

Patch Set 10: Code-Review-1

(5 comments)

Looking good, but I think there should be a clearer distinction between "CtfTraceGenerator" "LttngKerneltTraceGenerator".

If CtfTraceGenerator is meant to be a general class from which we will (eventually) generate many different synthetic traces, then it should not contain anything specific to LttngKernel (like "PATH" referring to only one trace).

On the other hand if CtfTraceGenerator is meant to generate one and only one trace, then both classes could be merged together. I'd prefer the first option, for the long-term.

Also, comments

Line:25, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/synthetictraces/CtfTraceGenerator.java -> What's the rationale for not using File.createTempFile() again?

We would not want to use an existing file blindly (we might change the generator class), and also we do want to clash with eventual other generated traces. (ie, FILE_NAME should be LTTNG_KERNEL_FILE_NAME etc.)

Line:28, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/synthetictraces/CtfTraceGenerator.java -> why is it "not always needed"? It's the only way to run this class isn't it? ;)

Line:53, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/synthetictraces/CtfTraceGenerator.java -> ctrl+shift+something

Line:196, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/synthetictraces/LttngKernelTraceGenerator.java -> formatting

Line:320, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/synthetictraces/LttngKernelTraceGenerator.java -> Split this on separate lines and add a comment to each line explaining what each number means (timestamp, event type, etc.)  If we want to tweak it in the future it will help.

-------------------------------------
