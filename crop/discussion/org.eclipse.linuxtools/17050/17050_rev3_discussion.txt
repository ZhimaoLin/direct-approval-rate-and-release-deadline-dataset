DESCRIPTION

ctf: add synthetic LTTng kernel trace

This will allow us to have much more control over testing the parser
and it allows scalability testing too.

Change-Id: I433709dafab8fd5c8d412cb9b4b632ade03f18a9
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-10-07 18:44:53.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2013-10-07 19:26:16.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3653/

-------------------------------------
author: Brenden Conley
date: 2013-10-07 20:02:19.000000000

Patch Set 3: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3653/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2013-10-08 20:32:17.000000000

Patch Set 3: Code-Review-1

(5 comments)

Line:38, lttng/org.eclipse.linuxtools.ctf.core.tests/shared/org/eclipse/linuxtools/ctf/core/tests/shared/CtfTestTrace.java -> Also add SYNTHETIC_TRACE to CtfTmfTestTrace if you want the TMF tests to be able to access it.

Line:23, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/tracegenerator/GenerateKernelTrace.java -> If you use Random, the generated trace will be different every time, which defeats the purpose of a small-well-known-well-defined trace.

Line:26, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/tracegenerator/GenerateTrace.java -> You can use File.createTempFile(), it will guarantee a new file every time.

Line:27, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/tracegenerator/GenerateTrace.java -> This should go in GenerateKernelTrace.

In fact, I'm not sure why those are separate, they could all go together in one class(GenerateTrace doesn't allow generating anything else).

Line:62, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/tracegenerator/GenerateTrace.java -> delete the old file when a new one is generated? It's nice behavior to clean up our mess. Or use .deleteOnExit, if some tests might still be using the old file.

-------------------------------------
author: Ivy Mitchell
date: 2013-10-17 20:05:01.000000000

Patch Set 3:

(4 comments)

Line:38, lttng/org.eclipse.linuxtools.ctf.core.tests/shared/org/eclipse/linuxtools/ctf/core/tests/shared/CtfTestTrace.java -> Done

Line:23, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/tracegenerator/GenerateKernelTrace.java -> Nope, it's seeded.

Line:27, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/tracegenerator/GenerateTrace.java -> Done

Line:62, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/tracegenerator/GenerateTrace.java -> Done

-------------------------------------
