DESCRIPTION

[lttng control] Use List<String> for control commands (455382)

By doing this, it's not necessary to surround commands with wildcards
and filters with quotes which made these commands fail using
org.eclipse.remote/Built-in SSH and org.eclipse.remote.Local.

For the PTP RSE adapter for org.eclipse.remote, the user has to enter
quotes otherwise the command will fail. The UI was changed to allow
quotes in the text boxes.

Change-Id: I2185c5b658f635ff491a6022fab206c208ca5d8f
Signed-off-by: Ricky Reeves <Meredith xxx@xxx.xxx


COMMENTS

author: Ricky Reeves
date: 2014-12-19 17:01:25.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2014-12-19 17:59:03.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9335/

-------------------------------------
author: Brenden Conley
date: 2014-12-19 18:24:14.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9335/ : SUCCESS

-------------------------------------
author: Kaeden Tapia
date: 2014-12-22 22:18:37.000000000

Patch Set 2: Code-Review-1

(5 comments)

Line:332, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/EnableUstEventsComposite.java -> Is the extra backslash necessary to escape the quote on the terminal?

Line:1033, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlService.java -> Is this new list intentional or just for debugging?

Line:1036, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlService.java -> println for debugging?

Line:1105, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlService.java -> toCommandSring -> toCommandString

Line:241, lttng/org.eclipse.linuxtools.lttng2.control.ui.tests/stubs/org/eclipse/linuxtools/internal/lttng2/control/stubs/shells/LTTngToolsFileShell.java -> LTTngControlService.toCommandString ?

-------------------------------------
author: Ricky Reeves
date: 2014-12-23 14:30:09.000000000

Patch Set 2:

(5 comments)

Line:332, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/EnableUstEventsComposite.java -> The many backslashes are for escaping \ and '
This is meant for RSE which need in some cases single quotes for filter (e.g. 'sender==Ma*') and for wildcards (e.g. ust\*).

Line:1033, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlService.java -> The ArrayList passed as parameter to this method is a list of command-lines (e.g. 
lttng create
lttng enable-event -k -a 
lttng enable-event -k -u

But for each command-line I need create a separate ArrayList which will be passed on and executed. 

To make it clear I'll change the name of the parameter to commandLines.

I just realized that this doesn't work. I need to split the command-line at whitespaces and create the List from the resulting array.

Line:1036, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlService.java -> Yes, debug code. I'll remove it.

Line:1105, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlService.java -> Done

Line:241, lttng/org.eclipse.linuxtools.lttng2.control.ui.tests/stubs/org/eclipse/linuxtools/internal/lttng2/control/stubs/shells/LTTngToolsFileShell.java -> Done

-------------------------------------
