DESCRIPTION

tmf: lttngControl: mi: support session creation

Change-Id: Ieaef13801acd1741dfdcc837abb96db4f55d371b
Signed-off-by: Izaiah Valdez xxx@xxx.xxx


COMMENTS

author: Izaiah Valdez
date: 2014-08-16 03:59:03.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2014-08-16 03:59:11.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/8350/

-------------------------------------
author: Brenden Conley
date: 2014-08-16 04:50:30.000000000

Patch Set 3: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/8350/ : SUCCESS

-------------------------------------
author: Ricky Reeves
date: 2014-08-19 17:27:35.000000000

Patch Set 3: Code-Review-1

(5 comments)

Line:244, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> Currently, it doesn't recognize if the session is a network session

Line:533, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> Up to here it's common code to the parent class (LTTngControlService). You could abstract that part in the base class. Basically, separating the command execution from the output parsing.

Please verify if you can extract common parts for other commands.

Line:570, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> return outputSession here instead of sessionInfo?
In sessionInfo the name might be an empty string if the name was omitted in the dialog. (case: lttng create). This will create a session with auto generated name.

Line:599, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> Up to here it's common code to the parent class (LTTngControlService). You could abstract that part in the base class. Basically, separating the command execution from the output parsing.

Line:645, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> return outputSession here instead of sessionInfo? In sessionInfo the name might be an empty string if the name was omitted in the dialog. (case: lttng create). This will create a session with auto generated name.

-------------------------------------
author: Izaiah Valdez
date: 2014-08-19 19:04:33.000000000

Patch Set 3:

(1 comment)

Line:244, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> do you mean that it is not recognize as a StreamedSession ?

-------------------------------------
author: Izaiah Valdez
date: 2014-08-20 13:39:21.000000000

Patch Set 3:

(5 comments)

Line:244, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> This is fixed in a previous patch. I forgot to check for it when listing the session. There is a new regexp for matching network path without "Trace:". If you try to import a snapshot trace output from this patch it will failed. Snapshot support is in a later patch

Line:533, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> Done

Line:570, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> Done

Line:599, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> Done

Line:645, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/service/LTTngControlServiceMI.java -> Actually here it make more sense to return sessionInfo as it have more information. I adjusted the code for it

-------------------------------------
