DESCRIPTION

Fix bug 467748 - Progress monitors for pulling an image persist

- the Docker daemon is changing messages and so the handlers
  have to be more tolerant of these changes
- add check for "Pull complete" message
- ignore "Pulling" messages
- fix DockerProgressDetail class to have toString() and equals()
  methods
- fix job messages for Pulling and Pushing

Change-Id: Ic1582a9047dacb14b3d417b2035bf2bf22ba9f97

COMMENTS

author: Kaylin Maxwell
date: 2015-05-25 21:26:16.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2015-05-25 21:26:22.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9556/

-------------------------------------
author: Brenden Conley
date: 2015-05-25 21:40:52.000000000

Patch Set 3: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9556/ : SUCCESS

-------------------------------------
author: Nathanael Holden
date: 2015-05-26 14:16:04.000000000

Patch Set 3: Code-Review+1

This looks good to me, but I just need to test against F22, where the issue was uncovered. contains()/startsWith() should definitely be more tolerant to changing messages, and I'm guessing ignoring the "Pulling" message will handle those progress messages that never finish.

-------------------------------------
author: Nathanael Holden
date: 2015-05-26 15:44:01.000000000

Patch Set 3: Verified+1 Code-Review+2

I have confirmed this works on F-22. No progress message is left behind when attempting to pull an image.

-------------------------------------
author: Nathanael Holden
date: 2015-05-26 16:05:46.000000000

Patch Set 3: Code-Review+1

Just noticed that this change doesn't seem to exist in master. Is this really meant for only stable-4.0 ? It should probably go into master first.

-------------------------------------
author: Nathanael Holden
date: 2015-05-26 16:34:44.000000000

Patch Set 3: Code-Review+2

Ok, let's get this into stable-4.0 but be sure to also open a review later for master.

-------------------------------------
author: Nathanael Holden
date: 2015-05-26 16:35:07.000000000

Change has been successfully cherry-picked as 5733be7f5b458b4d815c66733cbd76f3ea5fda8c

-------------------------------------
