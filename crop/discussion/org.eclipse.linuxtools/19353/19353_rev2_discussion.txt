DESCRIPTION

tmf: Add a HTNode cache to decrease the number of disk access.

This is a variant of the patch-set proposed by Florian:

    https://git.eclipse.org/r/#/c/19330/

This is a variant of the patch-set proposed by Etienne:

    https://git.eclipse.org/r/#/c/19351/

Change-Id: Ifcddb62ef24716a108f45413c57253084cd9f2cc
Signed-off-by: Jordon Obrien xxx@xxx.xxx


COMMENTS

author: Jordon Obrien
date: 2013-12-05 01:19:50.000000000

Uploaded patch set 2.

-------------------------------------
author: Braxton Mccarthy
date: 2013-12-05 02:27:55.000000000

Patch Set 2:

(1 comment)

Line:84, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/backends/historytree/HT_IO.java -> You can xxx@xxx.xxx to mark a method as deprecated. This is useful for API methods (public methods in exported/visible packages). For internal methods like these, if it's really not used anymore, you can just delete it.

-------------------------------------
author: Ivy Mitchell
date: 2013-12-05 03:04:30.000000000

Patch Set 2:

This fear may be unbased, but if we are doing multi-threaded access, could we encounter a lock-step problem here where two nodes are being fought over with the same last 8 bits? would a random replace be a better solution? 
Applies to 19330 and 19331 too.

-------------------------------------
author: Jordon Obrien
date: 2013-12-05 03:28:16.000000000

Patch Set 2:

(1 comment)

The threaded model is the same for a CPU with thread.
Statistically, it's going to work well.

If you insert it randomly, you are implementating a LRU.
You can also implements a k-associative cache.
Which may work well too.

I just keep this model simple (easy to read, easy to debug).
But, this could be a place for further investigation, benchmark, improvement.

Line:84, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/backends/historytree/HT_IO.java -> I just don't go to the end of the refactoring.
I prefer waiting we take a decision on where we move with the caching model.

-------------------------------------
author: Ivy Mitchell
date: 2013-12-05 03:30:17.000000000

Patch Set 2:

Sounds good to me.

-------------------------------------
author: Brenden Conley
date: 2013-12-05 03:40:22.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4425/

-------------------------------------
author: Brenden Conley
date: 2013-12-05 04:16:25.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4425/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2013-12-05 23:14:17.000000000

Abandoned

https://git.eclipse.org/r/#/c/19408/ was merged, which looks like a duplicate of this one.

-------------------------------------
