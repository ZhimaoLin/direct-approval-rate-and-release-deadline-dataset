DESCRIPTION

tmf : Update the histogram to handle lost events correctly

Add a checkbox to toggle displaying the lost events
Display the lost events' bars in the histogram

Change-Id: Iba72f479455cadc4150efadf695f943a6572f3d2
Signed-off-by: Liana Berg xxx@xxx.xxx
Signed-off-by: Kelsie Blackwell xxx@xxx.xxx
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-09-25 21:00:47.000000000

Uploaded patch set 8.

-------------------------------------
author: Brenden Conley
date: 2013-09-25 21:43:14.000000000

Patch Set 8:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3554/

-------------------------------------
author: Brenden Conley
date: 2013-09-25 22:14:53.000000000

Patch Set 8: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3554/ : SUCCESS

-------------------------------------
author: Luciana Barry
date: 2013-09-30 20:20:37.000000000

Patch Set 8: Code-Review-1

(5 comments)

Line:527, lttng/org.eclipse.linuxtools.lttng.help/doc/User-Guide.mediawiki -> Suggest to reword because the button never actually is called "Show lost events" in its tool tip.

Line:48, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramScaledData.java -> If this class survives in luna, the public fields should not start with a 'f', and the fields which have a getter and setter should be private...

Line:515, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramDataModel.java -> After all, it turns out that we don't know the last bucket of the requested time range, only the last bucket that contains a real event (fLastBucket) and the time of the last bucket in the array (fTimeLimit). Since the scaling is done to accommodate the last real event (fLastBucket) it's not even sure if the area to the right of the last bucket bar is within the requested time range or not. So in the end we should just let it count and draw lost events up to the last bucket in the array.

Line:524, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramDataModel.java -> This could end up to be negative if there are more buckets than lost events to count. It should be bound to be at least 1.

Line:526, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramDataModel.java -> This merge should be the first thing done in the method since it affects the bucket duration.

-------------------------------------
author: Gerrit Code Review
date: 2013-09-30 21:25:45.000000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
