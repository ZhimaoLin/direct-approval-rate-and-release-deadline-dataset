DESCRIPTION

TMF: add labeling support to the XML time graph view

add support for conditions in time graph view
add labeling to the XML time graph view

Change-Id: I89915fcc3fe5756869953ad8b7d3523c3d7d134b
Signed-off-by: Makena Hernandez xxx@xxx.xxx


COMMENTS

author: Makena Hernandez
date: 2014-07-18 16:08:19.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2014-07-18 17:44:41.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7819/

-------------------------------------
author: Brenden Conley
date: 2014-07-18 18:36:02.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7819/ : SUCCESS

-------------------------------------
author: Annalise Jimenez
date: 2014-07-28 20:15:41.000000000

Patch Set 2: Code-Review-1

(34 comments)

Welcome to gerrit Naser!

Here's a first quick review of the code. After modifying a file, you can use ctrl-alt-F to format it correctly, it will automatically correct white spaces, alignment, etc., but unfortunately not blank lines ;-)

Line:131, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/readonly/TmfXmlReadOnlyStateValue.java -> Use ctrl-alt-F to format this file and fix the alignment.

Line:78, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/module/XmlUtils.java -> Remove this extra blank line

Line:319, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/views/timegraph/XmlEntry.java -> extra blank line

Line:226, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlCondition.java -> xxx@xxx.xxx

Line:233, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlCondition.java -> You can do a ctrl-alt-F on this file to fix the formatting so it is aligned right.

Line:268, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlCondition.java -> one extra blank line here

Line:295, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlCondition.java -> There is some code duplication with testForEvent. Some consolidation should be done on those methods, but it can go in another patch of API breakage.

Line:42, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/stateprovider/TmfXmlStrings.java -> Do not add so many blank lines

Line:61, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/stateprovider/TmfXmlStrings.java -> New blank line to remove

Line:28, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlValueChange.java -> labels are just a case but this construction will be used in many other situations. Remove references to label in the comment.

Line:66, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlValueChange.java -> A lot of code duplication in this class. I think it would be preferable to use only one class (and rename it if required because state change doesn't mean much) and have methods taking both events and quark/time.

Line:88, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlValueChange.java -> extra blank line

Line:22, lttng/org.eclipse.linuxtools.lttng2.kernel.core/plugin.properties -> Do not modify this file. There are no changes

Line:13, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/META-INF/MANIFEST.MF -> A core plug-in should never depend on a .ui plugin. Anyway, that must be a mistake, because removing it does not cause any error.

Line:22, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/plugin.properties -> I think you are committing something that is not part of the actual commit here

Line:44, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/plugin.xml -> Not in the scope of this commit

Line:93, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/readwrite/TmfXmlReadWriteModelFactory.java -> Remove this comment

Line:113, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/ITmfXmlModelFactory.java -> Not a state change. And label is the case that justified the implementation of this, but it won't be used only for labels.

Line:116, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/ITmfXmlModelFactory.java -> Copy-pasted from previous method. Not accurate here

Line:119, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/ITmfXmlModelFactory.java -> Copy pasted from previous method. Update

Line:89, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/readonly/TmfXmlReadOnlyModelFactory.java -> xxx@xxx.xxx

Line:91, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/readonly/TmfXmlReadOnlyModelFactory.java -> Remove this comment

Line:12, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/module/xmlTimeGraphView.xsd -> Extra tab after *

Line:82, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/module/xmlTimeGraphView.xsd -> Look at this file in gerrit, there are a lot of ugly red trailing tabs

Line:38, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core.tests/.project -> Really? :p That path does not exist on my computer

Line:39, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/internal/tmf/analysis/xml/ui/TmfXmlUiStrings.java -> extra blank line

Line:42, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/internal/tmf/analysis/xml/ui/TmfXmlUiStrings.java -> extra blank line

Line:53, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/internal/tmf/analysis/xml/ui/TmfXmlUiStrings.java -> extra blank line

Line:86, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlStateChange.java -> Remove this new blank line

Line:148, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlStateChange.java -> Remove this new blank line

Line:331, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/views/timegraph/XmlTimeGraphView.java -> You should use utility method XmlUtils.getChildElements like previous lines, it saves a few casts.

Line:333, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/views/timegraph/XmlTimeGraphView.java -> a few extra blank lines

Line:380, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/views/timegraph/XmlTimeGraphView.java -> extra space before quark

Line:395, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/views/timegraph/XmlTimeGraphView.java -> extra space before TmfXmlValuechange

-------------------------------------
author: Makena Hernandez
date: 2014-09-22 15:58:05.000000000

Patch Set 2:

(32 comments)

I applied most of your requested changes (blank lines, etc.).

Line:131, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/readonly/TmfXmlReadOnlyStateValue.java -> Done

Line:78, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/module/XmlUtils.java -> Done

Line:226, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlCondition.java -> Done

Line:233, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlCondition.java -> Done

Line:268, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlCondition.java -> Done

Line:295, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlCondition.java -> no change is applied.

Line:42, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/stateprovider/TmfXmlStrings.java -> Done

Line:28, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlValueChange.java -> Done

Line:66, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlValueChange.java -> I did not change it now.  Will be investigated later.

Line:88, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlValueChange.java -> Done

Line:22, lttng/org.eclipse.linuxtools.lttng2.kernel.core/plugin.properties -> ok.

Line:13, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/META-INF/MANIFEST.MF -> Done

Line:22, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/plugin.properties -> Done

Line:44, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/plugin.xml -> Done

Line:93, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/readwrite/TmfXmlReadWriteModelFactory.java -> Done

Line:113, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/ITmfXmlModelFactory.java -> Done

Line:116, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/ITmfXmlModelFactory.java -> Done

Line:119, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/ITmfXmlModelFactory.java -> Done

Line:89, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/readonly/TmfXmlReadOnlyModelFactory.java -> Done

Line:91, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/readonly/TmfXmlReadOnlyModelFactory.java -> Done

Line:12, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/module/xmlTimeGraphView.xsd -> Done

Line:82, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/module/xmlTimeGraphView.xsd -> Done

Line:38, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core.tests/.project -> Done

Line:39, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/internal/tmf/analysis/xml/ui/TmfXmlUiStrings.java -> Done

Line:42, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/internal/tmf/analysis/xml/ui/TmfXmlUiStrings.java -> Done

Line:53, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/internal/tmf/analysis/xml/ui/TmfXmlUiStrings.java -> Done

Line:86, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlStateChange.java -> Done

Line:148, lttng/org.eclipse.linuxtools.tmf.analysis.xml.core/src/org/eclipse/linuxtools/tmf/analysis/xml/core/model/TmfXmlStateChange.java -> Done

Line:331, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/views/timegraph/XmlTimeGraphView.java -> That function is not usable here.

Line:333, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/views/timegraph/XmlTimeGraphView.java -> Done

Line:380, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/views/timegraph/XmlTimeGraphView.java -> Done

Line:395, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/views/timegraph/XmlTimeGraphView.java -> Done

-------------------------------------
