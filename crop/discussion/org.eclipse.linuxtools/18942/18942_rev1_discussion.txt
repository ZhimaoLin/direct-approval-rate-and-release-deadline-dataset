DESCRIPTION

tmf: Disable scheduler executionOrder test

That unit test has always been prone to multi-threaded uncertainty,
but recently it has been failing a lot more, which is very annoying
for the CI. I suspect it's because of the recent changes to the CTF
parser, some requests may end up finishing faster than they did before,
and before another request could be scheduled.

I suggest disabling it until we rewrite it to be more permissive (or
better, add testing mechanisms to the scheduler, and test the order
of requests being *sent*, not the order in which they finish).

Change-Id: I70db04feb9f86534f5d12623cf33f06d56b3a737
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-11-27 00:51:32.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4196/

-------------------------------------
author: Brenden Conley
date: 2013-11-27 01:29:41.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4196/ : SUCCESS

-------------------------------------
author: Ricky Reeves
date: 2013-11-27 14:42:19.000000000

Patch Set 1:

I think the failure depends on what is running concurrently on the build machine. We have timer in the request scheduler (100ms) that is triggering a context switch from one request to the next. However, once a request is scheduled by the TmfRequestScheduler is ready to read events. Depending on the OS and what is concurrently running it could happen that the request didn't have time to read on event before being paused again (after 100ms). I troubleshooted once and I was able to confirm this.

What we could do is to loop through the whole fOrderedList and try to find the expected pattern. By doing this the chance that the test fails decreases. However, this is no guarantee that the test always succeeds.

Please, let me know if you'd like to try that instead of disabling the test.

-------------------------------------
author: Braxton Mccarthy
date: 2013-11-27 16:26:11.000000000

Patch Set 1:

I'd like to merge this now, so at least it stops failing our builds (another one this morning in https://git.eclipse.org/r/#/c/18908/ ). Then we can revisit this test and make it more robust.

-------------------------------------
author: Kaeden Tapia
date: 2013-11-27 16:27:07.000000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Ivy Mitchell
date: 2013-11-27 16:28:16.000000000

Patch Set 1: Code-Review+2 IP-Clean+1

-------------------------------------
