DESCRIPTION

tmf/lttng: Migrate remaining users to the state system analysis

- Removed the VerifyHistoryFile program, this dates from long ago,
  these checks can now be done via unit tests.

- Removed the BasicStateSystemExample. Doing a range query on the
  full range of the trace?!? That's a good example of what NOT to do!

- Tweaked the GenerateTestValues program to use the analysis module
  instead.

Change-Id: I224f93642b8b3a9a4a0c1c4ca9a1e2f5f7089130
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2014-02-12 19:42:11.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5445/

-------------------------------------
author: Brenden Conley
date: 2014-02-12 20:34:47.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5445/ : SUCCESS

-------------------------------------
author: Kaeden Tapia
date: 2014-02-14 20:27:11.000000000

Patch Set 1:

(2 comments)

Line:37, lttng/org.eclipse.linuxtools.tmf.core.tests/src/org/eclipse/linuxtools/tmf/core/tests/statesystem/VerifyHistoryFile.java -> In the commit message, it says "can now be done via unit tests". So is it done now?

Line:203, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/synthetictraces/LttngKernelTraceGenerator.java -> I don't think this can be null..

-------------------------------------
author: Braxton Mccarthy
date: 2014-02-14 20:53:18.000000000

Patch Set 1:

(2 comments)

Line:37, lttng/org.eclipse.linuxtools.tmf.core.tests/src/org/eclipse/linuxtools/tmf/core/tests/statesystem/VerifyHistoryFile.java -> Compared to the time this was first written, we actually have unit tests now ;)

StateSystemTest for example, which uses the values generated by GenerateTestValues, looks for the complete results of stabbing queries at different places.

We also have a runtime check somewhere to make sure we do not get a null from the history.

Line:203, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/synthetictraces/LttngKernelTraceGenerator.java -> It's null when running a straight "Java Application".

When running GenerateTestValues for example, it calls CtfTmfTestTrace.TRACE2, which initializes CtfTestTraces, which calls this LttngKernelTraceGenerator.getPath() because of SYNTHETIC_TRACE. And if we leave it as is, it throws an NPE, preventing the program to run.

-------------------------------------
author: Kaeden Tapia
date: 2014-02-14 21:02:43.000000000

Patch Set 1: Verified+1 Code-Review+2 IP-Clean+1

(1 comment)

Line:203, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/synthetictraces/LttngKernelTraceGenerator.java -> Urgh, I didn't notice the mains. It sounds like those should be IApplications instead of plain java. Something for a later patch perhaps.

-------------------------------------
