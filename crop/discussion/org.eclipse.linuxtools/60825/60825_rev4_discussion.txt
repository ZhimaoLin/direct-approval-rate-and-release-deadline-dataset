DESCRIPTION

Bug 471662 - Refactor the run image wizard into a launcher

- fill in the RunDockerImageLaunchConfigurationDelegate
- create main, ports, links, volumes, and environment tabs using
  existing Run Image wizard models and a tab group to group them
- add launch extensions to Docker UI plug-in
- change some existing wizard model classes to add toString() methods
  and create methods that take an output string

Change-Id: I2aefcde43e9b3f239fd89b13db7ec22fd319b9bc


COMMENTS

author: Kaylin Maxwell
date: 2015-11-24 22:06:30.000000000

Uploaded patch set 4.

-------------------------------------
author: Brenden Conley
date: 2015-11-24 22:06:36.000000000

Patch Set 4:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/10110/

-------------------------------------
author: Brenden Conley
date: 2015-11-24 22:22:39.000000000

Patch Set 4: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/10110/ : SUCCESS

-------------------------------------
author: Zechariah Krause
date: 2015-11-25 09:13:13.000000000

Patch Set 4: Code-Review-1

(9 comments)

Posted some comments on the RunImageMainTab class but they also apply to other tabs.

Line:64, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/SWTImagesFactory.java -> What about taking the same images as the ones already used in the Docker Explorer view to display links, volumes and ports ?

Line:85, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> All widgets should be declared locally if you use DataBinding

Line:439, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> Commented blocks should be removed for now.

Line:622, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> This method can be removed

Line:627, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> This method can also be removed

Line:633, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> These comments can be removed

Line:685, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> Exception should be logged

Line:693, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> All configuration attributes should be taken from the model, not the widgets.

Line:738, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> This should not be used in conjunction with DataBinding, because this Listener will be called on widget changes and not on model changes (which occur after the call here). This means that the comparison between the original launch config and the working copy will not be accurate (actually, there will a delay of 1 change).
Instead, the listener should just implement the PropertyChange interface and be registered on the model.

-------------------------------------
author: Kaylin Maxwell
date: 2015-11-26 00:17:27.000000000

Patch Set 4:

(4 comments)

I have used your main tab modifications with some additional modifications.  The container name and entrypoint have to be set to null to make them disappear once set.  I also added the propertyChangeListener to end of initializeFrom.  It works fine.  I made similar changes to all tabs, but could not get around the check state problems and some loading issues for tables.  Tables don't operate properly for some reason.  A table will not show the check state on initializeFrom unless manually prodded.  It works fine thereafter, but won't get the initial state to be on even though the model knows it is on and will cause the Apply button to stay off if selected.  I also had problems getting the environment table to load unless I manually setinput in initializeFrom.  To do these, I had to expose the tables as fields.  Other than that, I used your icons as requested and verified the container could be created.

Line:64, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/SWTImagesFactory.java -> Done

Line:622, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> Done

Line:627, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> Done

Line:633, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/launch/RunImageMainTab.java -> Done

-------------------------------------
author: Gerrit Code Review
date: 2015-11-27 20:29:09.000000000

Change has been successfully cherry-picked as 973a63e7cf4f298667cb06c5aa76982bf27a71bc by Kaylin Maxwell

-------------------------------------
