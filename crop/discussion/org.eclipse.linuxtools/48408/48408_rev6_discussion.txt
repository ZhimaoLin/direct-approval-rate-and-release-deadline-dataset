DESCRIPTION

Bug 467931 - adapt proxy to changes in o.e.remote and PTP

Following o.e.remote and PTP changes have broken remote proxy:
- rdt and remotetools no longer supported in PTP
- o.e.remote implements OSGi services now

Any reference to unsupported schems will throw CoreException

Added a new plug-in (org.eclipse.linuxtools.remote.proxy.tests) with
 tests. It is neeed to export TEST_HOST, TEST_USERNAME and TEST_PASSWORD
 variables to activate them, otherwise they will be skipped.

Also updated PTP/remote build target to Mars milestones

Change-Id: Iab26eda77dee809bd4122f9001184c5fe4d4dd81
Signed-off-by: Logan Yoder xxx@xxx.xxx


COMMENTS

author: Logan Yoder
date: 2015-06-01 17:21:51.000000000

Uploaded patch set 6.

-------------------------------------
author: Brenden Conley
date: 2015-06-01 17:21:58.000000000

Patch Set 6:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9602/

-------------------------------------
author: Logan Yoder
date: 2015-06-01 17:31:21.000000000

Patch Set 6:

> After thinking about it.  I think the right thing to do is to
 > remove the remotetools proxy from Linux Tools as it is no longer
 > supported and this is a major release.  The Remote browser should
 > switch to use ssh and see if the current ssh proxy fills the bill. 
 > If yes, then use it.  Otherwise, augment the ssh proxy as needed to
 > satisfy the needs of the UI file/directory browser.
 > 
 > Users using remotetools configurations will have to change over to
 > use ssh.
 > 
 > Does that seem reasonable?

It does.

I've already removed remotetools support from Linux Tools in this patch. Any reference to a remotetools-based project or URI will throw a CoreException. I've also created a new test plug-in (o.e.l.remote.proxy.tests) to ensure my changes did not the proxy.

However, different from what you proposed, i've used org.eclipse.remote implementation of SSH instead of Linux Tools' ssh proxy. Since that o.e.remote has been used in many places like ptp and cdt, I do believe it becomes the "the fact" framework for remote operations. So, I was thinking in deprecate LT's ssh implementation.

What do you think?

-------------------------------------
author: Brenden Conley
date: 2015-06-01 17:44:02.000000000

Patch Set 6: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9602/ : SUCCESS

-------------------------------------
author: Kaylin Maxwell
date: 2015-06-01 23:47:09.000000000

Patch Set 6: Code-Review-1

(11 comments)

Line:1, profiling/org.eclipse.linuxtools.remote.proxy.tests/resources/localTestProject/.cproject -> Is this file needed or accidentally checked in?

Line:1, profiling/org.eclipse.linuxtools.remote.proxy.tests/resources/syncTestProject/.cproject -> Is this file needed or accidentally checked in?

Line:4, profiling/org.eclipse.linuxtools.remote.proxy.tests/.settings/org.eclipse.jdt.core.prefs -> Again, do you require Java 1.8?

Line:3, profiling/org.eclipse.linuxtools.remote.proxy.tests/.classpath -> Do you need Java 1.8?

Line:1, profiling/org.eclipse.linuxtools.remote.proxy.tests/resources/syncTestProject/main.c -> Please add an EPL license.

Line:6, profiling/org.eclipse.linuxtools.profiling.launch.ui.rdt.proxy/META-INF/MANIFEST.MF -> Should be 2.0.0.qualifier.

Line:29, releng/org.eclipse.linuxtools.target/linuxtools-e4.5.target -> I think this should be removed.  From the Mars RC2 build, I can only find ptp.rdt.sync.feature.

Line:22, profiling/org.eclipse.linuxtools.profiling.launch.ui.rdt.proxy/pom.xml -> If you are removing remotetools, then it should be 2.0.0-SNAPSHOT

Line:39, oprofile/org.eclipse.linuxtools.oprofile.remote.launch/plugin.xml -> Should this result in a plug-in version bump?  Remember the pom.xml as well.

Line:5, profiling/org.eclipse.linuxtools.rdt.proxy/META-INF/MANIFEST.MF -> Should be 2.0.0.qualifier

Line:21, profiling/org.eclipse.linuxtools.rdt.proxy/pom.xml -> This should be 2.0.0 as you are changing API with the schema change.

-------------------------------------
