DESCRIPTION

Tmf: Update the state system explorer view to show state systems from modules

Change-Id: Ibf3e84ba4a1ca02e1b86e3730fbc5483e2a85f03
Signed-off-by: Aryana Jones xxx@xxx.xxx
Signed-off-by: Ayanna Reed xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-11-05 20:40:02.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3836/

-------------------------------------
author: Brenden Conley
date: 2013-11-05 20:51:37.000000000

Patch Set 1: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3836/ : FAILURE

-------------------------------------
author: Braxton Mccarthy
date: 2013-11-05 21:06:19.000000000

Patch Set 1: Code-Review-2

wai wai wait, I don't like this :P 

We should get all the state systems from one place. So first we'd have to move the current statesystem infrastructure (so I guess ITmfTrace.getStateSystems() and .registerStateSystem()) over to the analysis framework. So views like the SSExplorer, but also any other views using state systems, shouldn't have to look left and right for possible sources of information.

-------------------------------------
author: Annalise Jimenez
date: 2013-11-05 21:09:08.000000000

Patch Set 1:

Yeah, but I didn't want to go through all that porting state systems to the analysis framework just yet, but we'd like to state system explorer to show the module state systems.  Any other short term idea?

-------------------------------------
author: Braxton Mccarthy
date: 2013-11-05 21:14:13.000000000

Patch Set 1:

> Any other short term idea?

Keep it in your "fork"? ;-)

It's always sad doing short-term work that eventually becomes obsolete, because this is wasted time in the long run.

We could prioritize moving the state system to the new analysis infrastructure on our side. Did you guys have plans to work on this? I could start looking at it maybe next week?

-------------------------------------
author: Ayanna Reed
date: 2013-11-05 21:20:50.000000000

Patch Set 1:

I look with Genevieve tomorrow to push patches for the state system analysis.
But it is true that without this patch in the state system explorer, you can't be able to see something in TMF.

-------------------------------------
author: Annalise Jimenez
date: 2013-11-05 21:22:23.000000000

Patch Set 1:

Actually you know what, it's pure laziness on my part :p
If I think on it, it's super easy to port to the analysis module.  I might even do it by the end of this day!

And pray that I didn't break other parts of the system during that time... aka hope that unit tests cover all the state system cases ;-)

-------------------------------------
author: Ayanna Reed
date: 2013-11-05 21:27:04.000000000

Patch Set 1:

Ok, so we wait to have this patch for the analyis framework. 
Good luck, and we can continue the process to push the state system analysis.

-------------------------------------
author: Braxton Mccarthy
date: 2013-11-05 21:31:12.000000000

Patch Set 1:

@Florian: yes of course, the SS Explorer (and all statesystem-using views pretty much) will have to be updated to work with the analysis framework. But that will be the final, long-term solution. Well at least until we decide to break everything again ;)

It's just that this temporary hybrid "let's put the map into another map and iterate on all the maps" approach really... irked(?) me.

Looking forward to the patches! Thank you guys/gals for your work on this!

-------------------------------------
author: Ayanna Reed
date: 2013-11-05 21:37:28.000000000

Patch Set 1:

@Alex : I agree that a Map put into another is very ugly...

-------------------------------------
author: Annalise Jimenez
date: 2013-11-06 13:45:27.000000000

Abandoned

Ok, instead, as an example, I'll port the Lttng Kernel state system to the analysis module, deprecate the old getStateSystem way and update the views accordingly.  The only short term dramatic consequence will be that statistics state system will not appear in the state system explorer (I'll leave that for others who want to get familiar with the analysis module API ;-)

-------------------------------------
