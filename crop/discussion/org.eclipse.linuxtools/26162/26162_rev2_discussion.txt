DESCRIPTION

lttng-control: Preserve session folder structure during import

Change-Id: Ia4071a08a83d85838b1c83dbbff43b3a622f6587
Signed-off-by: Ricky Reeves <Meredith xxx@xxx.xxx


COMMENTS

author: Ricky Reeves
date: 2014-05-08 18:22:29.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2014-05-08 19:11:43.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6918/

-------------------------------------
author: Brenden Conley
date: 2014-05-08 19:53:43.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6918/ : SUCCESS

-------------------------------------
author: Kaeden Tapia
date: 2014-05-08 22:34:12.000000000

Patch Set 2: Code-Review-1

(7 comments)

Line:61, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/ImportFileInfo.java -> While stepping, this gave me:
F/Remote/Traces/test-20140508-180611

so it is the full workspace path, not the relative path to Traces which should be test-20140508-180611

Line:146, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/ImportFileInfo.java -> relative to?

Line:150, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/ImportFileInfo.java -> should this be named getRelativeDestinationFolder then?

But the way it's used in ImportHandler.java is not relative so it looks like it's the field that needs to be renamed.

Line:268, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/ImportDialog.java -> IPath relativeTracePath = traceParentPath.makeRelative(sessionParentPath);

that should save a few lines.

Line:272, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/ImportDialog.java -> I believe destinationFolder is the same as traceFolder here so you could remove this line.

Line:273, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/ImportDialog.java -> toOSString will put backslashes (\) on Windows which will work but workspace paths use forward slashes so it's a bit more correct to use toString. But here just destinationFolder.getFolder(relativeTracePath) should work too I think.

Line:267, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/handlers/ImportHandler.java -> the local var destinationFolder can be used here instead of calling getDestinationFolder again

-------------------------------------
author: Ricky Reeves
date: 2014-05-09 11:54:03.000000000

Patch Set 2:

(5 comments)

Line:61, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/ImportFileInfo.java -> I'll describe it as full workspace path instead and rename the parameter and attribute

Line:268, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/ImportDialog.java -> Done

Line:272, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/ImportDialog.java -> Done

Line:273, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/dialogs/ImportDialog.java -> Done

Line:267, lttng/org.eclipse.linuxtools.lttng2.control.ui/src/org/eclipse/linuxtools/internal/lttng2/control/ui/views/handlers/ImportHandler.java -> Done

-------------------------------------
