DESCRIPTION

tmf: Fix deadlock in analysis module

Deadlock occurred when renaming a trace while its analyses are ongoing.

The refresh of supplementary folders is now done outside of the analysis
synchronization lock.

It is done by the analysis only when the job is successfully complete,
or when the job is specifically cancelled (e.g. from Progress view) in
the canceling() method.

When the analysis job is cancelled by the framework (e.g. closing a
trace while analysis is ongoing) then the refresh of supplementary
folder is done in the trace's dispose() method. This ensures the folder
is only refreshed once per trace (instead of once for every analysis).

Change-Id: Id65fe9d57fadab1d17096d7e20bb15f43d30f1c7
Signed-off-by: Luciana Barry xxx@xxx.xxx


COMMENTS

author: Luciana Barry
date: 2014-04-22 15:55:32.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2014-04-22 15:55:39.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6548/

-------------------------------------
author: Brenden Conley
date: 2014-04-22 16:18:04.000000000

Patch Set 3: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6548/ : FAILURE

-------------------------------------
