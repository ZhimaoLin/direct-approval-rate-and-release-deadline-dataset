DESCRIPTION

tmf: Make TransientState really re-entrant

Wrap all reading and writing methods under a reader-writer lock.
This will allow much better consistency when querying a state
system while it is being built.

It was also required to rework the hasInfoAbout() method. Since the
state of the TransientState can change between two method invocations,
it was prone to race conditions. Now it will return the interval it
had at the time, if there is one.

Change-Id: I1a34e410eea1a02288c5388d1983e9c16ce56f0f


COMMENTS

author: Brenden Conley
date: 2014-01-24 00:13:11.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5162/

-------------------------------------
author: Brenden Conley
date: 2014-01-24 01:01:04.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5162/ : SUCCESS

-------------------------------------
author: Ivy Mitchell
date: 2014-01-24 20:12:53.000000000

Patch Set 1: Code-Review+1 IP-Clean+1

Looks good to moi, I hope we'll have a test case to prove that this works... I cannot click on verified otherwise.

-------------------------------------
author: Luciana Barry
date: 2014-01-27 18:55:07.000000000

Patch Set 1: Verified+1 Code-Review+1 IP-Clean+1

Seems to fix the NullPointerException during live reading.

-------------------------------------
author: Braxton Mccarthy
date: 2014-01-27 19:36:10.000000000

Patch Set 1: Code-Review+2

-------------------------------------
