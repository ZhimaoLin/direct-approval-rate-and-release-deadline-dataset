DESCRIPTION

tmf: Axe the TmfEventTypeManager

Track the available event types in each trace object instead. K.I.S.S.

Also removed the notion of "context" from TmfEventType, which is not
needed anymore.

Change-Id: I24bd3f87df1fe4249933feb14d4eb113a5c1a5a5
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Braxton Mccarthy
date: 2014-05-20 21:12:48.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2014-05-20 21:12:53.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7056/

-------------------------------------
author: Braxton Mccarthy
date: 2014-05-20 21:18:38.000000000

Patch Set 2:

(2 comments)

Removed commented lines that were supposed to be removed.

Added a small javadoc explaining the out-of-place default-visibility method.

Line:86, lttng/org.eclipse.linuxtools.tmf.ctf.core/src/org/eclipse/linuxtools/tmf/ctf/core/CtfTmfTrace.java -> The idea was suggested to use a non-final ImmutableMap instead, since we do more .get() than .put().

Keeping a final Builder, and "saving" it as a Map every time we do an insertion would make not-completely-totally-ugly, but it's still a kind of twisted way doing things... I'd need to see hard benchmarks numbers before agreeing to do that :P

Line:403, lttng/org.eclipse.linuxtools.tmf.ctf.core/src/org/eclipse/linuxtools/tmf/ctf/core/CtfTmfTrace.java -> Not particularly happy about having to add this, but this keeps the behavior the same compared to before this patch (event types are registered only when you do event.getType(). Sounds iffy, but it worked so far...). This could probably be cleaned up more in the future.

-------------------------------------
author: Brenden Conley
date: 2014-05-20 21:24:12.000000000

Patch Set 2: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7056/ : FAILURE

-------------------------------------
author: Braxton Mccarthy
date: 2014-05-24 06:01:09.000000000

Patch Set 3: Patch Set 2 was rebased

-------------------------------------
