DESCRIPTION

tmf: Store the ID in the state system itself

Many components already refer to state systems with an ID, might
as well store it in the state system object itself for better
encapsulation.

Beyond the SSID pun, I like having it *not* be getId(), because that
quickly becomes confusing with IAnalysisModule.getId() (even though
those two values are usually the same).

Change-Id: I51babc177f54b4f8af66544e6c75be53da56b6c4
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Braxton Mccarthy
date: 2014-02-05 23:08:40.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2014-02-06 01:06:15.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5354/

-------------------------------------
author: Brenden Conley
date: 2014-02-06 01:55:39.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5354/ : SUCCESS

-------------------------------------
author: Annalise Jimenez
date: 2014-02-06 14:45:33.000000000

Patch Set 2: Code-Review-1

(2 comments)

One little precision requested. Sorry I missed that at first review.

Line:88, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/StateSystem.java -> Unique per trace or per analysis module? And will the earth shatter if it is not unique or is it just that the state system explorer may not show it?

Line:56, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/backends/partial/PartialStateSystem.java -> That name will not be unique if you have many partial state systems in one analysis. But since I don't know what a partial state system is used for, maybe it does not matter.

-------------------------------------
author: Braxton Mccarthy
date: 2014-02-06 15:36:03.000000000

Patch Set 2:

(2 comments)

Don't worry, I'd rather receive thorough reviews than free +2's ;)

Line:88, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/StateSystem.java -> Unique in the world(!). If there is a clash, hmm, I guess the SSE will only display the last one that was registered with that ID? We could call that "undefined behavior".

The point was to strongly incite the user to use namespaced IDs like org.eclipse.linuxtools.lttng....

In fact, new StateSystem() is only called internally though. The "correct" way to build a state system now is via the analysis module. And the analysis module uses its own ID for this one.

Line:56, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/backends/partial/PartialStateSystem.java -> Yeah, it's complicated ;)

This particular StateSystem object here is only used internally by the PartialBackend when it has to resolve queries. It should never be exposed to anything else, and of course not registered in the list of state systems/analyses.

-------------------------------------
author: Annalise Jimenez
date: 2014-02-07 00:28:52.000000000

Patch Set 2: Code-Review+1

Ok no more objections, though that could have been documented in the javadoc, but it's not necessary

-------------------------------------
author: Braxton Mccarthy
date: 2014-02-07 18:59:39.000000000

Patch Set 2: Verified+1 Code-Review+2 IP-Clean+1

-------------------------------------
