DESCRIPTION

lttng: Support live updating of Control Flow view and Resources view

- Update AbstractTimeGraphView to use a list as input element and to
support a time graph content provider.

- Update AbstractTimeGraphView to create one separate BuildThread per
trace in the trace set. Change buildEventList method to be called
independently for each trace in the trace set.

- Update AbstractTimeGraphView to use a CopyOnWriteArrayList for the
entry list of each trace, and stop exposing the entry list map to
subclasses. Add interface to add or remove a list of entries to/from the
entry list of a trace.

- Update AbstractTimeGraphView refresh method to refresh the time graph
combo or time graph viewer when possible and avoid calling setInput,
which resets all tree elements.

- Update AbstractTimeGraphView to perform packing of tree columns only
once.

- Add support in TimeGraphEntry to update the end time and to replace
the last event with an event starting at the same time.

- Fix TmfEventsEditor sending TmfTraceClosed with null trace.

- Update ControlFlowView and ResourcesView to build the event list for a
trace continuously in a loop until its state system build is complete.
Support continuous updating of the entry list and its tree structure,
and partial updating of the event list at each iteration.

Change-Id: I440c369ddef703f8fbceac221cfea0c0699348c0
Signed-off-by: Luciana Barry xxx@xxx.xxx


COMMENTS

author: Luciana Barry
date: 2014-01-29 20:47:18.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2014-01-29 22:14:22.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5259/

-------------------------------------
author: Braxton Mccarthy
date: 2014-01-29 22:46:56.000000000

Patch Set 3: Code-Review+1

I still think those ArrayList's should be LinkdedList's, irregardless of the stock market options. But we could argue it's a refactoring of existing code, so outside of the scope of this patch...

-------------------------------------
author: Brenden Conley
date: 2014-01-29 23:07:41.000000000

Patch Set 3: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5259/ : SUCCESS

-------------------------------------
author: Ivy Mitchell
date: 2014-01-30 15:23:16.000000000

Patch Set 3:

(5 comments)

Line:234, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/src/org/eclipse/linuxtools/internal/lttng2/kernel/ui/views/controlflow/ControlFlowView.java -> why did you do the map and not arraylist? I am curious, this is not affecting my giant -1.

Line:274, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/src/org/eclipse/linuxtools/internal/lttng2/kernel/ui/views/controlflow/ControlFlowView.java -> comment on this please?

Line:305, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/src/org/eclipse/linuxtools/internal/lttng2/kernel/ui/views/controlflow/ControlFlowView.java -> Should this be a multicatch which is awesome?

Line:492, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/src/org/eclipse/linuxtools/internal/lttng2/kernel/ui/views/controlflow/ControlFlowView.java -> multicatch, also, do we want to printstacktraces?

Line:578, lttng/org.eclipse.linuxtools.lttng2.kernel.ui/src/org/eclipse/linuxtools/internal/lttng2/kernel/ui/views/controlflow/ControlFlowView.java -> multicatch?

-------------------------------------
