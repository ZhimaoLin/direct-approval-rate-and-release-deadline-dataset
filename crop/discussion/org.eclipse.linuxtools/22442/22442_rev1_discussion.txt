DESCRIPTION

fix #428919: Support multi-trace histograms

When displaying a multi-trace experiment, colorize the histograms,
in order to know the origin of the events.

Change-Id: I9436a4b8d08250e41b7e68a46757b85a9797d658
Signed-off-by: Bryce Kline xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2014-02-24 15:14:51.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5642/

-------------------------------------
author: Brenden Conley
date: 2014-02-24 15:53:38.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5642/ : SUCCESS

-------------------------------------
author: Ricky Reeves
date: 2014-02-27 19:11:37.000000000

Patch Set 1: Code-Review-1

(27 comments)

Line:2, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramScaledData.java -> Please update year

Line:1, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramRequest.java -> Update year

Line:109, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramRequest.java -> remove deprecated constructor and keep only the updated one. Master is for 3.0

Line:117, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramRequest.java -> remove 2 empty lines

Line:117, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramRequest.java -> Please add a speace before :

Line:117, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramRequest.java -> Please use different name than t for variables or parameters (e.g. trace)

Line:17, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramDataModel.java -> change 2013 to 2014

Line:170, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramDataModel.java -> I haven't seen this being used for a for-loop. I wasn't sure if it causes an ArrayOutOfBoundException. Now I understand. However, I prefer the "standard" way of writing the for-loop"

There is actually no JUnit test for the copy constructor. If it's ok for you please add one.

Line:243, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramDataModel.java -> add xxx@xxx.xxx 3.0

Line:464, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramDataModel.java -> xxx@xxx.xxx 3.0

Line:464, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramDataModel.java -> remove since on master the API is 3.0

Line:304, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramView.java -> The more traces the more left the small histogram is moved to the right and hence is made smaller. Please update the layout handling for the legend so that the small histogram is not moved the the right.

Also, when having many traces not all traces fit into on row. I think it would be good to show the first 3 or 4 and have button to show a dialog with a legend with  all the traces.

Line:731, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramView.java -> add final before

Line:732, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramView.java -> Maybe also use trace instead of t

Line:732, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramView.java -> add space before :

Line:735, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/HistogramView.java -> Add space before after % operator

Line:12, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/IHistogramDataModel2.java -> No need for this class to keep backwards compatibility. Master is for 3.0

Line:27, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/IHistogramDataModel2.java -> Move this method to IHistogramDataModel and remove the deprecated one in IHistogramDataModel

Line:105, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/Histogram.java -> fHistogramBarColors should be private

Line:258, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/Histogram.java -> glad to see :-)

Line:461, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/Histogram.java -> no need to keep backwards compatibility. Master branch is 3.0

Line:461, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/Histogram.java -> no need to keep backwards compatibility. Master branch is 3.0

Line:473, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/Histogram.java -> no need to keep backwards compatibility. Master branch is 3.0

Line:729, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/Histogram.java -> maybe change nb to totalNbEvents to make clearer

Line:747, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/Histogram.java -> pls add space before/after <

Line:748, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/Histogram.java -> Add space before and after %

Line:748, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/views/histogram/Histogram.java -> change to nbEventsForTrace

-------------------------------------
author: Gerrit Code Review
date: 2014-03-05 09:35:37.000000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
