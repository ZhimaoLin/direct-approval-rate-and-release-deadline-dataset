DESCRIPTION

lttng: Fix for empty CFV and RV after restart (Bug 409345)

Change-Id: Id0275bb44f72e4a05be8b91699958975c7b108f9
Signed-off-by: Ricky Reeves <Meredith xxx@xxx.xxx

COMMENTS

author: Brenden Conley
date: 2013-05-29 13:12:20.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/2520/ 

-------------------------------------
author: Brenden Conley
date: 2013-05-29 13:28:15.000000000

Patch Set 1: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/2520/ : SUCCESS

-------------------------------------
author: Luciana Barry
date: 2013-05-29 15:44:56.000000000

Patch Set 1: (1 inline comment)

Would a similar support of TmfTraceOpenedSignal be needed for the views: Call Stack, Environment Variables, State System Explorer, UML2SD Loader?

At creation time, should the views get the active trace by using the trace manager instead of from TmfView.getActiveTrace?

Line:120, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/trace/TmfTrace.java -> Another option would be to create all the way up to TmfComponent constructors that take (boolean vip) as parameter. Then call super(true) here.

-------------------------------------
author: Ricky Reeves
date: 2013-05-29 18:46:37.000000000

Patch Set 1: (1 inline comment)

> Would a similar support of TmfTraceOpenedSignal be needed for the views: Call Stack, Environment Variables, State System Explorer, UML2SD Loader?

Yes, all the views and sequence diagram loader is affected. I'll update the patch.


>At creation time, should the views get the active trace by using the trace manager instead of from TmfView.getActiveTrace?

Yes, we should do that. However, this should be done in another patch

Line:120, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/trace/TmfTrace.java -> Yes, it would be an option. However TmfTrace extends TmfEventProvider which extends TmfDataProvider which then extends TmfComponent. So, I would need to add constructors to all the classes so that TmfTrace can pass the flag to the TmfComponent Constructor. I don't want to do this. We should think about priorities for signal handlers and implement that properly instead of adding a flag right now.

-------------------------------------
