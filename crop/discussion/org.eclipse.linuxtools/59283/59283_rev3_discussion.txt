DESCRIPTION

Bug 480885 - Docker-machine detection does not work on Mac OSX

Added a preference page for Docker Machine with validation
  Default values are set based on the OS name
Fixed missing validation support in main Docker page for
  refresh rate
Refactored preference page ids in plugin.xml for consistency
  with class names
Moved "Search" button on NewConnectionPage to top right, after
  the connection name field

Change-Id: I7ac2768676dfdcbab8ad864b8f74c2c7fe4f4020
Signed-off-by: Zechariah Krause xxx@xxx.xxx


COMMENTS

author: Zechariah Krause
date: 2015-11-02 15:41:08.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2015-11-02 15:41:14.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/10020/

-------------------------------------
author: Brenden Conley
date: 2015-11-02 15:56:02.000000000

Patch Set 3: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/10020/ : SUCCESS

-------------------------------------
author: Nathanael Holden
date: 2015-11-02 21:40:11.000000000

Patch Set 3: Code-Review-1

(6 comments)

I haven't tested this out yet, just a quick reading of the code.

Line:17, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/utils/SystemUtils.java -> Instead of using the 'os.name' system property, and attempting to look for keywords, why not use Platform.getOS() , which should resolve to one of the many OS_* fields it defines.

Line:100, containers/org.eclipse.linuxtools.docker.core/src/org/eclipse/linuxtools/internal/docker/core/DockerMachine.java -> Any reason to change to using ProcessBuilder over just Runtime.exec() ? exec() also takes an array of environment variables.

Line:49, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/preferences/DockerMachinePreferencePage.java -> This can probably be removed if the suggestions for performOk and performApply are implemented.

Line:59, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/preferences/DockerMachinePreferencePage.java -> Does this really need to be overridden ? performOK() from FieldEditorPreferencePage iterates through all the 'fields' (that you added with addField) and stores them.

I really think this should work without this overriding.

Line:65, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/preferences/DockerMachinePreferencePage.java -> performApply just calls performOk in PreferencePage, which is basically what we want.

Line:71, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/preferences/DockerMachinePreferencePage.java -> If this method just calls the base class then it should be possible to just get rid of it and let the base one get called.

-------------------------------------
author: Gerrit Code Review
date: 2015-11-27 14:43:17.000000000

Change has been successfully cherry-picked as fd21fefe291b356704127a81ba5df73e6fcd600f by Zechariah Krause

-------------------------------------
