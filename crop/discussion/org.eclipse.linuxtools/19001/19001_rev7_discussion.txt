DESCRIPTION

ctf: Succeed at failing on OOME in tests

There is a test that fails with an OutOfMemoryError. This catches the
failure and thus makes the test succeed at failing.

Change-Id: If4b1a14bf135da3fae9f356631440acede56673c
Signed-off-by: Ivy Mitchell xxx@xxx.xxx
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-12-02 21:00:35.000000000

Uploaded patch set 7.

-------------------------------------
author: Brenden Conley
date: 2013-12-02 21:00:41.000000000

Patch Set 7:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4343/

-------------------------------------
author: Ivy Mitchell
date: 2013-12-02 21:01:13.000000000

Patch Set 7: -Code-Review

This is the proposed solution.

-------------------------------------
author: Braxton Mccarthy
date: 2013-12-02 21:35:39.000000000

Patch Set 7: Code-Review-1

(2 comments)

We've explored different solutions, in the end I think this is the least intrusive one. A Java OutOfMemory error is not something you normally catch. We just make sure that if it does happen, we register that this trace will fail in some way.

Small comments though.

Line:151, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/ctftestsuite/CtfTestSuiteTests.java -> this is confusing :P

Maybe call this "checkForFailure()" It's not sure if it's gonna fail, the check is included.

Line:157, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/ctftestsuite/CtfTestSuiteTests.java -> checkForSuccess()

-------------------------------------
author: Brenden Conley
date: 2013-12-02 21:48:59.000000000

Patch Set 7: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4343/ : SUCCESS

-------------------------------------
