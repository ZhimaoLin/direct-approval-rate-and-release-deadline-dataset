DESCRIPTION

lttng: mini benchmark

This patch tests the performance of building a kernel state system.

Change-Id: I5350d30ea4beb7c6678139fd22e1a3432e8b9926
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2014-05-08 18:18:41.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2014-05-08 18:18:47.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6916/

-------------------------------------
author: Brenden Conley
date: 2014-05-08 19:11:42.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6916/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2014-05-08 19:29:10.000000000

Patch Set 2: Code-Review-1

(4 comments)

Small things

Eventually we should have a test suite of all the benchmark-tests. With a HTML report that gets parsed by a script and puts the results on a website :O

Line:11, lttng/org.eclipse.linuxtools.lttng2.kernel.core.tests/src/org/eclipse/linuxtools/lttng2/kernel/core/tests/analysis/headless/BenchmarkAnalysis.java -> add empty line after the copyright header

Line:33, lttng/org.eclipse.linuxtools.lttng2.kernel.core.tests/src/org/eclipse/linuxtools/lttng2/kernel/core/tests/analysis/headless/BenchmarkAnalysis.java -> A quick description wouldn't hurt

no empty line after @author (or @since if there is xxx@xxx.xxx

Line:45, lttng/org.eclipse.linuxtools.lttng2.kernel.core.tests/src/org/eclipse/linuxtools/lttng2/kernel/core/tests/analysis/headless/BenchmarkAnalysis.java -> Don't do assumeTrue in @BeforeClass, it does weird things. Do it in xxx@xxx.xxx instead (which will require the method to not be static)

Line:57, lttng/org.eclipse.linuxtools.lttng2.kernel.core.tests/src/org/eclipse/linuxtools/lttng2/kernel/core/tests/analysis/headless/BenchmarkAnalysis.java -> trace is not close()'d (we should really enable the "potential leak" warnings. module isn't either.

-------------------------------------
author: Annalise Jimenez
date: 2014-05-08 19:41:29.000000000

Patch Set 2: Code-Review-1

(1 comment)

Alex, I'll work on the benchmark suite with the performance test framework when I'm back from vacation and/or after luna release. It's in my todo, but it's good to have a few tests already present to work with.

Line:71, lttng/org.eclipse.linuxtools.lttng2.kernel.core.tests/src/org/eclipse/linuxtools/lttng2/kernel/core/tests/analysis/headless/BenchmarkAnalysis.java -> Did I really do that instead of trace.dispose? Hm... I guess that would explain my GC exception then...

But I do recall I did a module.dispose in the original... though not on the file I put on my personal pastebin. Sorry about that.

-------------------------------------
author: Ivy Mitchell
date: 2014-05-08 21:18:58.000000000

Patch Set 2:

(1 comment)

Line:57, lttng/org.eclipse.linuxtools.lttng2.kernel.core.tests/src/org/eclipse/linuxtools/lttng2/kernel/core/tests/analysis/headless/BenchmarkAnalysis.java -> Would try with resources be a good idea here?

-------------------------------------
author: Annalise Jimenez
date: 2014-05-08 21:29:28.000000000

Patch Set 2:

(1 comment)

Line:57, lttng/org.eclipse.linuxtools.lttng2.kernel.core.tests/src/org/eclipse/linuxtools/lttng2/kernel/core/tests/analysis/headless/BenchmarkAnalysis.java -> It would most probably be a super duper terrific idea! Especially since the auto-closeable analysis are close to be in

-------------------------------------
