DESCRIPTION

Bug 508282 - Unable to list image tags on DockerHub

Refactored the code in the AbstractRegistry class to move the logic of
retrieving the tags by type of registry in private methods, and
implemented
the workflow to retrieve a Bearer token if needed when querying on
DockerHub.

Also, providing the resulting list of tags in a sorted, reverse order.

Added a few tests to verify the parsing of the 'Www-Authenticate'
response header,
and verify that the list of tags for an official image (eg: "php") and a
regular image (eg: "jboss/wildfly") can be retrieved. These tests are
temporarily ignored because they fail on Hudson (can the salve machine
connect to Docker Hub ?)

Also: refactored some loops to use the Stream API.

Change-Id: I60d7d71188e2e6e3d19a32e6fb1e53cb11605bf8
Signed-off-by: Zechariah Krause xxx@xxx.xxx
Reviewed-on: https://git.eclipse.org/r/85887
Tested-by: Brenden Conley
Reviewed-by: Kaylin Maxwell <Chasity xxx@xxx.xxx
(cherry picked from commit 1f01289c7cbcf30ef593a0ad06448ed3c4e984ac)


COMMENTS

author: Brenden Conley
date: 2016-11-30 01:25:09.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/11381/

-------------------------------------
author: Brenden Conley
date: 2016-11-30 03:25:20.000000000

Patch Set 2: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/11381/ : ABORTED

-------------------------------------
author: Brenden Conley
date: 2016-11-30 04:16:41.000000000

Patch Set 2: -Verified

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/11385/

-------------------------------------
author: Brenden Conley
date: 2016-11-30 04:36:27.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/11385/ : SUCCESS

-------------------------------------
author: Kaylin Maxwell
date: 2016-11-30 04:36:59.000000000

Patch Set 2: Code-Review+2

-------------------------------------
author: Gerrit Code Review
date: 2016-11-30 04:37:06.000000000

Change has been successfully cherry-picked as cd96593fe490694fdf37e30917b5b2362c49f69b by Kaylin Maxwell

-------------------------------------
