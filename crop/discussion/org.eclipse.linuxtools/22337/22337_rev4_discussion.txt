DESCRIPTION

tmf: Bug 428432: A trace moved to an experiment loses its trace type

- Updated all setting of trace persistent properties to use the common
method in TmfTraceTypeUIUtils, which refreshes the trace type.

- Updated the method to accept the resource as argument and to be able
to set the trace type of a trace element under an experiment.

- Added getExperiments() method to TmfExperimentFolder, and cleaned up
some code to use it.

Change-Id: I3446ac77d9929c7688a4b92fe8094b9428f15524
Signed-off-by: Luciana Barry xxx@xxx.xxx


COMMENTS

author: Luciana Barry
date: 2014-02-22 05:06:44.000000000

Uploaded patch set 4.

-------------------------------------
author: Brenden Conley
date: 2014-02-22 05:06:49.000000000

Patch Set 4:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5634/

-------------------------------------
author: Brenden Conley
date: 2014-02-22 05:20:54.000000000

Patch Set 4: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5634/ : FAILURE

-------------------------------------
author: Brenden Conley
date: 2014-02-22 13:12:31.000000000

Patch Set 4: -Verified

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5635/

-------------------------------------
author: Brenden Conley
date: 2014-02-22 13:28:00.000000000

Patch Set 4: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5635/ : FAILURE

-------------------------------------
author: Brenden Conley
date: 2014-02-22 16:37:16.000000000

Patch Set 4: -Verified

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5641/

-------------------------------------
author: Brenden Conley
date: 2014-02-22 17:16:27.000000000

Patch Set 4: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5641/ : SUCCESS

-------------------------------------
author: Kaeden Tapia
date: 2014-02-24 02:11:47.000000000

Patch Set 4: Code-Review-1

(1 comment)

Line:608, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DropAdapterAssistant.java -> With this patch, the TRACE_SUPPLEMENTARY_FOLDER persistent property isn't set on the link anymore. Does it matter?

-------------------------------------
author: Ricky Reeves
date: 2014-02-24 12:48:32.000000000

Patch Set 4:

(1 comment)

Line:608, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DropAdapterAssistant.java -> No, it doesn't because the supplementary folder is created when opening a trace and then the persistent property is set. Patrick and I looked at this.

-------------------------------------
author: Kaeden Tapia
date: 2014-02-24 15:57:53.000000000

Patch Set 4: Verified+1 Code-Review+1 IP-Clean+1

(1 comment)

Line:608, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/DropAdapterAssistant.java -> OK. We looked at all the places where the property is read and it's never on the link, always on the resource under the trace folder. Furthermore, before the patch, the property was not being set when the trace was added manually with "Select traces". So I'm confident that setting the property on the link is not needed.

-------------------------------------
author: Ricky Reeves
date: 2014-02-24 18:31:25.000000000

Patch Set 4: Verified+1 Code-Review+2 IP-Clean+1

-------------------------------------
