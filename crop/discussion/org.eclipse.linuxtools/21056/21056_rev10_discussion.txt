DESCRIPTION

ctf: add support for additional streams after trace is started

Minor cleanup in code.

A minor subtelty in this patch is that CTFTraceReader has an update()
method that needs to be called if a stream is added to the trace.

Change-Id: I253634d382eec38b033e30d36539b367f7efaccc
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2014-02-18 22:49:02.000000000

Uploaded patch set 10.

-------------------------------------
author: Brenden Conley
date: 2014-02-19 00:48:24.000000000

Patch Set 10:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5569/

-------------------------------------
author: Brenden Conley
date: 2014-02-19 01:43:33.000000000

Patch Set 10: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5569/ : SUCCESS

-------------------------------------
author: Kaeden Tapia
date: 2014-02-19 22:47:58.000000000

Patch Set 10: Code-Review-1

(2 comments)

Line:78, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/trace/CTFTraceGrowingTest.java -> all the methods in this file should start with a lower case

Line:693, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/CTFTrace.java -> This won't throw an exception for stream.getId() != 0 && existingStream.isIdSet(). So I suggest:

        if (existingStream != null) {
            if (stream.getId() != 0 || existingStream.isIdSet()) {
                throw new ParseException("Stream id already exists"); //$NON-NLS-1$
            }
        }

But strangely, if I do that... the tests fail.

-------------------------------------
author: Kaeden Tapia
date: 2014-02-19 23:06:16.000000000

Patch Set 10:

(1 comment)

Line:78, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/trace/CTFTraceGrowingTest.java -> Done

-------------------------------------
author: Gerrit Code Review
date: 2014-02-21 19:55:03.000000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
