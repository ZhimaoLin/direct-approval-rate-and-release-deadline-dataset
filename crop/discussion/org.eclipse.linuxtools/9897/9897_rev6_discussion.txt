DESCRIPTION

[LTTng] Add pid to events

Refer to the context or the state system

Change-Id: Ieb707addb8b9c6f6c56e844fe03ccdcd3e260365
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-01-29 22:50:06.000000000

Uploaded patch set 6.

-------------------------------------
author: Brenden Conley
date: 2013-01-29 23:02:37.000000000

Patch Set 6:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/1215/ 

-------------------------------------
author: Brenden Conley
date: 2013-01-29 23:15:16.000000000

Patch Set 6: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/1215/ : SUCCESS

-------------------------------------
author: Braxton Mccarthy
date: 2013-01-29 23:24:16.000000000

Patch Set 6: I would prefer that you didn't submit this

(4 inline comments)

Getting there!

Line:103, lttng/org.eclipse.linuxtools.lttng2.kernel.core/src/org/eclipse/linuxtools/lttng2/kernel/core/trace/CtfKernelTrace.java -> return type should be CtfKernelIterator (3rd time's the charm? ;) )

Line:54, lttng/org.eclipse.linuxtools.lttng2.kernel.core/src/org/eclipse/linuxtools/lttng2/kernel/core/trace/CtfKernelEvent.java -> "source" is the CPU for CtfTmfTrace (like UST traces), it should remain the same. Unless we decide to change it to PID/TID everywhere.

Line:64, lttng/org.eclipse.linuxtools.lttng2.kernel.core/src/org/eclipse/linuxtools/lttng2/kernel/core/trace/CtfKernelEvent.java -> we might want to go with getTid() for now (and context.tid)

Line:95, lttng/org.eclipse.linuxtools.lttng2.kernel.core/src/org/eclipse/linuxtools/lttng2/kernel/core/trace/CtfKernelEvent.java -> clone() does not work that way. You have to call:

  CtfKernelEvent clone = new (CtfKernelEvent) super.clone();
  // deep-copy fields that need to be deep-copied
  return clone;

(all field get shallow-copied automatically in Object.clone()).

The reason is that if a subclass calls super.clone(), they won't get an object of the right type.

Anyway, this becomes obsolete with the immutable-tmfevent patch.

-------------------------------------
author: Ivy Mitchell
date: 2013-04-12 14:34:51.000000000

Patch Set 6: Abandoned

the traces aren't ready for this kind of data

-------------------------------------
