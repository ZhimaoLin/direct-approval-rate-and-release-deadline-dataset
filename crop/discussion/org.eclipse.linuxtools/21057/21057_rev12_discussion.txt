DESCRIPTION

ctf: add support for growing streams

This patch adds the notion of the parser being in several states.
These states are detailed in the CTFResponse file.
The possible states are OK (we can keep reading),
WAIT (data will be available but is not yet),
FINISH (the trace has no more data),
ERROR (something happened that should not.

Note: this patch is non-trivial, even though it has been tested,
if there are regressions later, this patch is an interesting
candidate to check.

Change-Id: I2e6bd4bdc9e8e490ebb43910a749bcdca9754214
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2014-02-19 23:34:17.000000000

Uploaded patch set 12.

-------------------------------------
author: Brenden Conley
date: 2014-02-20 01:17:42.000000000

Patch Set 12:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5597/

-------------------------------------
author: Brenden Conley
date: 2014-02-20 02:03:17.000000000

Patch Set 12: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5597/ : SUCCESS

-------------------------------------
author: Kaeden Tapia
date: 2014-02-20 22:36:25.000000000

Patch Set 12:

(6 comments)

Cosmetic comments.

Line:280, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/StreamInputReader.java -> extra new line

Line:328, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/StreamInputReader.java -> This javadoc looked better before formatting.

Line:43, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/trace/CTFTraceGrowingStreamTest.java -> I don't think this is necessary.

Line:128, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/trace/CTFTraceGrowingStreamTest.java -> testGrowingLive instead?

Line:151, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/trace/CTFTraceGrowingStreamTest.java -> testGrowingNotLive instead?

Line:458, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/CTFTraceReader.java -> isLive?

-------------------------------------
author: Ivy Mitchell
date: 2014-02-20 22:39:48.000000000

Patch Set 12:

(6 comments)

Line:280, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/StreamInputReader.java -> I agree

Line:328, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/StreamInputReader.java -> Should we put it in a <pre>?

Line:43, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/trace/CTFTraceGrowingStreamTest.java -> I agree

Line:128, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/trace/CTFTraceGrowingStreamTest.java -> yes

Line:151, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/trace/CTFTraceGrowingStreamTest.java -> yes

Line:458, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/CTFTraceReader.java -> yes

-------------------------------------
