DESCRIPTION

ctf: add support for growing streams

This patch adds the notion of the parser being in several states.
These states are detailed in the CTFResponse file.
The possible states are OK (we can keep reading),
WAIT (data will be available but is not yet),
FINISH (the trace has no more data),
ERROR (something happened that should not.

Note: this patch is non-trivial, even though it has been tested,
if there are regressions later, this patch is an interesting
candidate to check.

Change-Id: I2e6bd4bdc9e8e490ebb43910a749bcdca9754214
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2014-02-12 16:51:35.000000000

Uploaded patch set 5.

-------------------------------------
author: Brenden Conley
date: 2014-02-12 16:56:12.000000000

Patch Set 5:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5439/

-------------------------------------
author: Brenden Conley
date: 2014-02-12 17:42:51.000000000

Patch Set 5: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5439/ : SUCCESS

-------------------------------------
author: Kaeden Tapia
date: 2014-02-12 21:35:05.000000000

Patch Set 5: Code-Review-1

(4 comments)

Line:116, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/StreamInputReader.java -> You can remove a bunch of "this." in the next few methods

Line:248, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/StreamInputReader.java -> do we need to do anything when ret is CTFResponse.WAIT here?

Line:279, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/StreamInputReader.java -> From what I understand, it would make more sense when addPacketHeaderIndex return false that we return CTFResponse.WAIT (or FINISH if not live)

Line:440, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/CTFTraceReader.java -> no -> not?

-------------------------------------
