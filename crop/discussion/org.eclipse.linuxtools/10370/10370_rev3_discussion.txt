DESCRIPTION

valgrind: recovery from failure on Valgrind.Command.whichversion()

This patch change whichVersion() method to return an empty string when something goes wrong to determine system's valgrind version.

Change-Id: Ie0bd3cb31804f2aa60c5a149a8ad55a301edc8a3
Signed-off-by: Madeline Richardson xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-05-02 21:50:35.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/2183/ 

-------------------------------------
author: Brenden Conley
date: 2013-05-02 22:04:48.000000000

Patch Set 3: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/2183/ : SUCCESS

-------------------------------------
author: Octavio Lucero
date: 2013-05-03 15:32:41.000000000

Patch Set 3: I would prefer that you didn't submit this

(3 inline comments)



Line:35, valgrind/org.eclipse.linuxtools.valgrind.core/src/org/eclipse/linuxtools/internal/valgrind/core/ValgrindCommand.java -> Missing NON-NLS.

Line:36, valgrind/org.eclipse.linuxtools.valgrind.core/src/org/eclipse/linuxtools/internal/valgrind/core/ValgrindCommand.java -> A case where I found this change to be useful is when the project passed is null. In this situation, instead of throwing an IOException, RuntimeProcessFactory.getFactory().exec(...) logs the exception and returns a null process. This is a valid case, since passing a null project means that the caller is interested in finding the installed Valgrind version by looking only at the system path.

Line:41, valgrind/org.eclipse.linuxtools.valgrind.core/src/org/eclipse/linuxtools/internal/valgrind/core/ValgrindCommand.java -> No need to catch this exception, this method already has a "throws IOException" clause. Also, if you take look at ValgrindLaunchPlugin#getValgrindVersion  you'll notice that IOExceptions are used to signal useful error messages.

-------------------------------------
author: Octavio Lucero
date: 2013-05-03 15:39:10.000000000

Patch Set 3: (1 inline comment)



Line:9, /COMMIT_MSG -> Try not to exceed 72 characters per line.

-------------------------------------
author: Erick Ross
date: 2013-09-02 23:08:20.000000000

Patch Set 3:

Wainer, are you still interested in getting this in ? If not I'll abandon it.

-------------------------------------
author: Erick Ross
date: 2013-09-02 23:08:25.000000000

Patch Set 4: Patch Set 3 was rebased

-------------------------------------
