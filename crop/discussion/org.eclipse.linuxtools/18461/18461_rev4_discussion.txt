DESCRIPTION

Avoid multiple seek to the same location.

There is multiple instance of seeking to the same location twice.
To solve this issue the seek method check if the current location is the same.

Here is the explanation:

[CtfTmfContext.java]

    public void setLocation(ITmfLocation location) {
        curLocation = (CtfLocation) location;
        if (curLocation != null) {
            getIterator().seek(curLocation.getLocationInfo());
        }
    }

GetIterator  --> will force a seek to curLocation
.seek        --> force an other seek to curLocation

Here are the called method:

    private CtfIterator getIterator() {
        return CtfIteratorManager.getIterator(fTrace, this);
    }

    public static synchronized CtfIterator getIterator(final CtfTmfTrace trace,
            final CtfTmfContext ctx) {
        return map.get(trace).getIterator(ctx);
    }

    public CtfIterator getIterator(final CtfTmfContext context) {
            [...]
            if (context.getLocation() != null) {
                final CtfLocationInfo location = (CtfLocationInfo) context.getLocation().getLocationInfo();
                retVal.seek(location);   /// FORCE SEEK!!!!!!!!!!!!
            }

Change-Id: Ib5ad6d05eb47045660c7ab5076930a30e829c7a0
Signed-off-by: Jordon Obrien xxx@xxx.xxx


COMMENTS

author: Jordon Obrien
date: 2013-11-17 06:10:01.000000000

Uploaded patch set 4.

-------------------------------------
author: Jordon Obrien
date: 2013-11-17 06:12:21.000000000

Patch Set 4:

Our rules are also to split the behavior and the coding style.
This one was a lazyness from me.
We keep the exception when coding style are really tiny (like one or two nits).

-------------------------------------
author: Brenden Conley
date: 2013-11-17 17:11:37.000000000

Patch Set 4:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3988/

-------------------------------------
author: Brenden Conley
date: 2013-11-17 17:55:12.000000000

Patch Set 4: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3988/ : SUCCESS

-------------------------------------
