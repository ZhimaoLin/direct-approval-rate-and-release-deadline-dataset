DESCRIPTION

ctf: Fix race condition in ctfiterator

You could advance an event while seeking, that is no longer possible
performance droped from 78000 events/s reading to 75000 events/s.
Potential hazard, threads can access the iterator and advance and seek
concurently. This is allowed by design, it's an iterator, it should be
wrapped in a safer candy coated shell so it doesn't melt in you hands.

Change-Id: I4df50389728f075f15312107f44847d61343366e
Signed-off-by: Ivy Mitchell xxx@xxx.xxx
Reviewed-on: https://git.eclipse.org/r/14060
Tested-by: Brenden Conley
Reviewed-by: Braxton Mccarthy xxx@xxx.xxx
IP-Clean: Braxton Mccarthy xxx@xxx.xxx
Tested-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-06-26 13:23:33.000000000

Change has been successfully cherry-picked as aa7d26d73dda7ab69912345df25190733b256cb5

-------------------------------------
