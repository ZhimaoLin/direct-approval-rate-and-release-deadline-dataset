DESCRIPTION

tmf: Bug 436258: Bookmark icon disappears on deletion even if there is

The TmfEventsTable now supports many bookmarks for the same rank by use
of a multimap. The tool tip is updated to show multiple bookmarks. The
remove and toggle bookmark actions now remove all bookmarks.

Change-Id: Ic22430ed642190e0c7dc58516d7f6759390329ca
Signed-off-by: Luciana Barry xxx@xxx.xxx


COMMENTS

author: Luciana Barry
date: 2014-06-02 18:10:15.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2014-06-02 18:26:36.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7207/

-------------------------------------
author: Braxton Mccarthy
date: 2014-06-02 19:13:28.000000000

Patch Set 1: Code-Review-1

(3 comments)

Some comments

Line:1018, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/events/TmfEventsTable.java -> Should be defined inside the if() to limit scope

Line:1021, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/events/TmfEventsTable.java -> Guava also has a Joiner class that allows you to join strings with custom separators without having to iterate and handle the first/last case differently. Would be more straightforward than the non-final separator below.

Line:1062, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/events/TmfEventsTable.java -> Checking (!markerIds.isEmpty()) would be more clear.

-------------------------------------
author: Brenden Conley
date: 2014-06-02 19:20:36.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/7207/ : SUCCESS

-------------------------------------
author: Luciana Barry
date: 2014-06-02 20:49:45.000000000

Patch Set 1:

(3 comments)

Line:1018, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/events/TmfEventsTable.java -> needed at line 1050

Line:1021, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/events/TmfEventsTable.java -> I tried to use it but you have to pass it a collection. We don't have a collection of the marker's messages, we'd have to create a new collection just for that.

Line:1062, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/events/TmfEventsTable.java -> I had considered doing exactly that but came to a different conclusion about clearness.

-------------------------------------
author: Braxton Mccarthy
date: 2014-06-02 22:08:34.000000000

Patch Set 1:

(2 comments)

Line:1018, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/events/TmfEventsTable.java -> not if you check markerIds.isEmpty() instead ;)

Line:1021, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/viewers/events/TmfEventsTable.java -> > we'd have to create a new collection just for that

Yes, that's what I had in mind. Granted, none of those solutions are pretty... until we can use Java 8 Streams!

-------------------------------------
