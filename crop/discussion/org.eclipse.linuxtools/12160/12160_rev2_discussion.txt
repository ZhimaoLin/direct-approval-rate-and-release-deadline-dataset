DESCRIPTION

Integrate Babeltrace CTF tests and fix parsing problems

Change-Id: I1bde488b99a6e29cfc5bcf4191e00b317d8c737f


COMMENTS

author: Kaeden Tapia
date: 2013-04-24 19:08:08.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2013-04-24 19:38:00.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/2044/ 

-------------------------------------
author: Brenden Conley
date: 2013-04-24 19:53:14.000000000

Patch Set 2: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/2044/ : SUCCESS

-------------------------------------
author: Ivy Mitchell
date: 2013-04-25 15:49:22.000000000

Patch Set 2: I would prefer that you didn't submit this; IP review completed

(5 inline comments)

Great start. If you need a hand with revisions, don't hesitate to poke me.

Line:460, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/internal/ctf/core/event/metadata/IOStructGen.java -> externalize  strings please.

Line:1920, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/internal/ctf/core/event/metadata/IOStructGen.java -> Good

Line:2403, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/internal/ctf/core/event/metadata/IOStructGen.java -> I would prefer keeping the helper function, if someone decides to muck around the with the specs for say ctf 1.9, we need to make it easy to support it.

Line:172, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/IntegerDeclaration.java -> There is a special hell for people who talk on cell phones in movies and leave tabs in code.

Line:594, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/CTFTrace.java -> me gusta

-------------------------------------
author: Ivy Mitchell
date: 2013-04-25 15:51:01.000000000

Patch Set 2: (2 inline comments)



Line:3, lttng/.gitignore -> Am I an artefact?

Line:3, lttng/org.eclipse.linuxtools.ctf.core.tests/traces/.gitignore -> Much better

-------------------------------------
author: Braxton Mccarthy
date: 2013-04-25 17:59:47.000000000

Patch Set 2: (5 inline comments)

Small comments. Looks very good so far!

Line:163, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/types/IntegerDeclarationTest.java -> Do they use c_style_variable_names in CDT? ;)

Coding style in LT is normally camelCase, so maybe something like signedFixture and unsignedFixture.

Line:435, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/trace/CTFTraceTest.java -> You should catch CTFReaderException here (and not throw an 'Exception', either another checked exception, or nothing).
If an unchecked exception goes through, it will fail the test anyway, without having to put the throws clauses (and matching javadoc) in every single test.

Line:10, lttng/org.eclipse.linuxtools.ctf.core.tests/traces/get-traces.sh -> This assumes git is installed on the build servers, which might not always be the case. Perhaps it's better to fix the proxy settings and use wget/curl?

Line:170, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/IntegerDeclaration.java -> H-How did this happen?? The project setting's Save Actions are supposed to add brackets to all 'if' clauses automatically...

Line:11, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/CTFTrace.java -> You can remove this "Contributors:" too.

-------------------------------------
author: Kaeden Tapia
date: 2013-04-25 20:36:49.000000000

Patch Set 2: (9 inline comments)



Line:163, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/types/IntegerDeclarationTest.java -> No idea why I did that. Done.

Line:3, lttng/.gitignore -> Woops, shouldn't be there, done.

Line:435, lttng/org.eclipse.linuxtools.ctf.core.tests/src/org/eclipse/linuxtools/ctf/core/tests/trace/CTFTraceTest.java -> Reading the trace can trigger other exceptions that are expected, like BufferOverflowException. I changed it to catch more specific exception and rethrow a CTFReaderException instead with the cause. Done.

Line:10, lttng/org.eclipse.linuxtools.ctf.core.tests/traces/get-traces.sh -> This is the manual script, the build servers use the ant file and won't fail it git it not installed.

Line:460, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/internal/ctf/core/event/metadata/IOStructGen.java -> Done

Line:2403, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/internal/ctf/core/event/metadata/IOStructGen.java -> Ok, I added another helper function.

Line:170, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/IntegerDeclaration.java -> Done

Line:172, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/IntegerDeclaration.java -> Done. Although this is not a tab...

Line:11, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/trace/CTFTrace.java -> Done

-------------------------------------
