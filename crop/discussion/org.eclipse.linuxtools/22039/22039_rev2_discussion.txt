DESCRIPTION

Systemtap: Fix errors with opening .stp files.

Prevent editor errors caused by opening out-of-workspace .stp
files, or by using OpenFileAction to open any .stp file:

-PathEditorInput's getAdapter(Class) now returns a non-null adapter,
allowing out-of-workspace files to open properly with it.
(Resolves EBZ #428149.)

-OpenFileAction now behaves like Eclipse's OpenLocalFileAction,
meaning that it uses default behaviour to choose the appropriate
input & editor type. This also means that File->Open File... and
the "Open" button on the Systemtap toolbar now choose the same
kind of editor to use for a .stp file.

Change-Id: If526eb4459efce5caa906e6cf18298d579751942
Signed-off-by: Landon Wilkins xxx@xxx.xxx


COMMENTS

author: Landon Wilkins
date: 2014-02-18 20:48:04.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2014-02-18 21:03:39.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5557/

-------------------------------------
author: Landon Wilkins
date: 2014-02-18 21:05:11.000000000

Patch Set 2:

This patch set fixes the previous version's creation of duplicate editors; re-opening a .stp file that's already opened always brings its editor in focus rather than sometimes opening a duplicate editor.

Also, STPEditors containing out-of-workspace files are still not unmarked as changed when all of its changes are undone (with ctrl+Z), but that's a problem generic to non-workspace files. (I assumed making the editor input persistent would fix that, but it looks like persistence has nothing to do with the issue.)

Finally, context & launch shortcut menus of non-workspace .stp files are different than those of in-workspace files. All files can be run as usual, though, so this is just an issue of inconvenience. If this is a big enough issue, I'll try to restore the old menus.

-------------------------------------
author: Brenden Conley
date: 2014-02-18 21:14:13.000000000

Patch Set 2: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5557/ : FAILURE

-------------------------------------
author: Brenden Conley
date: 2014-02-18 21:57:37.000000000

Patch Set 2: -Verified

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5559/

-------------------------------------
author: Brenden Conley
date: 2014-02-18 22:06:20.000000000

Patch Set 2: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/5559/ : FAILURE

-------------------------------------
author: Gerrit Code Review
date: 2014-02-27 15:01:34.000000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
