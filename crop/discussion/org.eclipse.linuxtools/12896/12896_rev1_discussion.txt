DESCRIPTION

tmf: Bug fixes for batch import

Remove non-standard non-modal wizard.
Add cancelability to the directory add.

Change-Id: Idedbcd2e5e98a161fcc9ed7e8d086ec11af951f6
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-05-16 18:20:50.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/2338/ 

-------------------------------------
author: Brenden Conley
date: 2013-05-16 18:45:00.000000000

Patch Set 1: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/2338/ : SUCCESS

-------------------------------------
author: Ricky Reeves
date: 2013-05-21 11:28:49.000000000

Patch Set 1: Fails; I would prefer that you didn't submit this

(6 inline comments)

removing of a directory doesn't work for me

Line:73, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/ImportTraceWizardScanPage.java -> should be private.
Keep also style (fBackgroundJob)

Line:162, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/ImportTraceWizardScanPage.java -> space for '=' is needed.
Also, background job should be local variable.

Line:66, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/BatchImportTraceWizard.java -> Not needed. Use Status.CANCEL_STATUS.

Line:151, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/BatchImportTraceWizard.java -> fParentTraces are in a synchrozized block in updateFiles(). Usually, you would need synchronized here and method below since it could  be called in multiple threads. However, it is technically not possible to add/remove a directory/file when the updateFile thread is running. Please double-check if this is correct and add only a synchronized if necessary.

Line:166, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/BatchImportTraceWizard.java -> When pressing the remove button, the directory is not removed. In my case it was the last directory.

Line:185, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/tmf/ui/project/wizards/importtrace/BatchImportTraceWizard.java -> remove empty if statement.

-------------------------------------
