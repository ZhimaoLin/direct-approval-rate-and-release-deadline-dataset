DESCRIPTION

ctf: Fix Integer 33-63 bit handling

Thanks Jordon Obrien for the initial patch.

Change-Id: I388280ef111fe3fd50729780f13e984cbf648886
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-11-26 15:20:51.000000000

Patch Set 1: Code-Review-1

I am now making a test case to test this better, but I feel the patch should work and fixed a hidden bug.

-------------------------------------
author: Brenden Conley
date: 2013-11-26 15:32:06.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4169/

-------------------------------------
author: Jordon Obrien
date: 2013-11-26 16:07:22.000000000

Patch Set 1: Code-Review-1

(2 comments)

first comments, before you move forward on this one.

Line:124, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/IntegerDefinition.java -> This test is wrong. You can read a int of 78 bits here.
Any integer larger than 64 bits should throw an exception.

Line:126, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/IntegerDefinition.java -> You cannot use getLong as is.
Like the getInt(...), you need to pass the length.
There is the case where you need to read 42 bits at the "END" of the stream. getLong will fail.

You can fix this by passing a length, and split the length into the two getInt in the actual implmentation.

-------------------------------------
author: Brenden Conley
date: 2013-11-26 16:16:10.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4169/ : SUCCESS

-------------------------------------
author: Ivy Mitchell
date: 2013-11-26 18:01:20.000000000

Patch Set 1:

(1 comment)

Line:126, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/types/IntegerDefinition.java -> I will get on this now.

-------------------------------------
