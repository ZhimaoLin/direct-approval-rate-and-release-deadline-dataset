DESCRIPTION

ctf: Fix Integer 33-63 bit handling

* add getLong( length, signed) to bitbuffer
* add test cases for getLong

Thanks Jordon Obrien for the initial patch.

Change-Id: I388280ef111fe3fd50729780f13e984cbf648886
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-11-26 21:14:05.000000000

Uploaded patch set 5.

-------------------------------------
author: Brenden Conley
date: 2013-11-26 21:14:16.000000000

Patch Set 5:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4186/

-------------------------------------
author: Brenden Conley
date: 2013-11-26 21:24:31.000000000

Patch Set 5: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4186/ : FAILURE

-------------------------------------
author: Ivy Mitchell
date: 2013-11-26 21:30:53.000000000

Patch Set 5:

The test has failed due to GCov's tests timing out. I have re-initiated the test.

-------------------------------------
author: Jordon Obrien
date: 2013-11-27 04:01:34.000000000

Patch Set 5:

(2 comments)

more nits

Line:118, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/io/BitBuffer.java -> signedness does not matter for 64-bits

Line:140, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/io/BitBuffer.java -> to be exact:
position is byte align and length is 64-bits.
Both condition are mandatory.

-------------------------------------
author: Ivy Mitchell
date: 2013-11-27 04:12:54.000000000

Patch Set 5: Code-Review-1

(1 comment)

I have answered an issue, and I have relaunched the build, as gcov is failing again. I have a patch to replace the base getLong on the way, so I am giving this patch a minus one until it is properly rebased on the other patch.

Line:118, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/io/BitBuffer.java -> In java, I think that 64 bits are always unsigned. so in reading the data, since signedness here is really to extend the sign to the end, it's the same thing. That being said, this can be changed to make get(length, bool extendsign)?

-------------------------------------
author: Jordon Obrien
date: 2013-11-27 04:15:13.000000000

Patch Set 5:

(1 comment)

ok, I gonna review the other patch-set.

Line:9, /COMMIT_MSG -> remove space (next time you upload a patch)

-------------------------------------
author: Jordon Obrien
date: 2013-11-27 04:21:41.000000000

Patch Set 5:

(1 comment)

signedness

Line:118, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/io/BitBuffer.java -> No, in java long are signed.

signedness represent "the sign property" (and not the fact that the number is signed). So, signedness mean "the signed or unsigned property..."

Here is the definition:
  "Signedness is a property of data types representing numbers in computer programs,..."

-------------------------------------
author: Ivy Mitchell
date: 2013-11-27 18:48:49.000000000

Patch Set 5:

(1 comment)

commented

Line:118, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/ctf/core/event/io/BitBuffer.java -> You are correct. I was aware of that, but have poorly expressed myself, and I will make efforts to be clearer henceforth.

-------------------------------------
