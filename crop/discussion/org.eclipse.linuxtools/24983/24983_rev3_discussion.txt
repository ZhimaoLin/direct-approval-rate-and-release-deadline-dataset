DESCRIPTION

TMF: Synchronize traces on their host ID instead of trace name

This allow to synchronize traces with identical names, and will have the
side-effect that different traces from the same host will be automatically
synchronized with the same formula.

Change-Id: Ifbf8da91d581e1cee3c699bd976b1437e661830b
Signed-off-by: Aryana Jones xxx@xxx.xxx


COMMENTS

author: Annalise Jimenez
date: 2014-05-02 19:05:01.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2014-05-02 19:56:45.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6824/

-------------------------------------
author: Brenden Conley
date: 2014-05-02 20:39:59.000000000

Patch Set 3: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6824/ : SUCCESS

-------------------------------------
author: Kaeden Tapia
date: 2014-05-05 17:20:24.000000000

Patch Set 3: Verified+1 Code-Review+2

(3 comments)

Patch is good if we don't consider trace folders. I'll push another patch to fix the folder issues (see comments).

Line:169, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/SynchronizeTracesHandler.java -> Thanks!

Since we have folders now, it's actually possible that multiple traces have the same name (but different element name). I think it would be safer to use the resource here to compare. So,
t.getResource().equals(traceel.getResource()) ?

I see a few other changes necessary (see other comments) to support folders correctly. You don't have to address the other comments, I think it would be better in a separate patch. I'll push another patch on top of this one.

Line:178, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/SynchronizeTracesHandler.java -> TmfTraceElement origtrace = traceel.getElementUnderTraceFolder();

Line:194, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/SynchronizeTracesHandler.java -> getTraces() returns everything recursively, in subfolders, etc so it might give the wrong trace.

TmfTraceFolder traceFolder = (TmfTraceFolder) origtrace.getParent();
for (ITmfProjectModelElement el : traceFolder.getChildren())

-------------------------------------
author: Annalise Jimenez
date: 2014-05-05 18:48:35.000000000

Patch Set 3: Verified+1 Code-Review+2

Thanks, I really wanted this in before API freeze. It doesn't change anything in the API itself, but conceptually, it changes a lot!

-------------------------------------
