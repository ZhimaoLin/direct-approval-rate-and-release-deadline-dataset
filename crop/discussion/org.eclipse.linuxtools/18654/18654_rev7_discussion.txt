DESCRIPTION

[ctf] Fix binary search for a long sequence of same timestamps.

The binary search algorithm does not need a third case
(when values are equals) if there is a guarantee to remove
one element in the search space at each iteration.
The actual binary search implementation performs a sequential
search on elements with the same timestamp (to find the first
one).

The ETW2CTF traces produce many debug events for the debugging
information at the module load timestamp. Which is the worse
case for the actual implementation.

We changed the algorithm to use the timestamp end of a packet
instead of the beginning. We changed the way to choose a
middle element to ease the recursion by using only two cases.

Change-Id: I4f16d43b9533f8f1449cdb3c4c213bcb9f962daf
Signed-off-by: Jordon Obrien xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2013-11-25 14:28:50.000000000

Uploaded patch set 7.

-------------------------------------
author: Tessa Dickson
date: 2013-11-25 14:30:33.000000000

Patch Set 7: Code-Review+1

-------------------------------------
author: Jordon Obrien
date: 2013-11-25 14:58:10.000000000

Patch Set 7: Code-Review+1

We should keep in mind the issue of overlaping domain.
We should also keep in mind the searchBefore/searchAfter.

-------------------------------------
author: Kimberly Hunter
date: 2013-11-25 15:00:45.000000000

Patch Set 7:

(1 comment)

Line:139, lttng/org.eclipse.linuxtools.ctf.core/src/org/eclipse/linuxtools/internal/ctf/core/trace/StreamInputPacketIndex.java -> this can still cause an overflow?! See my comment in patch set 5

-------------------------------------
author: Brenden Conley
date: 2013-11-25 16:35:55.000000000

Patch Set 7:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4131/

-------------------------------------
author: Brenden Conley
date: 2013-11-25 17:10:43.000000000

Patch Set 7: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4131/ : FAILURE

-------------------------------------
