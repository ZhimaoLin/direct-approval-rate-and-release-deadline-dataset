DESCRIPTION

Bug 468607 - Refactor the wizard to run a container

Change-Id: Ie41be59b3326e9521833f25c3fe91ac565adf6d5
Signed-off-by: Zechariah Krause xxx@xxx.xxx


COMMENTS

author: Zechariah Krause
date: 2015-05-29 14:12:49.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2015-05-29 14:12:56.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9573/

-------------------------------------
author: Brenden Conley
date: 2015-05-29 14:16:47.000000000

Patch Set 2: Verified-1

Build Failed 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9573/ : FAILURE

-------------------------------------
author: Nathanael Holden
date: 2015-05-29 16:05:56.000000000

Patch Set 2: Verified-1

(1 comment)

(Review is ongoing..)

Line:34, containers/org.eclipse.linuxtools.docker.core/src/org/eclipse/linuxtools/internal/docker/core/DockerContainerConfig.java -> There are some options that you probably never set in your Container Creation Wizard Page (since you don't have a UI element for them), and that's fine (for now), but as a result they are null (since ContainerConfig seems to use Boolean object and not the primitive).

When this.attachStderr = builder.attachStderr gets called, it triggers an NPE because a boolean primitive can't be null. Either we accept null as a value we need to work around or we must set all options in the UI to some default.

I got this trying to create a container :

Caused by: java.lang.NullPointerException
	at org.eclipse.linuxtools.internal.docker.core.DockerContainerConfig.<init>(DockerContainerConfig.java:84)
	at org.eclipse.linuxtools.internal.docker.core.DockerContainerConfig.<init>(DockerContainerConfig.java:75)
	at org.eclipse.linuxtools.internal.docker.core.DockerContainerConfig$Builder.build(DockerContainerConfig.java:503)
	at org.eclipse.linuxtools.internal.docker.ui.wizards.ImageRun.getDockerContainerConfig(ImageRun.java:227)
	at org.eclipse.linuxtools.internal.docker.ui.commands.RunImageCommandHandler.execute(RunImageCommandHandler.java:68)
	at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:295)
	at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:90)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:56)
	... 38 more

-------------------------------------
