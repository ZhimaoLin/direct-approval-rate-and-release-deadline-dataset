DESCRIPTION

Bug 481868 - Initial implementation of allowing
environment variables to be used in the various
vagrant commands. Also, updated environment manager
to use secure storage

Change-Id: I6ebabe4f6cff796e111fa6b14b51974a02dd5acc
Signed-off-by: Jagger Herman xxx@xxx.xxx


COMMENTS

author: Jagger Herman
date: 2015-11-11 04:37:27.000000000

Uploaded patch set 3: Commit message was updated.

-------------------------------------
author: Brenden Conley
date: 2015-11-11 04:37:33.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/10055/

-------------------------------------
author: Brenden Conley
date: 2015-11-11 04:56:21.000000000

Patch Set 3: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/10055/ : SUCCESS

-------------------------------------
author: Nathanael Holden
date: 2015-11-12 16:27:55.000000000

Patch Set 3: Code-Review-1

(7 comments)

From looking at the code, it mostly looks fine to me. Just a few minor changes, and some comments.

I'll run this to see what it all looks like.

Line:44, vagrant/org.eclipse.linuxtools.vagrant.core/src/org/eclipse/linuxtools/vagrant/core/IVagrantVM.java -> Thanks, we really need to start documenting some of the API.

Line:87, vagrant/org.eclipse.linuxtools.vagrant.ui/src/org/eclipse/linuxtools/internal/vagrant/ui/commands/CreateVmCommandHandler.java -> We might consider making this IVagrantConnection API in the future, but this is fine given that we're using it just here.

Line:96, vagrant/org.eclipse.linuxtools.vagrant.core/src/org/eclipse/linuxtools/internal/vagrant/core/EnvironmentsManager.java -> Is there a reason not to just list this once as 'Exception e' (instead of 3 different ones) and simply pass that to createStatus since they're all subclassed from there, and we do the same thing.

Line:120, vagrant/org.eclipse.linuxtools.vagrant.core/src/org/eclipse/linuxtools/internal/vagrant/core/EnvironmentsManager.java -> Same as above, could we just catch "Exception" in this case since we're treating them all the same way (at least for now).

Line:102, vagrant/org.eclipse.linuxtools.vagrant.ui/src/org/eclipse/linuxtools/internal/vagrant/ui/wizards/CreateVMAdvancedComposite.java -> 'added' doesn't seem to be used. Can it be removed ? The code should work without it.

Line:29, vagrant/org.eclipse.linuxtools.vagrant.ui/src/org/eclipse/linuxtools/internal/vagrant/ui/wizards/CreateVMPageModel.java -> So, I've noticed this in some areas but with Java >= 1.7 this shows up as a warning because it's become redundant.

I see you've done it the new way in other areas so maybe this is just a force of habit :)

Line:463, vagrant/org.eclipse.linuxtools.vagrant.core/src/org/eclipse/linuxtools/internal/vagrant/core/VagrantConnection.java -> I would use 'ILaunchManager.ATTR_ENVIRONMENT_VARIABLES' since it is API in this case.

-------------------------------------
author: Nathanael Holden
date: 2015-11-12 16:44:24.000000000

Patch Set 3:

(1 comment)

Line:188, vagrant/org.eclipse.linuxtools.vagrant.ui/src/org/eclipse/linuxtools/internal/vagrant/ui/wizards/CreateVMAdvancedComposite.java -> println should be removed.

-------------------------------------
author: Nathanael Holden
date: 2015-11-12 16:54:17.000000000

Patch Set 3: Verified+1

(1 comment)

The change works for me. I found it slightly annoying that the table re-sorts entries as soon as a "key" is entered, even though you're just about to provide the "value". Still it would be great to get this in.

The contribution is < 1000 LOC and the user has signed the CLA so no CQ is required.

Line:1, vagrant/org.eclipse.linuxtools.vagrant.ui/src/org/eclipse/linuxtools/internal/vagrant/ui/wizards/CreateVMAdvancedComposite.java -> This is missing the EPL header.

-------------------------------------
author: Gerrit Code Review
date: 2015-11-16 19:48:26.000000000

Change has been successfully cherry-picked as 14b072c2e6df38a6060374dc10806366928f30af by Nathanael Holden

-------------------------------------
