DESCRIPTION

Fix for unit test concurrency

Change-Id: Ib98210cb5c691f4da4f67ba78d28c8d31dc4229c
Signed-off-by: Luciana Barry xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-03-14 15:59:48.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/linuxtools/1675/ 

-------------------------------------
author: Brenden Conley
date: 2013-03-14 16:15:05.000000000

Patch Set 1: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/linuxtools/1675/ : SUCCESS

-------------------------------------
author: Ricky Reeves
date: 2013-03-14 18:48:02.000000000

Patch Set 1: I would prefer that you didn't submit this

(2 inline comments)



Line:77, lttng/org.eclipse.linuxtools.tmf.core.tests/src/org/eclipse/linuxtools/tmf/core/tests/trace/TmfMultiTraceExperimentTest.java -> Useless check because it fTraces is always null when setup is called. It is called only once per execution regardless if only one test is run or the whole file.

Line:86, lttng/org.eclipse.linuxtools.tmf.core.tests/src/org/eclipse/linuxtools/tmf/core/tests/trace/TmfMultiTraceExperimentTest.java -> Since setupTraces is called multiple times from different places you have to dispose the previous traces before creating new ones.

-------------------------------------
author: Braxton Mccarthy
date: 2013-03-14 18:53:17.000000000

Patch Set 1: Verified

(1 inline comment)

Fix works, but as Meredith Scott mentionned, the setup should be run only once. This could be done with xxx@xxx.xxx

Line:77, lttng/org.eclipse.linuxtools.tmf.core.tests/src/org/eclipse/linuxtools/tmf/core/tests/trace/TmfMultiTraceExperimentTest.java -> No, that is "@BeforeClass". xxx@xxx.xxx is run before every single test.

Although here I think this "setupTrace" should be in xxx@xxx.xxx and done only one, it'd be simpler ;)

-------------------------------------
