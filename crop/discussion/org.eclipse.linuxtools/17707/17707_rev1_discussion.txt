DESCRIPTION

tmf: Bug 420220: TimerThread leak

Change-Id: I5d82dc669dd6f1a4023072e18fe775d5a3414f9d
Signed-off-by: Luciana Barry xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2013-10-23 21:06:04.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3749/

-------------------------------------
author: Brenden Conley
date: 2013-10-23 21:41:24.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/3749/ : SUCCESS

-------------------------------------
author: Ricky Reeves
date: 2013-10-24 17:34:44.000000000

Patch Set 1: Verified+1 Code-Review+2 IP-Clean+1

-------------------------------------
author: Ivy Mitchell
date: 2013-10-24 18:19:40.000000000

Patch Set 1: Verified+1 Code-Review-2 IP-Clean+1

Works well, I think this may be overengineering on my behalf, but I would prefer having a nullExecutor() that does nothing rather than nullchecks everywhere. When this is addressed via comment or cake, I will gladly remove the -2.

-------------------------------------
author: Luciana Barry
date: 2013-10-25 14:19:08.000000000

Patch Set 1:

no

-------------------------------------
author: Ivy Mitchell
date: 2013-10-25 15:06:06.000000000

Patch Set 1:

Is so!

-------------------------------------
author: Ivy Mitchell
date: 2013-10-28 13:24:45.000000000

Patch Set 1: -Code-Review

-------------------------------------
author: Kaeden Tapia
date: 2013-10-29 14:33:19.000000000

Patch Set 1:

(2 comments)

Line:113, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/component/TmfDataProvider.java -> Do we actually call init multiple times on a trace or is it a safe-guard? Just curious.

Line:324, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/component/TmfDataProvider.java -> Could be replaced with executorIsShutdown?

-------------------------------------
author: Luciana Barry
date: 2013-10-29 17:15:58.000000000

Patch Set 1:

(1 comment)

I'm going to update the patch with a new solution where the TmfRequestExecutor is final and set in the constructor, but it doesn't start a TimerThread until it's (new) init() method gets called. This will avoid many null checks in TmfDataProvider.

Line:113, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/tmf/core/component/TmfDataProvider.java -> That was just a safeguard, init() should be called only once but we don't have any control on it.

-------------------------------------
