DESCRIPTION

BZ-471665 - Add status icon decorators in the Explorer and Containers view

Replaced the container icon with a set of icons with a decorator that shows the status of the container
(running, paused or stopped)
Fixed a problem where the Docker Explorer view was not refreshing after being notified of the containers list change.

Change-Id: I102b5f4a138ea3b41f22242d0850cd315059aec2
Signed-off-by: Zechariah Krause xxx@xxx.xxx


COMMENTS

author: Zechariah Krause
date: 2015-08-06 14:41:00.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2015-08-06 14:41:07.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9790/

-------------------------------------
author: Brenden Conley
date: 2015-08-06 15:03:38.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/9790/ : SUCCESS

-------------------------------------
author: Nathanael Holden
date: 2015-08-06 15:44:29.000000000

Patch Set 1: Code-Review-1 Verified+1

(2 comments)

So far, this looks fine to me. I just want to verify the removals don't break anything, although from a basic run of it, they seem to be working as expected.

I honestly think the icons aren't "different" enough. I mean initially I didn't think they actually updated until I noticed the smaller "play" arrow when starting a container. The Pause icon is a little better, but barely. Thoughts ? If the point is to make it easy for users to check the state of a container, I'm not sure how well it'd work. I did have to move in pretty close to my screen to distinguish those icons :P

Line:7, /COMMIT_MSG -> I would change this to either 'Bug 471665' or '471665' (this seems shorter given the length of the title).

It seems that 'BZ-471665' isn't recognized by Gerrit and doesn't link to the actual bug. Nor does https://bugs.eclipse.org/bugs/show_bug.cgi?id=471665 contain a comment indicating that you've proposed a fix for review.

Line:9, /COMMIT_MSG -> I Would wrap the commit message body to not exceed, say 72 characters. See https://wiki.eclipse.org/Linux_Tools_Project/Git

-------------------------------------
author: Nathanael Holden
date: 2015-08-06 17:37:34.000000000

Patch Set 1:

(3 comments)

Line:1289, containers/org.eclipse.linuxtools.docker.core/src/org/eclipse/linuxtools/internal/docker/core/DockerConnection.java -> This seems to break the updating of the pause toolbar button. One must wait for the refresh manager to update the state of the button, or click on the container.

I don't know why both listContainers(), and getContainers(true) in the handler are needed but without them we regress.

Line:287, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/views/DockerExplorerView.java -> Could you describe how to reproduce the issue this fixes ?

Line:47, containers/org.eclipse.linuxtools.docker.ui/src/org/eclipse/linuxtools/internal/docker/ui/commands/UnpauseContainersCommandHandler.java -> This seems to break the updating of the unpause toolbar button. One must wait for the refresh manager to update the state of the button, or click on the container.

I don't know why both getContainers(true), and listContainers() in the API method are needed but without them we regress.

-------------------------------------
author: Gerrit Code Review
date: 2015-08-07 15:07:10.000000000

Change has been successfully cherry-picked as b18a539626281acc7268597fbb4165baf32f03d4 by Nathanael Holden

-------------------------------------
