DESCRIPTION

tmf: Fold AlphaNumAttritbute class into the main one

Initially it was planned to allow for different types of attributes,
which could have children whose name could only be numbers, or
sequences of alphanumerical characters.

In the end, it was too complicated to expose this functionality in
StateSystem's API, so to remain as generic as possible, all attributes
are of type "alphanumerical".

The separate class is now unneeded. This also simplifies synchronizing
the container of sub-attributes (which should fix bug #431706).

Change-Id: I626bd07de660131ef6432cb10b0e783201c24782
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Braxton Mccarthy
date: 2014-04-07 20:41:28.000000000

Uploaded patch set 4.

-------------------------------------
author: Braxton Mccarthy
date: 2014-04-07 20:50:58.000000000

Patch Set 4:

(1 comment)

(regarding the debate of LinkedList vs ArrayList) A new challenger appears!

Line:88, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/Attribute.java -> I would have been tempted to wrap this in a "synchronize (subAttributes) {}" block, but ImmutableList.copyOf's Javadoc mentions:

 This method is safe to use even when elements is a synchronized or concurrent collection that is currently being modified by another thread.

-------------------------------------
author: Luciana Barry
date: 2014-04-07 20:56:33.000000000

Patch Set 4:

(1 comment)

Line:88, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/Attribute.java -> This does not compile for me, the import cannot be resolved.

-------------------------------------
author: Braxton Mccarthy
date: 2014-04-07 21:19:40.000000000

Patch Set 4:

(1 comment)

Line:88, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/Attribute.java -> This new version depends on https://git.eclipse.org/r/#/c/24587/1

-------------------------------------
author: Brenden Conley
date: 2014-04-07 21:26:44.000000000

Patch Set 4:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6283/

-------------------------------------
author: Brenden Conley
date: 2014-04-07 22:01:48.000000000

Patch Set 4: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6283/ : SUCCESS

-------------------------------------
author: Annalise Jimenez
date: 2014-04-08 14:19:43.000000000

Patch Set 4: Code-Review-1

(1 comment)

I don't know yet if it solves my problem because I have a bigger one before!

Line:160, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/Attribute.java -> That 3rd one is a weird condition: I cannot add an attribute "0" (the tid) as a subattribute of "0" (the cpu) it throws this exception.

Since the asserts did do nothing, I never noticed before.

-------------------------------------
author: Braxton Mccarthy
date: 2014-04-08 18:32:56.000000000

Patch Set 4:

(1 comment)

Line:160, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/Attribute.java -> The asserts, they do nothing!!

Hmm, iirc it was to debug the state system's use of the attribute tree in its infancy. But it's it's completely cleared of bugs now *cough* I guess we don't need it anymore.

-------------------------------------
