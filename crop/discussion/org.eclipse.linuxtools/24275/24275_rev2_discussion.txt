DESCRIPTION

tmf: Synchronize accesses to attribute tree child nodes

Fixes bug #431706.

Change-Id: I626bd07de660131ef6432cb10b0e783201c24782
Signed-off-by: Braxton Mccarthy xxx@xxx.xxx


COMMENTS

author: Braxton Mccarthy
date: 2014-04-01 18:19:54.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2014-04-01 18:19:59.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6176/

-------------------------------------
author: Brenden Conley
date: 2014-04-01 18:53:30.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/6176/ : SUCCESS

-------------------------------------
author: Luciana Barry
date: 2014-04-01 21:29:45.000000000

Patch Set 2:

(2 comments)

Line:39, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/Attribute.java -> Is it thread-safe if the list is not private? Other code could iterate over the list without synchronizing on it.

Line:279, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/Attribute.java -> The way I understand, it's not necessary to synchronize accesses to the synchronized list/map unless it is an iteration?

-------------------------------------
author: Braxton Mccarthy
date: 2014-04-03 15:51:53.000000000

Patch Set 2:

(2 comments)

Line:39, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/Attribute.java -> True, but it's only visible by the other class defined below. To be more cleaner it should be private with getters... in fact, the class below could be merged into this one and this list could be kept private.

Line:279, lttng/org.eclipse.linuxtools.tmf.core/src/org/eclipse/linuxtools/internal/tmf/core/statesystem/Attribute.java -> The synchronize here is not to avoid ConcurrentModificationException's, but to make sure we keep the list and the map in sync.

-------------------------------------
