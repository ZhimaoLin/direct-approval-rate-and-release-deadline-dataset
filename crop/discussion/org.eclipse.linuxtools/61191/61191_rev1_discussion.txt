DESCRIPTION

Bug 482947 - Valgrind Message API's: get rid of launch dependency

- Instead of returning ILaunch object use ISourceLocator object
- Changed all the place where it was used except in one UI place where
its doing some magic with restoring source locator from memento
- Note I switched plugin to java 1.8 so I don't break API, if this
is not desired for some reason I can do stanard interface #2 hack

Change-Id: I61ec578599b292e2b335c76c6ac6a9486463fd11
Signed-off-by: Ishaan Salas xxx@xxx.xxx

COMMENTS

author: Julian Foster
date: 2015-11-24 20:26:06.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2015-11-24 20:26:12.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/10108/

-------------------------------------
author: Brenden Conley
date: 2015-11-24 20:47:41.000000000

Patch Set 1: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/10108/ : SUCCESS

-------------------------------------
author: Samuel Christensen
date: 2015-11-25 01:50:24.000000000

Patch Set 1:

(4 comments)

Line:22, valgrind/org.eclipse.linuxtools.valgrind.core/src/org/eclipse/linuxtools/internal/valgrind/core/ValgrindStackFrame.java -> It seems odd deprecating #getLaunch() when the AbstractValgrindMessage still has to be created with a launch. 

Maybe consider adding contructors without launch but with ISourceLocator instead, and deprecating the old constructors ?

Line:164, valgrind/org.eclipse.linuxtools.valgrind.ui/src/org/eclipse/linuxtools/internal/valgrind/ui/CoreMessagesViewer.java -> Indentation ?

Line:24, valgrind/org.eclipse.linuxtools.valgrind.core/src/org/eclipse/linuxtools/valgrind/core/IValgrindMessage.java -> IValgrindMessage probably never was intended to be implemented by clients, so I would suggest marking it the interface xxx@xxx.xxx @noextend . Then you don't need Java 8 to allow extending the interface.

Line:33, valgrind/org.eclipse.linuxtools.valgrind.core/src/org/eclipse/linuxtools/valgrind/core/IValgrindMessage.java -> Looks like a typo, you probably meant xxx@xxx.xxx ?"

Also, why mixed space/tab indentations ?

-------------------------------------
author: Julian Foster
date: 2015-11-25 12:53:48.000000000

Patch Set 1:

(3 comments)

Line:22, valgrind/org.eclipse.linuxtools.valgrind.core/src/org/eclipse/linuxtools/internal/valgrind/core/ValgrindStackFrame.java -> I missed that thanks

Line:24, valgrind/org.eclipse.linuxtools.valgrind.core/src/org/eclipse/linuxtools/valgrind/core/IValgrindMessage.java -> Well it is an API now, adding these comments now will still make it a breaking change. Why you don't want java 8?

Line:33, valgrind/org.eclipse.linuxtools.valgrind.core/src/org/eclipse/linuxtools/valgrind/core/IValgrindMessage.java -> Yep typo

-------------------------------------
author: Gerrit Code Review
date: 2015-12-16 08:48:27.000000000

Change has been successfully cherry-picked as 9eaeb4c5b780343b1017097532972342bfd7ce43 by Erick Ross

-------------------------------------
