DESCRIPTION

TMF: Add the Xml analysis module source

This patch allows the importation of xml files from the TMF GUI. Analysis
modules described in those XML files will appear under the trace, if
applicable.

Change-Id: I0910946f35fe921c22b319b77ab2aefeb385edf3
Signed-off-by: Aryana Jones xxx@xxx.xxx
Signed-off-by: Ayanna Reed xxx@xxx.xxx


COMMENTS

author: Annalise Jimenez
date: 2013-12-23 15:18:43.000000000

Patch Set 1: Code-Review-1

(9 comments)

This is not ready to be reviewed yet. But I want your advice on something: when users import XML files containing analysis, should it be per project or globally, ie would a file apply to all projects or would it apply only to the project it was imported from.

Right now, it is imported globally, but you need to right-click the Traces folder of one project... it does not make sense, but that'll change according to your answers. Globally is easier, but are there cases where we'd want to have specific set of data-driven analysis per project?

This patch also depends on https://git.eclipse.org/r/#/c/19433/

Line:42, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/module/XmlAnalysisModuleSource.java -> xxx@xxx.xxx necessary

and urgh... ctrl-alt-f this!

Line:18, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/module/Messages.java -> xml -> XML

Line:31, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/module/TmfAnalysisModuleHelperXml.java -> xml -> XML everywhere

Line:40, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/module/TmfAnalysisModuleHelperXml.java -> remove xxx@xxx.xxx here

Line:91, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/tmf/analysis/xml/ui/module/TmfAnalysisModuleHelperXml.java -> remove the TODOs

Line:9, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/build.properties -> Ugly spaces remaining here

Line:37, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/internal/tmf/analysis/xml/ui/handler/ImportXmlHandler.java -> xml -> XML

Line:41, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/internal/tmf/analysis/xml/ui/handler/ImportXmlHandler.java -> When we import an XML file, the way it is actually saved globally so it applies to all projects. Here, we right-click the traces folder in a project, giving the false impression that it applies only to traces in this project. Instead of under the Traces folder, the "Import XML file" should be in the file menu and accessible from either Traces, Experiment or Project folders but apply to all project

Line:64, lttng/org.eclipse.linuxtools.tmf.analysis.xml.ui/src/org/eclipse/linuxtools/internal/tmf/analysis/xml/ui/handler/ImportXmlHandler.java -> Here it should refresh all the projects, not just the current project's Traces folder

-------------------------------------
author: Brenden Conley
date: 2013-12-23 15:41:53.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/4848/

-------------------------------------
author: Braxton Mccarthy
date: 2014-01-10 22:11:55.000000000

Patch Set 1:

I think when the user imports an analysis from an XML file, it should become available globally, to any trace already imported or to be imported in the future (provided the analysis is compatible with the trace type).

I'm not sure if we want (or if it's even possible) to make that persistent across restart. But if it's enabled for the duration of the run, it's a good start. We may eventually have a default directory, where the program will look into and load all .xml files it finds in there.

-------------------------------------
author: Ayanna Reed
date: 2014-01-11 15:08:13.000000000

Patch Set 1:

In the fact, the Xml importation work globaly and store all xml files in the folder .metadata/.plugin/org.eclipse.linuxtools.tmf.analysis.xml/xml_files/

At the restart TMF look inside this folder to load all xml analysis for each already imported traces.

-------------------------------------
author: Annalise Jimenez
date: 2014-01-12 18:26:39.000000000

Patch Set 1:

Indeed it is imported globally (in a deeply hidden directory) and survives restart. That's why I was asking whether it should be per project.

But I'd leave it like this for now. By the time we really have too many XML files for our own good, we'll also have implemented some way to manage those files and the analysis/stuff they contain: delete files, enable/disable their content, per project, etc. Right?

-------------------------------------
