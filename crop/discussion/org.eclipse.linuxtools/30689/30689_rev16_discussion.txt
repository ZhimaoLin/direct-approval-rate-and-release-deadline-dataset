DESCRIPTION

tmf: Offset traces ui

Rudimentary ui for offsetting traces.

Change-Id: Ifbcfa32cddfaa21e6c526169e9b2b3a8f06fcf72
Signed-off-by: Ivy Mitchell xxx@xxx.xxx


COMMENTS

author: Ivy Mitchell
date: 2014-08-12 21:06:05.000000000

Uploaded patch set 16.

-------------------------------------
author: Ivy Mitchell
date: 2014-08-12 21:09:52.000000000

Patch Set 16:

Converted to a Dialog, and FilteredTree

-------------------------------------
author: Brenden Conley
date: 2014-08-12 22:39:40.000000000

Patch Set 16:

Build Started https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/8215/

-------------------------------------
author: Brenden Conley
date: 2014-08-12 23:20:26.000000000

Patch Set 16: Verified+1

Build Successful 

https://hudson.eclipse.org/linuxtools/job/linuxtools-gerrit/8215/ : SUCCESS

-------------------------------------
author: Ricky Reeves
date: 2014-08-14 19:57:08.000000000

Patch Set 16: Verified-1

(2 comments)

I didn't do a thorough review,.yet. But some intial comments and a NullPointerException to fix.

java.lang.NullPointerException
	at org.eclipse.jface.viewers.TextCellEditor.doGetValue(TextCellEditor.java:208)
	at org.eclipse.jface.viewers.CellEditor.getValue(CellEditor.java:486)
	at org.eclipse.jface.viewers.EditingSupport.saveCellEditorValue(EditingSupport.java:112)
	at org.eclipse.jface.viewers.ColumnViewerEditor.saveEditorValue(ColumnViewerEditor.java:463)
	at org.eclipse.jface.viewers.ColumnViewerEditor.applyEditorValue(ColumnViewerEditor.java:319)
	at org.eclipse.jface.viewers.ColumnViewerEditor.handleEditorActivationEvent(ColumnViewerEditor.java:446)
	at org.eclipse.jface.viewers.ColumnViewer.triggerEditorActivationEvent(ColumnViewer.java:675)
	at org.eclipse.jface.viewers.ColumnViewer.handleMouseDown(ColumnViewer.java:650)
	at org.eclipse.jface.viewers.ColumnViewer.access$0(ColumnViewer.java:646)
	at org.eclipse.jface.viewers.ColumnViewer$1.mouseDown(ColumnViewer.java:95)
	at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:192)
	at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:84)
	at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4486)
	at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1388)
	at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:3831)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3441)
	at org.eclipse.jface.window.Window.runEventLoop(Window.java:832)
	at org.eclipse.jface.window.Window.open(Window.java:808)
	at org.eclipse.linuxtools.internal.tmf.ui.project.handlers.OffsetTraceHandler$1$1.run(OffsetTraceHandler.java:151)
	at org.eclipse.swt.widgets.RunnableLock.run(RunnableLock.java:35)
	at org.eclipse.swt.widgets.Synchronizer.runAsyncMessages(Synchronizer.java:136)
	at org.eclipse.swt.widgets.Display.runAsyncMessages(Display.java:3806)
	at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3444)
	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$9.run(PartRenderingEngine.java:1151)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1032)
	at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:148)
	at org.eclipse.ui.internal.Workbench$5.run(Workbench.java:636)
	at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:332)
	at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:579)
	at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:150)
	at org.eclipse.linuxtools.internal.tracing.rcp.ui.Application.start(Application.java:76)
	at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:196)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:134)
	at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:382)
	at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:236)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:648)
	at org.eclipse.equinox.launcher.Main.basicRun(Main.java:603)
	at org.eclipse.equinox.launcher.Main.run(Main.java:1465)
	at org.eclipse.equinox.launcher.Main.main(Main.java:1438)

File Comment: lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/handlers/OffsetTraceHandler.java -> header

Line:206, lttng/org.eclipse.linuxtools.tmf.ui/src/org/eclipse/linuxtools/internal/tmf/ui/project/wizards/offset/OffsetDialog.java -> The label provider will be called several time while having the dialog open. So, it's very slow and we need to cache the information. Also, if you have many traces then might be too slow to read it from the trace even if it is only once.

-------------------------------------
author: Ivy Mitchell
date: 2014-08-14 20:04:16.000000000

Patch Set 16:

thanks

-------------------------------------
