DESCRIPTION

Added TEMP_FAIL handling to set operations

TMP_FAIL is sent to the client when the server is out of memory.
The current way of handling this error is to reconnect, but this
is no the correct way to handle a this error since the server will
be available soon.

There are other commands that should handle this as well, but right
now I am only submitting a fix for the set operation since this is
the operration that causes this error most frequently. We plan on
adding support for all known Membase commands in a future release.

Change-Id: I59dec05a32ee56d31f56b7c0d4f1ffb08c330ab1


COMMENTS

author: Kenny Maynard
date: 2011-06-03 20:38:53.289000000

Patch Set 1: Verified



-------------------------------------
author: Jakob Lozano
date: 2011-06-03 20:41:40.932000000

Patch Set 1: I would prefer that you didn't submit this

(1 inline comment)

The uploaded diff shows all lines in all files as being changed.  Suggest re-doing the diff without extraneous whitespace changes.

Line:1, src/main/java/net/spy/memcached/protocol/binary/OperationImpl.java -> Unnecessary whitespace change.

-------------------------------------
author: Noah Dean
date: 2011-06-03 20:46:07.503000000

Patch Set 1: I would prefer that you didn't submit this

git diff -w shows very little changed.  This looks like an editor eagerly updating the whitespace.

Grand Rewhitespacification is coming soon, but we definitely want it to not come in with code changes.

-------------------------------------
author: Kenny Maynard
date: 2011-06-03 20:49:09.150000000

Patch Set 1:

The old code used all tabs so I converted them to whitespace. The change is very small. Only like ten lines.

-------------------------------------
