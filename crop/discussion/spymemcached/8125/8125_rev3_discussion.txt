DESCRIPTION

Encode with commons codec more correctly.

Apache Commons Codec had introduced a change in 1.4 that had it
inadvertantly adding extra CRLF to encode responses.  We had worked
around this issue when writing the initial HTTP authorization
code, but it turns out commons codec has reverted to the behavior
in 1.3 with the release of 1.5.

For more info, see https://issues.apache.org/jira/browse/CODEC-89

This change updates commons codec, adds a test to verify correct
behavior, and addresses potential error handling issues with the
character set.

Change-Id: I655adc5090249180c3e75fbd35036b15252d093f


COMMENTS

author: Tate Garrett
date: 2011-07-21 18:10:34.459000000

Your change could not be merged due to a path conflict.

Please merge (or rebase) the change locally and upload the resolution for review.

-------------------------------------
author: Andreas Short
date: 2011-07-21 21:52:23.213000000

Uploaded patch set 3.

-------------------------------------
author: Andreas Short
date: 2011-07-21 21:52:41.945000000

Patch Set 3: Verified; Looks good to me, approved



-------------------------------------
author: Andreas Short
date: 2011-07-21 21:52:42.183000000

Change has been successfully cherry-picked as 96d1d2e38a2a915fae7095af3b6a33639a6830c8.

-------------------------------------
