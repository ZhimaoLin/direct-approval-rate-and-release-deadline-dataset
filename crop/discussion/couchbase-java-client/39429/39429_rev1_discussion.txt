DESCRIPTION

JCBC-488: Make sure headers are overriden, not appended on readd.

Motivation
----------
If a view operation needs to be retried, the current code adds headers
instead of overwriting them, which leads to broken http requests. As a
result, the server responds with 400 and is unable to process the query.

Modifications
-------------
Changing the code from addHeader to setHeaders overrides the headers
instead of appending them.

Result
------
Valid HTTP requests, even if it needs to be retried.

Change-Id: I13b72effc2998d17aaf2ac8acfc3c225aef30de3


COMMENTS

author: Natasha Sullivan
date: 2014-07-16 07:13:34.697000000

Uploaded patch set 1.

-------------------------------------
author: Andreas Short
date: 2014-07-17 01:52:51.613000000

Patch Set 1: Code-Review+2

Whoops, I guess that was my bug.

-------------------------------------
author: Natasha Sullivan
date: 2014-07-17 12:07:39.666000000

Patch Set 1: Verified+1 Code-Review+2

-------------------------------------
