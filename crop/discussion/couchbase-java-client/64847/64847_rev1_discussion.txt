DESCRIPTION

JCBC-973: Fix detection of disabled flush on bucket.

Motivation
----------
A changed introduce in order to fix JVMCBC-199 regressed the
functionality to detect a bucket where flush is disabled but
nonetheless executed.

Modifications
-------------
The code now checks on the broader != success instead of a
specific error code. Note that success for http includes all
kinds of 2XX error codes, as a result even if the server responds
with 201 or 202 it works.

Result
------
FlushDisabledException raised again if flush disabled.

Change-Id: Iff09885637039fcb850710d865a2480c7f1a6575


COMMENTS

author: Natasha Sullivan
date: 2016-06-09 09:24:26.157000000

Uploaded patch set 1.

-------------------------------------
author: Estrella Humphrey
date: 2016-06-09 12:04:18.389000000

Patch Set 1: Code-Review+2

would benefit from an integration test I guess, but CouchbaseTestContext can only create flushable buckets right now, so it would need to become parametrable.

-------------------------------------
author: Tate Garrett
date: 2016-06-09 12:48:00.301000000

Change has been successfully cherry-picked as 989f8cf751c8b5d757eb49f448c76f5773df45b7 by Natasha Sullivan

-------------------------------------
