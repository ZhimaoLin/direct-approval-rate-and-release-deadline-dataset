DESCRIPTION

JCBC-829: Evict from cache before retry and add tests

When a prepared payload is scheduled for retry, first evict it from
the cache (so that even if re-prepare fails, we'll have a chance to
try again next time the same statement is issued).

Added tests on the extraction of the plan, content of the execute
prepared query (server name, along with "encoded_plan" for
the compressed plan...).

Change-Id: I76bd50b04f4ac80ebc9b667425519af2495bdba5
Reviewed-on: http://review.couchbase.org/54851
Tested-by: Estrella Humphrey xxx@xxx.xxx
Reviewed-by: Natasha Sullivan xxx@xxx.xxx


COMMENTS

author: Tate Garrett
date: 2015-08-26 13:49:02.280000000

Change has been successfully cherry-picked as 9891310f4c816b59c0fb75b515f03a2ffbcc4f63

-------------------------------------
