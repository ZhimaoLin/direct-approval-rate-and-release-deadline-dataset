DESCRIPTION

JCBC-1029: Long running prepared query observables may get released
early

Motivation
----------
Long running prepared query observable may get released early as the
retry handler waits for error observable to be completed.

Changes
-------
Use http response status to detect if the query has failed and then peek
for retry in error observable. Prepared tests use travel-sample bucket
as it requires long running query. Prepared tests are ignored by default.

Results
-------
Long running query observable are not released early.

Change-Id: I0fc71041f4567f5904b538bcb5688358b571bf81


COMMENTS

author: Tate Garrett
date: 2016-12-30 07:49:29.309000000

Change has been successfully cherry-picked as 1a9c85be8b9a5737b596ec584d296c72a09912b4 by Marques Ellis

-------------------------------------
