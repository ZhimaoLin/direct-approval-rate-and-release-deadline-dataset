DESCRIPTION

Disable actions when HEAD cannot be resolved

Actions like: tag, branch, reset and merge should be disabled when on
bare repository (when HEAD cannot be resolved).

Change-Id: I6b023fd40ae29e3c2571a0cfc783d587f3a46427


COMMENTS

author: Douglas Trujillo
date: 2011-02-24 00:13:14.000000000

Patch Set 1: I would prefer that you didn't submit this

I believe bare repositories typically also define HEAD, just semantics are different: for bare repository they point to the default branch which is the one a local branch is created for when cloning the repository

I think instead you should check if the config parameter core.bare is true.

-------------------------------------
author: Leslie Stephenson
date: 2011-02-24 00:20:02.000000000

Patch Set 1:

I mean "bare" in context that repository was just created (the project in eclipse were only shared) and there we no commits made in this repository. Not the repository that was initialized using 'git init --bare'

-------------------------------------
author: Douglas Trujillo
date: 2011-02-24 09:56:19.000000000

Patch Set 1:

ok, then you should rephrase your commit message ;-)

e.g.

"Disable actions when repository has no commits yet"

-------------------------------------
