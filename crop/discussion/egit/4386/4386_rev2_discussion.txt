DESCRIPTION

SpellcheckableMessageArea: remove platform specific line endings

SpellcheckableMessageArea.getCommitMessage called
getTextWidget().getLineDelimiter() to determine the platform line
ending. This was wrong because getLineDelimiter() returns the first
line delimiter found in the text control.
The new implementation of SpellcheckableMessageArea.getCommitMessage
guarantees that the returned string only contains \n line endings.

Bug: 361504
Change-Id: If1dbab98745d3178163bad4a66ca3f1a15f5b456
Signed-off-by: Marlie Beasley xxx@xxx.xxx


COMMENTS

author: Marlie Beasley
date: 2011-10-21 08:54:44.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2011-10-21 09:07:50.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/sandbox/job/egit.gerrit/1779/ 

-------------------------------------
author: Brenden Conley
date: 2011-10-21 09:20:15.000000000

Patch Set 2: Build Successful

Build Successful 
 
https://hudson.eclipse.org/sandbox/job/egit.gerrit/1779/ : SUCCESS

-------------------------------------
author: Douglas Trujillo
date: 2011-10-26 22:15:14.000000000

Patch Set 2: (1 inline comment)



Line:19, org.eclipse.egit.core/src/org/eclipse/egit/core/internal/Utils.java -> why don't you use these constants in UtilTest ?

-------------------------------------
author: Marlie Beasley
date: 2011-10-27 14:32:45.000000000

Patch Set 2: (1 inline comment)



Line:19, org.eclipse.egit.core/src/org/eclipse/egit/core/internal/Utils.java -> What would be the benefit? It becomes harder to construct the test strings.

-------------------------------------
author: Juliet Cantu
date: 2011-10-27 19:28:37.000000000

Patch Set 2: (2 inline comments)



Line:19, org.eclipse.egit.core/src/org/eclipse/egit/core/internal/Utils.java -> I agree with Jens. It would also create an unecessary dependency to the implementation. A test should not have a dependency on the implementation other than testing it.

Line:38, org.eclipse.egit.core/src/org/eclipse/egit/core/internal/Utils.java -> Who uses CR as a line delimiter nowadays?

-------------------------------------
author: Douglas Trujillo
date: 2011-10-27 21:09:13.000000000

Patch Set 2: (2 inline comments)



Line:19, org.eclipse.egit.core/src/org/eclipse/egit/core/internal/Utils.java -> yeah, you are right

Line:38, org.eclipse.egit.core/src/org/eclipse/egit/core/internal/Utils.java -> maybe we can ignore Mac OS 9, its latest version was published end of 2001, so probably the only chance to see this today is in some old repos (e.g. CVS) which have been migrated to git

-------------------------------------
author: Marlie Beasley
date: 2011-10-28 08:41:46.000000000

Patch Set 2: (1 inline comment)



Line:38, org.eclipse.egit.core/src/org/eclipse/egit/core/internal/Utils.java -> I think we should do replaceAll(CR, LF) even if a single CR should not occur. Accidents can always happen that produce garbage.

-------------------------------------
