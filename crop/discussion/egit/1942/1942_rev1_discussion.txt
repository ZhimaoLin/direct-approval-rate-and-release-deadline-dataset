DESCRIPTION

Initial support for rebase

This is a first implementation of Rebase. Users can select a branch in
the Repositories View and have a menu item "Rebase". The currently
checked out branch will be rebased onto the selected branch.
If no branch is currently checked out, the menu action will not be
available.
In case of merge conflicts, the rebase will be aborted, i.e. the
original HEAD will be restored and the user will receive an error
pop-up. This is because we found several problems if the repository is
left in state "merging:
1. It is not possible to resolve the conflicts using "add", so the
user can not continue with the rebase (in the command line), no matter
whether they "add" in EGit or in the command line.
2. There are some issues when "aborting" with the command line a
rebase that was started with EGit: HEAD is restored to the
wrong branch (i.e. the target branch)

Bug: 328219
Change-Id: I1428054dbae5e32cd2cd985f9a688c04a0b71049
Signed-off-by: Willow Cantrell xxx@xxx.xxx


COMMENTS

author: Leslie Stephenson
date: 2010-11-24 21:57:42.000000000

Patch Set 1: Looks good to me, but someone else must approve; IP review completed

Yeah, finally we support rebase in EGit! I've played a little bit with this change and it works well. I didn't found any bugs.

-------------------------------------
author: Douglas Trujillo
date: 2010-11-24 23:41:10.000000000

Patch Set 1: I would prefer that you didn't submit this

(7 inline comments)



Line:71, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/repository/tree/command/RebaseCurrentRefCommand.java -> style nit: we don't use braces around single line blocks

Line:85, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/repository/tree/command/RebaseCurrentRefCommand.java -> this should be marked as TODO

Line:93, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/repository/tree/command/RebaseCurrentRefCommand.java -> unnecessary blank line

Line:71, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/rebase/RebaseResultDialog.java -> unnecessary blank line

Line:105, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/rebase/RebaseResultDialog.java -> couldn't it happen that we hide some problems here by ignoring the exception ?

Line:13, /COMMIT_MSG -> add a blank line here for better readability.

Line:24, /COMMIT_MSG -> you should mention that these problems will be fixed in subsequent changes

-------------------------------------
author: Douglas Trujillo
date: 2010-11-25 00:15:12.000000000

Patch Set 1:

Created bug 331078 for a failing rebase which aborts due to conflicts with this EGit implementation but succeeds with native git.

-------------------------------------
author: Willow Cantrell
date: 2010-11-25 09:20:40.000000000

Patch Set 1: (7 inline comments)

Need to abandon this due to duplicate Change-Id.

Line:71, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/repository/tree/command/RebaseCurrentRefCommand.java -> Done

Line:85, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/repository/tree/command/RebaseCurrentRefCommand.java -> Done

Line:93, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/repository/tree/command/RebaseCurrentRefCommand.java -> Done

Line:71, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/rebase/RebaseResultDialog.java -> Done

Line:105, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/rebase/RebaseResultDialog.java -> Tthe whole purpose of this code is to render a diff so that the user gets some idea what the current commit would change, and they get an error message if that fails.

Line:13, /COMMIT_MSG -> Done

Line:24, /COMMIT_MSG -> Done

-------------------------------------
author: Willow Cantrell
date: 2010-11-25 09:20:55.000000000

Patch Set 1: Abandoned

Duplicate Change-Id.

-------------------------------------
