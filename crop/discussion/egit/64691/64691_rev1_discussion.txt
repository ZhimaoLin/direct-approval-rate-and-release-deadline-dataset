DESCRIPTION

Only decorate resources that are mapped to a GitProvider

Bug: 486135
Change-Id: I1321c8ea062cd0ac95450ddd8f690a3b2dc17268
Signed-off-by: Alayna Houston xxx@xxx.xxx

COMMENTS

author: Alayna Houston
date: 2016-01-19 20:00:12.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2016-01-19 20:00:18.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/egit/job/egit.gerrit/8040/

-------------------------------------
author: Jayvion Booth
date: 2016-01-19 20:22:43.000000000

Patch Set 1:

(1 comment)

Line:207, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/decorators/GitLightweightDecorator.java -> Shouldn't this be null? 

I think the problem is that RepositoryCache is still holding the reference to the repo. We can not delete it on GitProvider.deconfigure() (there can be more projects in same repo) but we can avoid returning the repo in ResourceStateFactorygetIndexDiffDataOrNull() if the project of that resource is not configured.

-------------------------------------
author: Brenden Conley
date: 2016-01-19 20:50:21.000000000

Patch Set 1: Verified-1

Build Failed 

https://hudson.eclipse.org/egit/job/egit.gerrit/8040/ : ABORTED

-------------------------------------
author: Alayna Houston
date: 2016-01-19 21:07:43.000000000

Patch Set 1:

(1 comment)

Line:207, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/decorators/GitLightweightDecorator.java -> So you propose to move this test over to IndexDiffData? Yes, that looks like a better place.

Done.

-------------------------------------
author: Gerrit Johnathan Pham
date: 2016-01-21 10:33:25.000000000

Change has been successfully merged into the git repository by Douglas Trujillo

-------------------------------------
