DESCRIPTION

Support cancellation during synchronization requests

As synchronization requests are potentially long running operations,
the progress monitors that are provided to any method should be
checked regularly to see if the user has cancelled the
synchronization request.

Bug: 318390
Change-Id: I41687b652ba563b89e6a7da8c1972a5d69551827


COMMENTS

author: Jaylon Avila
date: 2010-08-22 20:45:53.000000000

Uploaded patch set 5.

-------------------------------------
author: Leslie Stephenson
date: 2010-08-22 20:51:19.000000000

Patch Set 5: I would prefer that you didn't submit this

OK, now NPE did not occur. But when I hit 'cancel' synchronize operation is marked as 'canceled' but it finish what it should done and even displays proper result. Therefore it seams that this change isn't work properly.

-------------------------------------
author: Jaylon Avila
date: 2010-08-22 21:46:37.000000000

Patch Set 5:

When a synchronization request is sent, another job for processing subscriber change events are scheduled. This job, while updating the same label as the job that the synchronization request is performed on (which makes it seem like there is actually only one job running), does not appear to share the same progress monitor.

Hence, the synchronization job returns early while the subscriber event processing job runs to completion.

-------------------------------------
author: Leslie Stephenson
date: 2010-08-22 22:35:23.000000000

Patch Set 5: Looks good to me, but someone else must approve

OK, yours describsion seams to be reasonable ;)

-------------------------------------
author: Jaylon Avila
date: 2010-08-23 00:05:18.000000000

Patch Set 5:

To be absolutely clear, from my analysis, I do not feel there is something wrong with EGit's current implementation of the Team APIs that is causing this discrepancy between the handling of these two jobs.

-------------------------------------
author: Malia Sampson
date: 2010-08-23 14:26:59.000000000

Patch Set 5: Looks good to me, approved; IP review completed

Looks good, thanks Remy.

-------------------------------------
author: Malia Sampson
date: 2010-08-23 14:27:00.000000000

Change has been successfully merged into the git repository.

-------------------------------------
