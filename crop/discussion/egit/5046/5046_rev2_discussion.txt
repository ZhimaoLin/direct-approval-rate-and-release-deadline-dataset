DESCRIPTION

Add support for "workspace patches" 

Bug: 367735
Change-Id: Ie9036845e7bce43a2fe227294e99222e59a26f9f


COMMENTS

author: Clay Cameron
date: 2012-02-06 15:15:11.000000000

Uploaded patch set 2.

-------------------------------------
author: Leslie Stephenson
date: 2012-02-07 19:17:43.000000000

Patch Set 2: I would prefer that you didn't submit this

(5 inline comments)

I'm not sure do we really need another patch format. IMHO with git you can easily share patches through github/gerrit/git-servers/mail and so one.

Line:279, org.eclipse.egit.core/src/org/eclipse/egit/core/op/CreatePatchOperation.java -> is this code format change really neccessary ?

Line:305, org.eclipse.egit.core/src/org/eclipse/egit/core/op/CreatePatchOperation.java -> update javadoc

Line:363, org.eclipse.egit.core/src/org/eclipse/egit/core/op/CreatePatchOperation.java -> update javadoc

Line:97, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/patch/PatchOperationUI.java -> what this TODO really mean ?

Line:7, /COMMIT_MSG -> style-nit: tailing white space

could you please more elaborate what do you mean by "workspace patches" in commit body ?

-------------------------------------
author: Clay Cameron
date: 2012-02-09 12:51:40.000000000

Patch Set 2: (5 inline comments)

> I'm not sure do we really need another patch format. IMHO with git you can easily share patches through github/gerrit/git-servers/mail and so one.

Currently, there is no way to apply a patch in JGit, see bug 361548. In EGit, the Compare Framework's Apply Patch command is used. It doesn't run smoothly with plain unified diffs which are currently generated by EGit, see bug 358527 for more info. The patch fixes the root cause and allows EGit to produce workspace-aware patches. The same thing is done for CVS. See http://help.eclipse.org/indigo/topic/org.eclipse.platform.doc.user/tasks/tasks-68c.htm and the section on Patch Root.

Line:279, org.eclipse.egit.core/src/org/eclipse/egit/core/op/CreatePatchOperation.java -> Done

Line:305, org.eclipse.egit.core/src/org/eclipse/egit/core/op/CreatePatchOperation.java -> The thing is that I didn't want to make the method public, but I need to call in the test. Any clue how to solve this? Reflection is one way...

Line:363, org.eclipse.egit.core/src/org/eclipse/egit/core/op/CreatePatchOperation.java -> The thing is that I didn't want to make the method public, but I need to call in the test. Any clue how to solve this? Reflection is one way...

Line:97, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/patch/PatchOperationUI.java -> I need to figure out what resource has to be used when creating a patch for a commit. Null is fine if you don't want to generate "workspace patches" from the History view.

Line:7, /COMMIT_MSG -> Done

-------------------------------------
author: Gerrit Johnathan Pham
date: 2012-03-22 23:13:46.000000000

Your change could not be merged due to a path conflict.

Please merge (or rebase) the change locally and upload the resolution for review.

-------------------------------------
