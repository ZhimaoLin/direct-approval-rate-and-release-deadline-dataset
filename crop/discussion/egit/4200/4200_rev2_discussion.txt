DESCRIPTION

Change decorator to make use of IndexDiffCache

To improve performance of the GitLightweightDecorator it was changed to
calculate decorations only based on cached IndexDiff results.

If resources are modified new decorations are shown almost immediately.
If the index changes (e.g. add operation) it takes for linux
kernel repo 20 sec. (vs. 35 sec. before) to propagate decorations.

Change-Id: I6142b26565835f4122527c13928a0f4cff596ec9
Signed-off-by: Leslie Stephenson xxx@xxx.xxx
Signed-off-by: Zachary Orozco xxx@xxx.xxx


COMMENTS

author: Zachary Orozco
date: 2011-09-08 14:21:11.000000000

Uploaded patch set 2.

-------------------------------------
author: Marlie Beasley
date: 2011-09-09 15:01:19.000000000

Patch Set 2: I would prefer that you didn't submit this

(3 inline comments)



Line:812, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/decorators/GitLightweightDecorator.java -> What happens if just the branch changes? Don't we need refsChanged event in this case?

Line:82, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/decorators/GitLightweightDecorator.java -> Why do we need a resource change listener?
Those changes should be covered by IndexDiffCache

Line:32, org.eclipse.egit.core/META-INF/MANIFEST.MF -> white space error

-------------------------------------
author: Zachary Orozco
date: 2011-09-09 16:01:50.000000000

Patch Set 2: (2 inline comments)



Line:82, org.eclipse.egit.ui/src/org/eclipse/egit/ui/internal/decorators/GitLightweightDecorator.java -> We removed the rescource change listener and it just works

Line:32, org.eclipse.egit.core/META-INF/MANIFEST.MF -> which whitespace error?

-------------------------------------
