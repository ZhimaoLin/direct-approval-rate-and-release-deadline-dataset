DESCRIPTION

Replace getWorkbenchWindow().run by using a Job

ResetAction and Track now use a Job to execute the
operation.

Change-Id: Ifbad2a09d567a231461b2c33ff03868e1e1c7edc
Signed-off-by: Marlie Beasley xxx@xxx.xxx

COMMENTS

author: Marlie Beasley
date: 2010-05-07 11:41:55.000000000

Uploaded patch set 2.

-------------------------------------
author: Marlie Beasley
date: 2010-05-07 11:47:39.000000000

Patch Set 2: No score

Provided rule in ResetAction.
Remy, what do you think about the rule for TrackOperation?
TrackOperation does not write resources. It reads resources and adds them to the Git index. If we do not lock the files an other thread might e.g. delete the files and the TrackOperation would fail. So should we lock the files when performing TrackOperation?

-------------------------------------
author: Jaylon Avila
date: 2010-05-07 12:15:08.000000000

Patch Set 2: No score

I don't have the code in front of me but I believe TrackOperation calls accept(*) on IContainers, right? So I think we should lock the resources in question or else that's just going to throw a CoreException.

-------------------------------------
author: Marlie Beasley
date: 2010-05-07 12:27:12.000000000

Patch Set 2:

Hi Remy, my question is more general: should an operation / Job that reads resources a,b,c and changes a non resource x (here: GixIndex) lock a,b,c to ensure proper execution?

-------------------------------------
author: Jaylon Avila
date: 2010-05-07 12:54:38.000000000

Patch Set 2:

I would say yes. Locks can be relaxed when people start complaining. ;)

-------------------------------------
