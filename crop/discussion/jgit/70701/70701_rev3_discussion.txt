DESCRIPTION

Make UploadPack observe exceptions reading refs

Now if refs are unreadable when serving an upload pack the handler
will fail due to the actual underlying failure. Previously all wants
would be rejected as invalid because Repository.getAllRefs() returned
an empty map.

Testing this required a new subclass of InMemoryRepository so that
an IOException could be injected at the correct time.

Signed-off-by: Skylar Davies xxx@xxx.xxx
Change-Id: Iac708b1db9d0ccce08c4ef5ace599ea0b57afdc0


COMMENTS

author: Skylar Davies
date: 2016-04-15 00:42:08.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2016-04-15 00:42:14.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/jgit/job/jgit.gerrit/8241/

-------------------------------------
author: Skylar Davies
date: 2016-04-15 00:42:48.000000000

Patch Set 3:

Thanks for the review, Shawn! PTAL.

-------------------------------------
author: Brenden Conley
date: 2016-04-15 00:52:36.000000000

Patch Set 3: Verified+1

Build Successful 

https://hudson.eclipse.org/jgit/job/jgit.gerrit/8241/ : SUCCESS

-------------------------------------
author: Yoselin Hanna
date: 2016-04-15 01:53:17.000000000

Patch Set 3: Code-Review+2

-------------------------------------
author: Gerrit Code Review
date: 2016-04-15 01:53:21.000000000

Change has been successfully merged into the git repository by Yoselin Hanna

-------------------------------------
