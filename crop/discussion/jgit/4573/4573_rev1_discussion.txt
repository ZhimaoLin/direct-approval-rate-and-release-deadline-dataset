DESCRIPTION

Always use try/finally around DfsBlockCache.clockLock

Any RuntimeException or Error in this block will leave the lock
held by the caller thread, which can later result in deadlock or
just cache requests hanging forever because they cannot get to
the lock object.

Wrap everything in try/finally to prevent the lock from hanging,
even though a RuntimeException or Error should never happen in
any of these code paths.

Change-Id: Ibb3467f7ee4c06f617b737858b4be17b10d936e0


COMMENTS

author: Brenden Conley
date: 2011-11-08 22:49:28.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/995/ 

-------------------------------------
author: Brenden Conley
date: 2011-11-08 22:52:36.000000000

Patch Set 1: Build Successful

Build Successful 
 
https://hudson.eclipse.org/sandbox/job/jgit.gerrit/995/ : SUCCESS

-------------------------------------
author: Juliet Cantu
date: 2011-11-10 06:46:45.000000000

Patch Set 1: Looks good to me, approved; IP review completed



-------------------------------------
author: Juliet Cantu
date: 2011-11-10 07:07:04.000000000

Change has been successfully merged into the git repository.

-------------------------------------
