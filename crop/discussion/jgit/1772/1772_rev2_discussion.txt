DESCRIPTION

Add support for special symref FETCH_HEAD and MERGE_HEAD

The RefDirectory class was not returning FETCH_HEAD and
MERGE_HEAD when trying to get all refs via getRefs(RefDatabase.ALL).
This fix adds constants for FETCH_HEAD and ORIG_HEAD and adds a
new getter getAdditionalRefs() to get these additional refs.
To be compatible with c git the getRefs(ALL) method will not return
FETCH_HEAD, MERGE_HEAD and ORIG_HEAD.

Change-Id: Ie114ca92e9d5e7d61d892f4413ade65acdc08c32
Signed-off-by: Zachary Orozco xxx@xxx.xxx


COMMENTS

author: Zachary Orozco
date: 2010-10-24 14:00:45.000000000

Uploaded patch set 2.

-------------------------------------
author: Yoselin Hanna
date: 2010-10-24 17:08:53.000000000

Patch Set 2: (2 inline comments)



Line:315, org.eclipse.jgit/src/org/eclipse/jgit/storage/file/RefDirectory.java -> I'm not sure we should eat these exceptions.

Line:189, org.eclipse.jgit/src/org/eclipse/jgit/lib/RefDatabase.java -> This should throw IOException just like getRefs() above does.  We should throw on things like permission denied to read a file that we can see exists.

-------------------------------------
author: Zachary Orozco
date: 2010-10-24 22:42:36.000000000

Patch Set 2: (2 inline comments)



Line:315, org.eclipse.jgit/src/org/eclipse/jgit/storage/file/RefDirectory.java -> Done

Line:189, org.eclipse.jgit/src/org/eclipse/jgit/lib/RefDatabase.java -> Done

-------------------------------------
