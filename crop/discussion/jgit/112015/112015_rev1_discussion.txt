DESCRIPTION

Honor trustFolderStats also when reading packed-refs

Then list of packed refs was cached in RefDirectory based on mtime of
the packed-refs file. This may fail on NFS when attributes are cached.
A cached mtime of the packed-refs file could cause JGit to trust the
cached content of this file and to overlook that the file is modified.

Honor the config option trustFolderStats and always read the packed-refs
content if the option is false. By default this option is set to true
and this fix is not active.

Change-Id: I2b65cfaa8f4aba2efbf8a5e865d3f09f927e2eec


COMMENTS

author: Zachary Orozco
date: 2017-11-21 20:21:58.000000000

Uploaded patch set 1.

-------------------------------------
author: Brenden Conley
date: 2017-11-21 20:22:03.000000000

Patch Set 1:

Build Started https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/9/ (1/2)

-------------------------------------
author: Brenden Conley
date: 2017-11-21 20:22:03.000000000

Patch Set 1:

Build Started https://ci.eclipse.org/jgit/job/jgit.gerrit/11635/ (2/2)

-------------------------------------
author: Brenden Conley
date: 2017-11-21 20:41:14.000000000

Patch Set 1: Verified-1

Build Failed 

https://ci.eclipse.org/jgit/job/jgit.gerrit/11635/ : FAILURE

https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/9/ : SUCCESS

-------------------------------------
author: Brenden Conley
date: 2017-11-22 07:43:23.000000000

Patch Set 1: -Verified

Build Started https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/12/ (2/2)

-------------------------------------
author: Brenden Conley
date: 2017-11-22 07:54:09.000000000

Patch Set 1: Verified-1

Build Failed 

https://ci.eclipse.org/jgit/job/jgit.gerrit/11635/ : FAILURE

https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/12/ : SUCCESS

-------------------------------------
author: Brenden Conley
date: 2017-11-22 08:02:40.000000000

Patch Set 1: -Verified

Build Started https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/13/ (2/2)

-------------------------------------
author: Douglas Trujillo
date: 2017-11-22 08:04:44.000000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Brenden Conley
date: 2017-11-22 08:13:43.000000000

Patch Set 1: Verified-1

Build Failed 

https://ci.eclipse.org/jgit/job/jgit.gerrit/11635/ : FAILURE

https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/13/ : SUCCESS

-------------------------------------
author: Douglas Trujillo
date: 2017-11-22 08:37:38.000000000

Patch Set 1:

> Build Failed
 > 
 > https://ci.eclipse.org/jgit/job/jgit.gerrit/11635/ : FAILURE
 > 
 > https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/13/ : SUCCESS

not sure what's going on here, even if the jgit.gerrit build job is disabled, Jenkins reports the old failure jgit.gerrit/11635. Will now try to delete this job's workspace to workaround this

-------------------------------------
author: Brenden Conley
date: 2017-11-22 08:38:32.000000000

Patch Set 1: -Verified

Build Started https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/14/ (2/2)

-------------------------------------
author: Brenden Conley
date: 2017-11-22 08:48:41.000000000

Patch Set 1: Verified-1

Build Failed 

https://ci.eclipse.org/jgit/job/jgit.gerrit/11635/ : FAILURE

https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/14/ : SUCCESS

-------------------------------------
author: Brenden Conley
date: 2017-11-22 11:43:38.000000000

Patch Set 1: -Verified

Build Started https://ci.eclipse.org/jgit/job/jgit.gerrit/11640/ (2/2)

-------------------------------------
author: Brenden Conley
date: 2017-11-22 11:51:39.000000000

Patch Set 1: Verified-1

Build Failed 

https://ci.eclipse.org/jgit/job/jgit.gerrit/11640/ : FAILURE

https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/14/ : SUCCESS

-------------------------------------
author: Brenden Conley
date: 2017-11-22 11:54:00.000000000

Patch Set 1: -Verified

Build Started https://ci.eclipse.org/jgit/job/jgit.gerrit/11641/ (2/2)

-------------------------------------
author: Brenden Conley
date: 2017-11-22 12:09:55.000000000

Patch Set 1: Verified+1

Build Successful 

https://ci.eclipse.org/jgit/job/jgit-stable.gerrit/14/ : SUCCESS

https://ci.eclipse.org/jgit/job/jgit.gerrit/11641/ : SUCCESS

-------------------------------------
author: Douglas Trujillo
date: 2017-11-22 12:13:20.000000000

Change has been successfully merged by Douglas Trujillo

-------------------------------------
