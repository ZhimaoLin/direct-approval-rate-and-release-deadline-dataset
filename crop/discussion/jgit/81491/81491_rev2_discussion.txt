DESCRIPTION

Fix carrying over flags during a RevWalk

There was a bug when carrying over flags from a merge commit to its
non-first parents. The first parent of a merge commit was handled
differently and correct but the non-first parents are handled by a
recursive algorithm. Flags should be copied from the root merge commit
to parent-2, to grandparent-2, ... up to the limit of STACK_DEPTH==500
parents-levels. But the recursive algorithm was always copying only to
the direct parents of the merge commit and not the grand*-parents.

This seems to be no problem when commits are handled in a strict date
order because then copying only one level is no problem if children are
handled before parents. But when commits are not seperated anymore by
distinctive correct dates (e.g. because all commits have the same date)
then it may happen that a merge-parent is handled before the merge
commit and when dealing later with the merge commit one has to copy
flags down to more than one level

Bug: 501211
Change-Id: I2d79a7cf1e3bce21a490905ccd9d5e502d7b8421


COMMENTS

author: Zachary Orozco
date: 2016-09-23 09:15:36.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2016-09-23 09:15:43.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/jgit/job/jgit.gerrit/9201/

-------------------------------------
author: Santos Moore
date: 2016-09-23 09:26:29.000000000

Patch Set 2: Code-Review+1

-------------------------------------
author: Brenden Conley
date: 2016-09-23 09:27:41.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/jgit/job/jgit.gerrit/9201/ : SUCCESS

-------------------------------------
author: Yoselin Hanna
date: 2016-09-24 05:16:26.000000000

Patch Set 2: Code-Review+2

-------------------------------------
author: Gerrit Code Review
date: 2016-09-24 05:16:50.000000000

Change has been successfully merged into the git repository by Yoselin Hanna

-------------------------------------
