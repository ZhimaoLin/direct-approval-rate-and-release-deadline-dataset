DESCRIPTION

Add path support to checkout command.

Change-Id: I89e8edfc6dd87d5bf8fd08704df2432720084330
Signed-off-by: Jaidyn Nichols xxx@xxx.xxx


COMMENTS

author: Jaidyn Nichols
date: 2011-04-28 04:55:00.000000000

Uploaded patch set 14.

-------------------------------------
author: Brenden Conley
date: 2011-04-28 04:55:04.000000000

Patch Set 14: Build Failed

Build Failed 
 
https://hudson.eclipse.org/sandbox/job/jgit.gerrit/319/ : FAILURE

-------------------------------------
author: Brenden Conley
date: 2011-04-28 04:55:04.000000000

Patch Set 14:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/319/ 

-------------------------------------
author: Carlie Harper
date: 2011-04-28 12:28:24.000000000

Patch Set 14: I would prefer that you didn't submit this

(2 inline comments)

Great!

Please see my inline comments.

Line:123, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/PathCheckoutCommandTest.java -> You may add tow more tests for the case that there are changes in the index:

xxx@xxx.xxx
	public void testUpdateWorkingDirectoryFromIndex() throws Exception {
		CheckoutCommand co = git.checkout();
		File written = writeTrashFile("Test.txt", "3a");
		git.add().addFilepattern("Test.txt").call();
		written = writeTrashFile("Test.txt", "");
		assertEquals("", read(written));
		co.addPath("Test.txt").call();
		assertEquals("3a", read(written));
		assertEquals("c", read(new File(db.getWorkTree(), "Test2.txt")));
	}

xxx@xxx.xxx
	public void testUpdateWorkingDirectoryFromHeadWithIndexChange()
			throws Exception {
		CheckoutCommand co = git.checkout();
		File written = writeTrashFile("Test.txt", "3a");
		git.add().addFilepattern("Test.txt").call();
		written = writeTrashFile("Test.txt", "");
		assertEquals("", read(written));
		co.addPath("Test.txt").setStartPoint("HEAD").call();
		assertEquals("3", read(written));
		assertEquals("c", read(new File(db.getWorkTree(), "Test2.txt")));
	}

Line:116, org.eclipse.jgit/src/org/eclipse/jgit/api/CheckoutCommand.java -> In all the other commands call() is the first method after the constructor. Please stick to that pattern.

-------------------------------------
