DESCRIPTION

[findbugs] Do not ignore exceptional return value of mkdir

java.io.File.mkdir() and mkdirs() report failure as an exceptional
return value false. Fix the code which silently ignored this
exceptional return value.

Change-Id: I41244f4b9d66176e68e2c07e2329cf08492f8619
Signed-off-by: Douglas Trujillo xxx@xxx.xxx


COMMENTS

author: Douglas Trujillo
date: 2011-01-14 17:06:18.000000000

Uploaded patch set 6.

-------------------------------------
author: Juliet Cantu
date: 2011-01-15 14:05:23.000000000

Patch Set 6: (16 inline comments)



Line:110, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Use FileUtils.mkdirs

Line:300, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Use FileUtils.mkdirs

Line:323, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Use FileUtils.mkdirs

Line:352, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Use FileUtils.mkdirs

Line:379, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Use FileUtils.mkdirs

Line:433, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Use FileUtils.mkdirs

Line:95, org.eclipse.jgit.test/tst/org/eclipse/jgit/util/FileUtilTest.java -> how did the previous version work? 

Use FileUtils.mkdirs

Line:113, org.eclipse.jgit.test/tst/org/eclipse/jgit/treewalk/FileTreeIteratorTest.java -> Use FileUtils.mkdirs

Line:114, org.eclipse.jgit.test/tst/org/eclipse/jgit/treewalk/FileTreeIteratorTest.java -> unnecessary due to mkDir

Line:387, org.eclipse.jgit/src/org/eclipse/jgit/dircache/DirCacheCheckout.java -> Why not FileUtils.mkdirs?

Line:17, org.eclipse.jgit/findBugs/FindBugsExcludeFilter.xml -> Why?

Line:59, org.eclipse.jgit.test/tst/org/eclipse/jgit/storage/file/FileRepositoryBuilderTest.java -> Use FileUtils.mkdirs

Line:73, org.eclipse.jgit.test/tst/org/eclipse/jgit/transport/OpenSshConfigTest.java -> Use FileUtils.mkdirs

Line:76, org.eclipse.jgit.test/tst/org/eclipse/jgit/transport/OpenSshConfigTest.java -> Use FileUtils.mkdirs

Line:205, org.eclipse.jgit.test/tst/org/eclipse/jgit/storage/file/T0003_BasicTest.java -> Use FileUtils.mkdirs

Line:234, org.eclipse.jgit.test/tst/org/eclipse/jgit/storage/file/T0003_BasicTest.java -> Use FileUtils.mkdirs

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:07.000000000

Patch Set 6: (16 inline comments)



-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:110, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:300, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:323, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:352, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:379, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:433, org.eclipse.jgit.test/tst/org/eclipse/jgit/api/AddCommandTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:95, org.eclipse.jgit.test/tst/org/eclipse/jgit/util/FileUtilTest.java -> createNewFile silently failed without consequences

Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:113, org.eclipse.jgit.test/tst/org/eclipse/jgit/treewalk/FileTreeIteratorTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:114, org.eclipse.jgit.test/tst/org/eclipse/jgit/treewalk/FileTreeIteratorTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:387, org.eclipse.jgit/src/org/eclipse/jgit/dircache/DirCacheCheckout.java -> see Chris' comment on patchset 2

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:17, org.eclipse.jgit/findBugs/FindBugsExcludeFilter.xml -> since findbugs still complains about the ignored return value in DirCacheCheckout line 386, I think since the compiler deletes the empty block just containing a comment

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:59, org.eclipse.jgit.test/tst/org/eclipse/jgit/storage/file/FileRepositoryBuilderTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:73, org.eclipse.jgit.test/tst/org/eclipse/jgit/transport/OpenSshConfigTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:76, org.eclipse.jgit.test/tst/org/eclipse/jgit/transport/OpenSshConfigTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:205, org.eclipse.jgit.test/tst/org/eclipse/jgit/storage/file/T0003_BasicTest.java -> Done

-------------------------------------
author: Douglas Trujillo
date: 2011-01-26 23:38:06.000000000

MISMATCHED INLINE COMMENT
Line:234, org.eclipse.jgit.test/tst/org/eclipse/jgit/storage/file/T0003_BasicTest.java -> Done

-------------------------------------
