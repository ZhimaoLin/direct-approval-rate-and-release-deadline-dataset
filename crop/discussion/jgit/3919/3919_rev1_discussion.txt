DESCRIPTION

Add DiffCommand to JGit API

Bug: 334766
Change-Id: Iea74c599a956a058608e424d0274f879bc2f064a


COMMENTS

author: Brenden Conley
date: 2011-07-26 08:52:23.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/661/ 

-------------------------------------
author: Brenden Conley
date: 2011-07-26 08:56:18.000000000

Patch Set 1: Build Successful

Build Successful 
 
https://hudson.eclipse.org/sandbox/job/jgit.gerrit/661/ : SUCCESS

-------------------------------------
author: Yoselin Hanna
date: 2011-08-13 21:04:41.000000000

Patch Set 1: Looks good to me, but someone else must approve

Looks fine to me. What are you going to do about the TODO markers for actual diff output? Just allow the caller to supply you the OutputStream and pass that to the DiffFormatter?

-------------------------------------
author: Zachary Orozco
date: 2011-08-15 09:35:34.000000000

Patch Set 1: (3 inline comments)

looks quite good, I have only minor comments.

Shawn I don't understand your comment. These commands normally don't print somewhere and I also don't see a todo for that in this change

Line:486, org.eclipse.jgit/src/org/eclipse/jgit/api/Git.java -> Style-nit: remove the trailing whitespace

Line:95, org.eclipse.jgit/src/org/eclipse/jgit/api/DiffCommand.java -> this method returns more than pathes. I would suggest:
s/the paths that are/a DiffEntry for each path which is/

Line:118, org.eclipse.jgit/src/org/eclipse/jgit/api/DiffCommand.java -> shouldn't we overwrite newtree only when it was checked that is was not explicitly set? If somebody sets newTree but not oldTree then we would ignore his newTree.

-------------------------------------
author: Clay Cameron
date: 2011-08-16 09:54:20.000000000

Patch Set 1: (3 inline comments)



Line:486, org.eclipse.jgit/src/org/eclipse/jgit/api/Git.java -> Done

Line:95, org.eclipse.jgit/src/org/eclipse/jgit/api/DiffCommand.java -> Done

Line:118, org.eclipse.jgit/src/org/eclipse/jgit/api/DiffCommand.java -> This part is copy-pasted from org.eclipse.jgit.pgm.Diff.run() but I agree we could be more careful here. Updated in the patch set #2, where both oldTree and newTree are set only when null.

-------------------------------------
