DESCRIPTION

Enable providing credentials for HTTP authentication

This change is based on http://egit.eclipse.org/r/#change,1652
by Aracely Robinson. The change adds the concept of a CredentialsProvider
which can be registered for git transports and which is
responsible to return credential-related data like passwords and
usernames. Whenenver the transports detects that an authentication
with certain credentials has to be done it will ask the
CredentialsProvider for this data. Foreseen implementations for
such a Provider may be a EGitCredentialsProvider (caching
credential data entered e.g. in the Clone-Wizzard) or a NetRcProvider
(gathering data out of ~/.netrc file).

Bug: 296201
Change-Id: Ibe13e546b45eed3e193c09ecb414bbec2971d362
Signed-off-by: Douglas Trujillo xxx@xxx.xxx
Signed-off-by: Zachary Orozco xxx@xxx.xxx
Signed-off-by: Carlie Harper xxx@xxx.xxx
CC: Aracely Robinson xxx@xxx.xxx


COMMENTS

author: Zachary Orozco
date: 2010-11-10 15:43:01.000000000

Uploaded patch set 2.

-------------------------------------
author: Yoselin Hanna
date: 2010-11-10 19:52:27.000000000

Patch Set 2: I would prefer that you didn't submit this

(4 inline comments)



Line:69, org.eclipse.jgit/src/org/eclipse/jgit/errors/UnsupportedCredentialType.java -> Style-nit: Unnecessary blank line.

Line:90, org.eclipse.jgit/src/org/eclipse/jgit/transport/CredentialsProvider.java -> Style-nit: Trailing whitespace.

Line:95, org.eclipse.jgit/src/org/eclipse/jgit/transport/CredentialsProvider.java -> Style-nit: Trailing whitespace.

Line:101, org.eclipse.jgit/src/org/eclipse/jgit/transport/CredentialsProvider.java -> Doesn't this interface limit us to prompting twice for input?  That is, if the caller knows it needs both USERNAME and PASSWORD (think HTTP basic auth) we have to ask the provider twice.  So the provider has to open a dialog and ask for username, close that dialog, return the value, then open another to ask for password.  Ick.

What about this interface instead:

  public abstract Map<CredentialType, Object> getCredentials(URIish uri, CredentialType... types);

Then we can ask for either one value, or multiple values, at one time.

But this still isn't completely flexible.  We can't use this interface to ask for an SSH key passphrase for example, because we cannot extend the CredentialType enumeration with a new value.

I have a different alternative idea.  I'll try uploading a replacement patch set with it for comments.

-------------------------------------
