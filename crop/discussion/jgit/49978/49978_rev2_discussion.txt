DESCRIPTION

Treat CloneCommand.setBranch(null) as setBranch("HEAD")

This method is documented to take a branch name (not a possibly null
string).  The only way a caller could have set null without either
re-setting to a sane value afterward or producing NullPointerException
was to also call setNoCheckout(true), in which case there would have
been no reason to set the branch in the first place.

Make setBranch(null) request the default behavior (remote's default
branch) instead, imitating C git's clone --no-branch.

Change-Id: I960e7046b8d5b5bc75c7f3688f3a075d3a951b00
Signed-off-by: Eden Lin xxx@xxx.xxx


COMMENTS

author: Eden Lin
date: 2015-06-11 19:04:57.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2015-06-11 19:25:43.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/jgit/job/jgit.gerrit/6720/

-------------------------------------
author: Brenden Conley
date: 2015-06-11 19:32:35.000000000

Patch Set 2: Verified+1

Build Successful 

https://hudson.eclipse.org/jgit/job/jgit.gerrit/6720/ : SUCCESS

-------------------------------------
author: Zachary Orozco
date: 2015-06-12 08:25:25.000000000

Patch Set 2: Code-Review+2

-------------------------------------
author: Eden Lin
date: 2015-06-12 15:49:20.000000000

Change has been successfully merged into the git repository.

-------------------------------------
