DESCRIPTION

Speed up check for modifications of tracked resources

We only need to check file existense if some other stat returns
a value that may mean that the file does not exist. File.length() == 0
or File.lastModified() == 0 are two such properties. We use length
here.

Change-Id: If626b12e7bb4da994b5c086f6a5b7a12c187261c
Signed-off-by: Juliet Cantu xxx@xxx.xxx


COMMENTS

author: Juliet Cantu
date: 2010-04-10 15:27:00.000000000

Patch Set 1: Looks good to me, but someone else must approve; No score

According to strace this change halves the number of syscalls
needed for checking status on an unchanged file on Linux. The
performance benefit on my laptop is consistently about 15-20% with hot cache for a repo with 19 projects and 800 files.

This is not the final say on this topic,

-------------------------------------
author: Juliet Cantu
date: 2010-04-10 17:35:25.000000000

Patch Set 1: IP review completed



-------------------------------------
author: Yoselin Hanna
date: 2010-04-11 02:41:14.000000000

Patch Set 1: Looks good to me, approved; No score



-------------------------------------
author: Yoselin Hanna
date: 2010-04-11 02:41:15.000000000

Change has been successfully merged into the git repository.

-------------------------------------
