DESCRIPTION

Git API does not declare GitAPIException call()

All Commands should throw a GitAPIException so new exceptions can be
added without breaking the builds of old code, i.e. anyone that calls
a Git API should catch GitAPIException and not just the currently known
exceptions.

Unfortunately this change breaks the API.

Bug: 366914

Change-Id: I50380f13fc82c22d0036f47c7859cc3a77e767c5


COMMENTS

author: Brenden Conley
date: 2011-12-16 06:02:16.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/1235/ 

-------------------------------------
author: Brenden Conley
date: 2011-12-16 06:05:28.000000000

Patch Set 1: Build Successful

Build Successful 
 
https://hudson.eclipse.org/sandbox/job/jgit.gerrit/1235/ : SUCCESS

-------------------------------------
author: Zachary Orozco
date: 2011-12-16 09:59:20.000000000

Patch Set 1:

Ok for me. But why don't you also override call() in GitCommand to throw GitAPIException. Then you would enforce this rule also for all upcoming commands?

-------------------------------------
author: Juliet Cantu
date: 2011-12-16 13:19:30.000000000

Patch Set 1:

Because Java doesn't like that if we want to declare an extended set of checked exceptions.  Today some throws
IOException. Others catch IOExceptions and throw JGitInternalException. Quite messy. I'll push a version for you to see.... It won't compile though.

-------------------------------------
author: Juliet Cantu
date: 2011-12-16 13:55:12.000000000

Patch Set 1:

The right thing would be to remove IOExceptions in general from the API and re-throw them consistenly as JGitInternalException or a new subclass of GitAPIException, say JGitIOException or similar.

-------------------------------------
