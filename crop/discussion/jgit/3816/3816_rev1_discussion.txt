DESCRIPTION

Fixed creation of branch from a tag.

Creation of a branch X from an annotated tag, as the starting point,
resulted into .git/refs/heads/X containing the ID of the annotated tag
instead of the ID of the tagged commit.

This fix peels the tag ref before using it as the starting point for
the newly created branch.

Bug: 340836
Change-Id: I01c7325770ecb37f5bf8ddb2a22f802466524f24


COMMENTS

author: Brenden Conley
date: 2011-07-05 12:22:12.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/621/ 

-------------------------------------
author: Brenden Conley
date: 2011-07-05 12:26:19.000000000

Patch Set 1: Build Successful

Build Successful 
 
https://hudson.eclipse.org/sandbox/job/jgit.gerrit/621/ : SUCCESS

-------------------------------------
author: Douglas Trujillo
date: 2011-07-06 23:14:46.000000000

Patch Set 1:

how about adding a unit test ?

-------------------------------------
author: Zachary Orozco
date: 2011-07-07 07:21:02.000000000

Patch Set 1: I would prefer that you didn't submit this

The solution looks good to me, but we really need a test in BranchCommandTest

-------------------------------------
