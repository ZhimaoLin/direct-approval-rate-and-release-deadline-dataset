DESCRIPTION

Add merge algorithm

Adds the merge alorithm and tests for merge to jgit. The merge algorithm in
MergeAlgorithm.java will
- get as input parameters the common base, the two new contents called "ours" and "theirs"
- compute the Edits from base to ours and from base to theirs with the help of MyersDiff
- iterate over the edits
-- independent edits from ours or from theirs will just be applied to the result
-- for conflicting edits I first harmonize the ranges of the edits so that in the end we
   have exactly two edits starting and ending at the same points in the common base. Then
   write the two conclicting contents into the result

Signed-off-by: Zachary Orozco xxx@xxx.xxx
Change-Id: I411862393e7bf416b6f33ca55ec5af608ff4663


COMMENTS

author: Zachary Orozco
date: 2010-01-01 23:25:07.000000000

Uploaded patch set 3.

-------------------------------------
author: Zachary Orozco
date: 2010-01-01 23:27:48.000000000

Patch Set 3: Looks good to me, approved; IP review completed

I incorporated all of Shawns comments. I also added more comments for the test cases on Robins request. Now the merge
algorithm looks good from my side.

-------------------------------------
author: Juliet Cantu
date: 2010-01-03 14:56:32.000000000

Patch Set 3: I would prefer that you didn't submit this; No score

Almost. The code looks very well written, now that I think I understand the tests. Because of the well written code we want everything perfect to set the standard.

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:64, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeAlgorithm.java -> This only prevents instantiation: Add final to the class to prevent subclaasing. Some people subclass utility classes even though it rarely is a good idea.

I didn't find anything in the coding guidelines abou this...

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:75, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeAlgorithm.java -> Here, and in general. Start complete sentences with a capital letter

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:62, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeResult.java -> <p> for separating paragraphs

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:127, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeResult.java -> Seems private to the iterator below only

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:156, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeResult.java -> Duplicate comment, xxx@xxx.xxx only

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:102, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> defaultcharset warning. See merge utility.
Having both utility methods together looks nicer

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:106, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> Make this a javadoc comment

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:114, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> Make this a javadoc comment

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:123, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> Make this a javadoc comment

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:130, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> Make this a javadoc comment

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:137, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> Make this a javadoc comment

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:139, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> spelling error

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:148, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> Make this a javadoc comment

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:154, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> Make this a javadoc comment

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:159, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> nitpick: private

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:162, org.eclipse.jgit.test/tst/org/eclipse/jgit/merge/MergeAlgorithmTest.java -> Should we ever use defaultcharset? It makes no practical difference for this case, but could set a bad example.

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:112, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeFormatter.java -> Reflow this paragraph. You would be better off using /* */ for multi line comments.

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:120, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeFormatter.java -> Avoid magic constants. Either define an LF contant or use '\n' which is less magic.

Whether to always use LF is another topic, but I think we can accept it for the time being.

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:132, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeFormatter.java -> conformant?
Git

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:134, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeFormatter.java -> >the caller< to...

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:137, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeFormatter.java -> Either "OutputStream" or "output stream"

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:147, org.eclipse.jgit/src/org/eclipse/jgit/merge/MergeFormatter.java -> character set
meta data is the right spelling in natural text. I think.

-------------------------------------
