DESCRIPTION

Add a method to ObjectInserter to read back inserted objects

In the DFS implementation, flushing an inserter writes a new pack to
the storage system and is potentially very slow, but was the only way
to ensure previously-inserted objects were available. For some tasks,
like performing a series of three-way merges, the total size of all
inserted objects may be small enough to avoid flushing the in-memory
buffered data. DfsOutputStream already provides a read method to read
back from the not-yet-flushed data, so use this to provide an
ObjectReader in the DFS case.

In the file-backed case, objects are written out loosely on the fly,
so the implementation can just return the existing WindowCursor.

Change-Id: I454fdfb88f4d215e31b7da2b2a069853b197b3dd


COMMENTS

author: Santos Moore
date: 2013-05-15 18:42:06.000000000

Uploaded patch set 4.

-------------------------------------
author: Brenden Conley
date: 2013-05-15 18:48:55.000000000

Patch Set 4:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/3550/ 

-------------------------------------
author: Brenden Conley
date: 2013-05-15 18:54:21.000000000

Patch Set 4: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/jgit.gerrit/3550/ : SUCCESS

-------------------------------------
