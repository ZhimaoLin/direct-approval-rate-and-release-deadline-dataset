DESCRIPTION

Always fetch tags during clone

C Git always fetches tags during clone, even if the tag doesn't
point to an object that was fetched by the branch specifications.
Match that behavior, as users expect it.

Bug: 326611
Change-Id: I81a82b7359a9649f18a172219da44ed54e77ca2f
Signed-off-by: Jaycee Hickman xxx@xxx.xxx


COMMENTS

author: Brenden Conley
date: 2011-03-14 15:54:53.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/76/ 

-------------------------------------
author: Brenden Conley
date: 2011-03-14 15:57:13.000000000

Patch Set 1: Build Successful

Build Successful 
 
https://hudson.eclipse.org/sandbox/job/jgit.gerrit/76/ : SUCCESS

-------------------------------------
author: Malia Sampson
date: 2011-03-14 21:33:36.000000000

Patch Set 1: Looks good to me, approved; Build Successful; IP review completed

Looks good.

It would be nice to write a test for this. What's the best way to test TagOpt.FETCH_TAGS? You'd have to create a tag that points to something that doesn't exist?

-------------------------------------
author: Malia Sampson
date: 2011-03-14 21:33:37.000000000

Change has been successfully merged into the git repository.

-------------------------------------
author: Yoselin Hanna
date: 2011-03-14 21:35:27.000000000

Patch Set 1:

The test for this is to make a tag that points at a blob that isn't in the master branch... but that still exists. For example the spearce-gpg-pub key in jgit.git.

-------------------------------------
author: Malia Sampson
date: 2011-03-14 22:03:47.000000000

Patch Set 1:

Thanks, for the tip. Should have a test for it now.

http://egit.eclipse.org/r/#change,2714

-------------------------------------
