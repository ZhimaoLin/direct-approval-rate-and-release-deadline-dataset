DESCRIPTION

RefDirectory: Use FileSnapshot for loose refs

Instead of relying only on the file modification time and guessing,
use FileSnapshot to determine if a ref needs to be read again,
or can be used as-is from the in-memory cached copy.

This fixes the "racy git" bug with loose references, but at the
additional memory expense of needing to allocate an additional object
(and several more fields) per loose reference.

Change-Id: I1556b7e7ea21c31ff76bca930269e0cc7d55cd26
Signed-off-by: Jaycee Hickman xxx@xxx.xxx


COMMENTS

author: Yoselin Hanna
date: 2010-12-15 23:52:20.000000000

Uploaded patch set 3.

-------------------------------------
author: Yoselin Hanna
date: 2011-05-27 17:03:45.000000000

Patch Set 3: Abandoned

Zachary Orozco basically did the same thing in change I03b9a137af097ec69c4c5e2eaa512d2bdd7fe080.

-------------------------------------
