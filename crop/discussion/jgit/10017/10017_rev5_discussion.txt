DESCRIPTION

Speed up bitmap creation time in GC.

Previously, bitmap indexes were created from scratch on every run of GC.

+ Update the PackWriter to reuse previously computed bitmaps, by mapping
  the old positions to the new positions on the fly and caching the
  result.
+ Add a flag byte to each bitmap which marks whether the bitmap is able
  to be reused (since it was at the max commit distance when it was
  originally selected).
+ Shrink the range of commits between each bitmap and use a step
  function.

On the linux kernel, this decreased time to create a bitmap
from about 60 seconds to 10 seconds.

Change-Id: I413774adbdb7e66e7046010b6fd651afb8dff11b


COMMENTS

author: Warren Watkins
date: 2013-02-07 22:40:48.000000000

Uploaded patch set 5.

-------------------------------------
author: Brenden Conley
date: 2013-02-07 22:46:34.000000000

Patch Set 5:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/2913/ 

-------------------------------------
author: Brenden Conley
date: 2013-02-07 22:51:12.000000000

Patch Set 5: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/jgit.gerrit/2913/ : SUCCESS

-------------------------------------
