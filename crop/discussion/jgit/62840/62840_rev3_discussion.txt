DESCRIPTION

Checkout should be able to override modified symbolic links

Handle existing symlink as a file, not as directory if deleting a file
before creating (overriding) a symlink.

Bug: 484491
Change-Id: I29dbf57d1daec2ba98454975b093e1d381d05196
Signed-off-by: Jayvion Booth xxx@xxx.xxx


COMMENTS

author: Jayvion Booth
date: 2015-12-16 22:34:14.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2015-12-16 22:34:20.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/jgit/job/jgit.gerrit/7728/

-------------------------------------
author: Brenden Conley
date: 2015-12-16 22:40:04.000000000

Patch Set 3: Verified-1

Build Failed 

https://hudson.eclipse.org/jgit/job/jgit.gerrit/7728/ : FAILURE

-------------------------------------
author: Brenden Conley
date: 2015-12-16 23:00:11.000000000

Patch Set 3: -Verified

Build Started https://hudson.eclipse.org/jgit/job/jgit.gerrit/7729/

-------------------------------------
author: Brenden Conley
date: 2015-12-16 23:09:44.000000000

Patch Set 3: Verified+1

Build Successful 

https://hudson.eclipse.org/jgit/job/jgit.gerrit/7729/ : SUCCESS

-------------------------------------
author: Zachary Orozco
date: 2015-12-17 08:55:15.000000000

Patch Set 3:

(2 comments)

Line:436, org.eclipse.jgit.test/tst/org/eclipse/jgit/util/FileUtilTest.java -> see my comments below

Line:459, org.eclipse.jgit.test/tst/org/eclipse/jgit/util/FileUtilTest.java -> Do we really want this tests to run even if our fs is telling it is not supporting symlinks? I not then I would propose:

	FS fs = FS.DETECTED;
	Assume.assumeTrue(fs.supportsSymlinks());
	File file = new File(trash, "x");
	try {
		fs.createSymLink(file, "y");
	} catch (IOException e) {
		fail("FS claims to support symlinks but attempt to create symlink failed");
	}

or even shorter:

	FS fs = FS.DETECTED;
	Assume.assumeTrue(fs.supportsSymlinks());
	File file = new File(trash, "x");
	fs.createSymLink(file, "y");

-------------------------------------
author: Jayvion Booth
date: 2015-12-17 09:04:56.000000000

Patch Set 3:

(2 comments)

Line:436, org.eclipse.jgit.test/tst/org/eclipse/jgit/util/FileUtilTest.java -> Done

Line:459, org.eclipse.jgit.test/tst/org/eclipse/jgit/util/FileUtilTest.java -> Sure. I will update it. I've just copy/pasted existing tests but this is no excuse.

-------------------------------------
author: Gerrit Code Review
date: 2015-12-17 15:19:34.000000000

Change has been successfully merged into the git repository by Zachary Orozco

-------------------------------------
