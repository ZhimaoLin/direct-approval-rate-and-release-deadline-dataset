DESCRIPTION

Add git checkout --orphan implementation


Change-Id: I7bb583674641efed210d3cd5b86af27d7bb48e97
Signed-off-by: SATO Lia Hines xxx@xxx.xxx


COMMENTS

author: Lia Hines
date: 2013-12-20 08:01:47.000000000

Uploaded patch set 2.

-------------------------------------
author: Brenden Conley
date: 2013-12-20 08:01:52.000000000

Patch Set 2:

Build Started https://hudson.eclipse.org/egit/job/jgit.gerrit/4352/

-------------------------------------
author: Brenden Conley
date: 2013-12-20 08:08:15.000000000

Patch Set 2: Verified-1

Build Failed 

https://hudson.eclipse.org/egit/job/jgit.gerrit/4352/ : FAILURE

-------------------------------------
author: Lia Hines
date: 2013-12-20 08:14:42.000000000

Patch Set 2:

Because CheckoutCommand is already quite complex.

-------------------------------------
author: Brenden Conley
date: 2013-12-20 08:31:03.000000000

Patch Set 2: -Verified

Build Started https://hudson.eclipse.org/egit/job/jgit.gerrit/4353/

-------------------------------------
author: Brenden Conley
date: 2013-12-20 08:37:34.000000000

Patch Set 2: Verified-1

Build Failed 

https://hudson.eclipse.org/egit/job/jgit.gerrit/4353/ : FAILURE

-------------------------------------
author: Brenden Conley
date: 2013-12-20 09:29:21.000000000

Patch Set 2: -Verified

Build Started https://hudson.eclipse.org/egit/job/jgit.gerrit/4354/

-------------------------------------
author: Brenden Conley
date: 2013-12-20 09:38:48.000000000

Patch Set 2: Verified-1

Build Failed 

https://hudson.eclipse.org/egit/job/jgit.gerrit/4354/ : FAILURE

-------------------------------------
author: Juliet Cantu
date: 2013-12-21 00:23:28.000000000

Patch Set 2:

(2 comments)

Line:156, org.eclipse.jgit/src/org/eclipse/jgit/api/CreateOrphanBranchCommand.java -> We use ! for checking if something is false

Line:158, org.eclipse.jgit/src/org/eclipse/jgit/api/CreateOrphanBranchCommand.java -> Shouldn't this be a RefAlreadyExistsException. 

JGitInternalException is for strange errors that we don't anticipate. You should try to thow a GitAPIException if you are positive about what the issue is. JGitInternalException aren't something the caller can do anything with, except reporting the raw exception (more or less). GitAPIException's can be examined and acted upon

-------------------------------------
author: Juliet Cantu
date: 2013-12-21 00:24:09.000000000

Patch Set 2: Code-Review-1

and as Chris points out, the code belongs in the checkoutCommand class.

-------------------------------------
author: Lia Hines
date: 2013-12-21 05:48:13.000000000

Patch Set 2:

ok, i try to move into checkoutcommand this code.

-------------------------------------
author: Lia Hines
date: 2013-12-25 07:47:55.000000000

Patch Set 2:

(1 comment)

Line:158, org.eclipse.jgit/src/org/eclipse/jgit/api/CreateOrphanBranchCommand.java -> now i confused. 

CheckoutCommand#L.280 throws JGitInternalException.
But you say me to use GitAPIExceptions(or RefAlreadyExistsException?)

this condition not be true in most cases.
because Repository is already checked in #processOptions.
by the way, it throws RefAlreadyExistsException

-------------------------------------
author: Juliet Cantu
date: 2013-12-25 17:24:15.000000000

Patch Set 2:

(1 comment)

Line:158, org.eclipse.jgit/src/org/eclipse/jgit/api/CreateOrphanBranchCommand.java -> Good point..

-------------------------------------
