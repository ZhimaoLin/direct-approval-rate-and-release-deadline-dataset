DESCRIPTION

Cope with malformed RefSpecs introduced by #402031

Both the source and destination in the refspec are now normalised to
remove superfluous slash ('/') characters. The normalisation performed
is the same as C-Git git-check-ref-format:

http://git-scm.com/docs/git-check-ref-format#_options

This copes with the corrupt fetch refspecs generated by JGit
v1.0-v2.3.1 for bare-repo clones. From JGit v2.1 onwards (commit
3da13473), these malformed refspecs were no longer tolerated and would
stop fetches from updating refs. Normalising the refspecs fixes this
issue and allows fetches to update refs successfully.

https://bugs.eclipse.org/bugs/show_bug.cgi?id=402031

Change-Id: Ifd1e67fd4b52bfbdebc681be65c5454c052a8082


COMMENTS

author: Brenden Conley
date: 2013-03-10 17:04:50.000000000

Patch Set 1:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/3118/ 

-------------------------------------
author: Kendrick Carrillo
date: 2013-03-10 17:06:30.000000000

Patch Set 1:

I assert that:

1. I have authored 100% of the content I'm contributing

2. I have the rights to donate the content to Eclipse

3. I contribute the content under the EDL

-------------------------------------
author: Brenden Conley
date: 2013-03-10 17:09:51.000000000

Patch Set 1: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/jgit.gerrit/3118/ : SUCCESS

-------------------------------------
author: Elise Key
date: 2017-08-29 13:16:27.000000000

Abandoned

Abandoning after 1 year or more of inactivity.

If this change is still needed, please restore it.

-------------------------------------
