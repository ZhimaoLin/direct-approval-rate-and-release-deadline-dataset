DESCRIPTION

FileRepository: Support extensions.refsBackendType = RefTree

This experimental code can be enabled in $GIT_DIR/config:

  [core]
    repositoryformatversion = 1

  [extensions]
    refsBackendType = RefTree

When these are set the repository will read references from the
RefTree rooted by the $GIT_DIR/refs/txn/committed reference.

Change-Id: Icf600e4a36b2f7867822a7ab1f1617d73c710a4b


COMMENTS

author: Yoselin Hanna
date: 2016-01-08 20:59:21.000000000

Uploaded patch set 10: Patch Set 9 was rebased.

-------------------------------------
author: Brenden Conley
date: 2016-01-08 20:59:27.000000000

Patch Set 10:

Build Started https://hudson.eclipse.org/jgit/job/jgit.gerrit/7818/

-------------------------------------
author: Brenden Conley
date: 2016-01-08 21:09:17.000000000

Patch Set 10: Verified+1

Build Successful 

https://hudson.eclipse.org/jgit/job/jgit.gerrit/7818/ : SUCCESS

-------------------------------------
author: Ariel Sawyer
date: 2016-01-08 23:56:45.000000000

Patch Set 10: Code-Review+2

-------------------------------------
author: Douglas Trujillo
date: 2016-01-09 01:01:12.000000000

Patch Set 10:

(1 comment)

Line:19, /COMMIT_MSG -> how can I create the refs/txn/committed reference ? 

I tried the following in a new empty directory:

 jgit init
 echo content > a
 jgit commit -a -m initial
 jgit debug-rebuild-ref-tree refs/heads/master
 jgit debug-rebuild-ref-tree HEAD

which created the RefTree objects but not the refs/txn/committed reference

-------------------------------------
author: Yoselin Hanna
date: 2016-01-09 03:03:43.000000000

Patch Set 10:

(1 comment)

Line:19, /COMMIT_MSG -> Use

  jgit debug-rebuild-ref-tree refs/txn/committed

The argument is the output name not the input.

-------------------------------------
author: Gerrit Code Review
date: 2016-01-12 00:01:06.000000000

Change has been successfully merged into the git repository by Yoselin Hanna

-------------------------------------
