DESCRIPTION

smart HTTP: Return errors inside payload

When the client is clearly making a smart HTTP request to our smart
HTTP server, return any errors like RepositoryNotFoundException or
ServiceNotEnabledException inside of the payload as a Git level ERR
message, rather than an HTTP error code.

This prevents the C Git command line client from retrying a failed
"$URL/info/refs?service=git-upload-pack" request without the smart
service URL, only to fail again with "403 Forbidden" when the dumb
as-is service has been disabled by the server configuration, or is
unavailable because the repository is not on the local filesystem.

Change-Id: I57e8756d5026e885e0ca615979bfcd729703be6c
Signed-off-by: Jaycee Hickman xxx@xxx.xxx


COMMENTS

author: Yoselin Hanna
date: 2011-04-01 21:59:51.000000000

Uploaded patch set 7.

-------------------------------------
author: Yoselin Hanna
date: 2011-04-01 22:00:00.000000000

Patch Set 7: Looks good to me, approved; Build Successful; IP review completed

No comments for several weeks, builds and passes tests, so submitting as-is.

-------------------------------------
author: Yoselin Hanna
date: 2011-04-01 22:00:01.000000000

Change has been successfully merged into the git repository.

-------------------------------------
author: Brenden Conley
date: 2011-04-01 22:01:29.000000000

Patch Set 7:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/215/ 

-------------------------------------
author: Brenden Conley
date: 2011-04-01 22:03:44.000000000

Patch Set 7:

Build Successful 
 
https://hudson.eclipse.org/sandbox/job/jgit.gerrit/215/ : SUCCESS

-------------------------------------
