DESCRIPTION

Do not extend delta chains longer than limit

When considering an object that is already used as a delta base
for other objects, limit the maximum depth it can accept to be the
remainder of the delta chain length.

Given the situation:

  R <- S <- T

  R is not a delta, and wants to delta compress;
  S and T were already chosen for reuse as-is;
  S is a delta based on R;
  T is a delta based on S.

If the configured delta depth is 4, R can only be delta compressed
against a non-delta. Compressing on a delta would cause T to exceed
the configured chain length, resulting in longer unpacking times.

Change-Id: I5989d8de1849ebb85e64d7c24d7fca373f0f86ef


COMMENTS

author: Yoselin Hanna
date: 2013-04-04 21:05:21.000000000

Uploaded patch set 3.

-------------------------------------
author: Brenden Conley
date: 2013-04-04 21:05:27.000000000

Patch Set 3:

Build Started https://hudson.eclipse.org/sandbox/job/jgit.gerrit/3291/ 

-------------------------------------
author: Brenden Conley
date: 2013-04-04 21:10:18.000000000

Patch Set 3: Verified

Build Successful 

https://hudson.eclipse.org/sandbox/job/jgit.gerrit/3291/ : SUCCESS

-------------------------------------
