DESCRIPTION

Method to get a 'humanish' name from a path

Change-Id: Iec0688232bd59d4626111d77633109918e8e1df3


COMMENTS

author: Yoselin Hanna
date: 2009-12-01 00:44:30.000000000

Patch Set 1: I would prefer that you didn't submit this; No score



-------------------------------------
author: Ace Duncan
date: 2009-12-01 09:32:51.000000000

Patch Set 1: No score



-------------------------------------
author: Juliet Cantu
date: 2009-12-06 15:11:56.000000000

Patch Set 1: No score; No score



-------------------------------------
author: Yoselin Hanna
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:370, org.eclipse.jgit/src/org/eclipse/jgit/transport/URIish.java -> I'd like to see a bit more detailed Javadoc of this method.  Can you list example input URIs, and their outputs?

-------------------------------------
author: Yoselin Hanna
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:373, org.eclipse.jgit/src/org/eclipse/jgit/transport/URIish.java -> Why isn't this just an instance method of URIish, calling getPath() itself internally?

Also, I wonder if "getBaseName()" or "getName()" isn't more suitable as a name for this method.  The former mirrors with the UNIX basename utility, while the latter mirrors more with java.io.File or IResource API.

-------------------------------------
author: Juliet Cantu
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:373, org.eclipse.jgit/src/org/eclipse/jgit/transport/URIish.java -> getDisplayName() seems to be a common name for getting strings suitable for UI purposes

-------------------------------------
author: Yoselin Hanna
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:373, org.eclipse.jgit/src/org/eclipse/jgit/transport/URIish.java -> OK,  I understand now why you want getHumanishName to be static and accept a string.  I still think the instance method form would also be useful because most uses of it will have a URIish instance object on hand that they want the humanish name off of.

Regarding the name of the method, I guess we can keep it getHumanishName.  After thinking about the other suggestions I gave, they are perhaps worse than getHumanishName when it comes to describing their intended result.

-------------------------------------
author: Ace Duncan
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:373, org.eclipse.jgit/src/org/eclipse/jgit/transport/URIish.java xxx@xxx.xxx method: I think there are cases when you want just a 'humanish' name from the plain string without the need to create an instance of URIish and running through the validation. May be even for an invalid URI, you are interested in a 'humanish' name only and don't care about anything else.

@method's name: what about the path of least resistance? ;-) There are three contexts when you may want a 'humanish' name: git, UNIX and java.io.File/IResource API. -1 for UNIX as it requires some specific 'knowledge' about it, +1 for Git ('humanish' is a domain-specific to Git and should be known for a developer), +1 for java.io.File/IResource API (you are trying to work with the underlying filesystem and should be familiar with domain's specifics).

-------------------------------------
author: Yoselin Hanna
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:374, org.eclipse.jgit/src/org/eclipse/jgit/transport/URIish.java -> Style-nit: curly braces aren't used when there's only one statement nested inside of the if.

-------------------------------------
author: Yoselin Hanna
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:375, org.eclipse.jgit/src/org/eclipse/jgit/transport/URIish.java -> Should we include a message like "empty path"?

-------------------------------------
author: Yoselin Hanna
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:381, org.eclipse.jgit/src/org/eclipse/jgit/transport/URIish.java -> Isn't this NON-NLS-1 tag unnecessary given that DOT_GIT is now a string constant?

-------------------------------------
author: Yoselin Hanna
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:386, org.eclipse.jgit/src/org/eclipse/jgit/transport/URIish.java -> Yea, we probably should throw IAE if the return string would be empty here.  We do it for most of the other conditions where the input string looks too wrong to continue processing, e.g. above you throw IAE if the input string was "".

-------------------------------------
author: Ace Duncan
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:386, org.eclipse.jgit/src/org/eclipse/jgit/transport/URIish.java -> I think we should never return an empty 'humanish' name. Would it be reasonable to throw an IllegalArgumentException when the value to return is empty?

-------------------------------------
author: Yoselin Hanna
date: 2010-03-10 05:19:08.000000000

MISMATCHED INLINE COMMENT
Line:290, org.eclipse.jgit.test/tst/org/eclipse/jgit/transport/URIishTest.java -> I think we should also test a couple more cases:

* /a/b/c.git  --> "c"
* /abc  --> "abc"
* /a/b/c  --> "c"
* /abc/.git  --> "abc"

-------------------------------------
