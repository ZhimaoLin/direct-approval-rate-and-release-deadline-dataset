DESCRIPTION

Bug 417258 - trying to make EvaluationServiceTest stable

The two tests here:
org.eclipse.ui.tests.services.EvaluationServiceTest.testTwoEvaluations
org.eclipse.ui.tests.services.EvaluationServiceTest.testBasicService 

always pass locally BUT always fail if executed in debugger OR Eclipse
window under test is not in focus. So they are depending on the active
window to be *active*, and fail if executed in the environment where the
window is not active for whatever reason (e.g. window manager which pins
other windows on top or disallows focus stealing or simply too slow
window activation code).

The patch tweaks the test timing and tries to force window to become
active, also it makes an assumption about the window state.
Unfortunately, even this assumptions do not work reliably (at least on
GTK2 and KDE) if the Eclipse window under test is manually kept NOT
active during the test.

Change-Id: Idb92efe42afe0f6840c47832711456b700b42cb0
Signed-off-by: Jayvion Booth xxx@xxx.xxx


COMMENTS

author: Jayvion Booth
date: 2016-01-05 16:05:25.000000000

Uploaded patch set 4.

-------------------------------------
author: Brenden Conley
date: 2016-01-05 16:05:34.000000000

Patch Set 4:

Build Started https://hudson.eclipse.org/platform/job/eclipse.platform.ui-Gerrit/7859/

-------------------------------------
author: Brenden Conley
date: 2016-01-05 16:09:27.000000000

Patch Set 4: Verified-1

Build Failed 

https://hudson.eclipse.org/platform/job/eclipse.platform.ui-Gerrit/7859/ : FAILURE

-------------------------------------
author: Brenden Conley
date: 2016-01-05 16:11:37.000000000

Patch Set 4: -Verified

Build Started https://hudson.eclipse.org/platform/job/eclipse.platform.ui-Gerrit/7862/

-------------------------------------
author: Brenden Conley
date: 2016-01-05 17:10:32.000000000

Patch Set 4: Verified-1

Build Failed 

https://hudson.eclipse.org/platform/job/eclipse.platform.ui-Gerrit/7862/ : FAILURE

-------------------------------------
author: Gerrit Code Review
date: 2016-01-05 21:15:18.000000000

Change has been successfully merged into the git repository by Jayvion Booth

-------------------------------------
