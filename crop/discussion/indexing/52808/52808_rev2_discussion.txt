DESCRIPTION

MB-15545 indexer: Fix connection leak in index scanner

During pipeline writer Close(), it was exiting the writer routine
without cleaning up the writer channel in case if an error occured
(force shutdown). Hence all the other units waiting on the writer
ends up in a deadlock.

Change-Id: I93c7363adc78996d54abc4d4b26dbac4cccccbe3


COMMENTS

author: Kinsley Fox
date: 2015-07-03 06:17:24.379000000

Uploaded patch set 2: Commit message was updated.

-------------------------------------
author: Leonel Abbott
date: 2015-07-03 06:21:29.709000000

Patch Set 2: Code-Review+1

-------------------------------------
author: Kinsley Fox
date: 2015-07-03 07:33:16.621000000

Patch Set 2: Verified+1 Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2015-07-03 07:33:21.000000000

Project policy requires all submissions to be a fast-forward.

Please rebase the change locally and upload again for review.

-------------------------------------
author: Kinsley Fox
date: 2015-07-03 07:34:20.362000000

Patch Set 3: Patch Set 2 was rebased

-------------------------------------
author: Tate Garrett
date: 2015-07-03 07:34:29.598000000

Change has been successfully merged into the git repository.

-------------------------------------
