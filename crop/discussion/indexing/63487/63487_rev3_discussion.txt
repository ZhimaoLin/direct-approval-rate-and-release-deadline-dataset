DESCRIPTION

MB-19426 Release queue map lock after sync worker is done

This is a RLock and should be ok to hold on to till sync worker
is done. The only case this will slow down is the rollback case or
when index for a bucket is first created/dropped, which is not that
often.

The problem by not holding onto the queue lock can be that there is a
small window in rollback when sync worker can see the old filter.

Change-Id: I3de840325d33c61601a6877b528a7fa5c124641b


COMMENTS

author: Maliyah Fischer
date: 2016-04-28 20:07:40.600000000

Uploaded patch set 3.

-------------------------------------
author: Dominique Stanton
date: 2016-04-29 01:41:08.084000000

Patch Set 3: Code-Review+1

-------------------------------------
author: Maliyah Fischer
date: 2016-04-29 02:06:28.542000000

Patch Set 3: Code-Review+2 Verified+1

-------------------------------------
author: Tate Garrett
date: 2016-04-29 02:06:36.264000000

Project policy requires all submissions to be a fast-forward.

Please rebase the change locally and upload again for review.

-------------------------------------
author: Maliyah Fischer
date: 2016-04-29 02:06:44.215000000

Patch Set 4: Patch Set 3 was rebased

-------------------------------------
author: Tate Garrett
date: 2016-04-29 02:06:54.554000000

Change has been successfully merged into the git repository by Maliyah Fischer

-------------------------------------
