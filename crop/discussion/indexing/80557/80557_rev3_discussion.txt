DESCRIPTION

MB-25098 scanner: Fail scans with ErrIndexRollback during rollback bucket state

Change-Id: I0510df9fb259b3d3bc9ade92b2321c04eb8a0f71


COMMENTS

author: Kinsley Fox
date: 2017-07-13 02:56:14.399000000

Uploaded patch set 3: Patch Set 2 was rebased.

-------------------------------------
author: Maliyah Fischer
date: 2017-07-13 05:10:09.230000000

Patch Set 3: Code-Review+1

(1 comment)

Thanks Sarath. That makes it future proof against any compiler optimization.
I have one minor comment. Otherwise its good to do.

Line:1802, secondary/indexer/scan_coordinator.go -> If we do 1802-1804 in the else clause, will it be sufficient? I mean we need new entry only if bucket has no entry in the map for the bucket. If there is an entry, we can just update it to latest value.

-------------------------------------
author: Kinsley Fox
date: 2017-07-13 08:16:30.184000000

MISMATCHED INLINE COMMENT
Line:1802, secondary/indexer/scan_coordinator.go -> Done

-------------------------------------
