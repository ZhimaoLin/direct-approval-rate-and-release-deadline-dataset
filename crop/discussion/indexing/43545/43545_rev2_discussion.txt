DESCRIPTION

storage_manager: Notify waiters only if they belong to update bucket

The storage manager was updating timestamps for all indexes belonging
to the current indexer when any of the buckets have a new timestamp for
snapshot creation. This results in updating index-timestamp
with with wrong ts for which no snapshot exist.

Fixed storage manager to only update indexes belonging to the currently
processed bucket.

Change-Id: I0300c985cb3bc20c90081923a6ea133490e03bec


COMMENTS

author: Kinsley Fox
date: 2014-11-24 07:49:10.272000000

Uploaded patch set 2.

-------------------------------------
author: Leonel Abbott
date: 2014-11-24 10:14:48.839000000

Patch Set 2: Code-Review+1

-------------------------------------
author: Kinsley Fox
date: 2014-11-24 10:55:41.956000000

Patch Set 2: Verified+1

-------------------------------------
author: Kinsley Fox
date: 2014-11-24 10:55:49.595000000

Patch Set 2: Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2014-11-24 10:55:50.109000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
author: Kinsley Fox
date: 2014-11-24 10:55:53.969000000

Patch Set 3: Patch Set 2 was rebased

-------------------------------------
