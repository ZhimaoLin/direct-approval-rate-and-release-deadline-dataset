DESCRIPTION

MB-13803 indexer: Fix a deadlock in scan coordinator

Stats handler in scan coordinator tries to send snapshot
request to the indexer executing in scan coordinator main loop.
At the same time, indexer is trying to send instance map update
to the scan coordinator and it leads to deadlock.

Scan coordinator should not execute any blocking indexer communication
in its mainloop. A worker goroutine should be spawned.

Change-Id: Iacec66470e68644a994d15b2ac71382814cd3548


COMMENTS

author: Kinsley Fox
date: 2015-03-07 04:10:08.027000000

Uploaded patch set 1.

-------------------------------------
author: Maliyah Fischer
date: 2015-03-07 04:16:52.925000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Kinsley Fox
date: 2015-03-07 04:17:15.817000000

Patch Set 1: Verified+1 Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2015-03-07 04:17:30.055000000

Change has been successfully merged into the git repository.

-------------------------------------
