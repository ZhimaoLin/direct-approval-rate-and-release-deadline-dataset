DESCRIPTION

MB-15548 indexer: Cleanup request wait queue by honoring timeout

Scan requests with stale=false will be enqueued in the
snapshot wait queue until a satisfying snapshot is created.
But, by that time the request can get timed out and its cleanup
is delayed till the satisfying snapshot is created. Also, in an event
of vbuuid change, a satifying request may never get created and the
request will stay in the queue forever.

Added cleanup based on timeout during waiter queue iterations during
new snapshot creations.

Change-Id: I224bfffcc553714c7d4dfc9d8c5ee703f0dcadf4


COMMENTS

author: Kinsley Fox
date: 2015-07-03 09:32:57.622000000

Uploaded patch set 1.

-------------------------------------
author: Maliyah Fischer
date: 2015-07-06 07:52:24.000000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Kinsley Fox
date: 2015-07-06 10:09:03.009000000

Patch Set 1: Verified+1 Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2015-07-06 10:09:08.253000000

Change has been successfully merged into the git repository.

-------------------------------------
