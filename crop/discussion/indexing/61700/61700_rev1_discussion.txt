DESCRIPTION

MB-18778 memdb: Do not try to read items from empty gclist

The BarrierSessionFlush may invoke the barrier session destructor
with an empty gclist. If the destructor sends the empty list to freeWorker,
it tries to interpret that as head node of the list. It leads to crash.
The destructor should check if the list is empty before passing it to the
freeWorker.

Change-Id: Ib973d8053403036578c9e36303d26ac9cc079875


COMMENTS

author: Kinsley Fox
date: 2016-03-18 08:58:41.846000000

Uploaded patch set 1.

-------------------------------------
author: Leonel Abbott
date: 2016-03-18 10:49:42.509000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Kinsley Fox
date: 2016-03-18 11:29:29.762000000

Patch Set 1: Verified+1 Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2016-03-18 11:29:33.794000000

Change has been successfully merged into the git repository.

-------------------------------------
