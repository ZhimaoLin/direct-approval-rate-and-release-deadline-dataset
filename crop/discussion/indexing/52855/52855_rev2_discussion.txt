DESCRIPTION

MB-15399 Fix restartTs calculation for StreamRepair

For StreamRepair, use HWT instead of LastFlushTs.
As long as there is no rollback, its safe to keep working
with the latest seqnos indexer has seen. Otherwise DCP
has to restream the mutations it has already sent.

Also fixed the bug in kv_sender where it was updating
seqno to snapshot end(legacy code).

Change-Id: Ie068c79d1b1b26e0975052bd628adb1d696211df


COMMENTS

author: Maliyah Fischer
date: 2015-07-06 14:41:47.321000000

Uploaded patch set 2: Commit message was updated.

-------------------------------------
author: Dominique Stanton
date: 2015-07-06 20:55:20.575000000

Patch Set 2: Code-Review+1

-------------------------------------
author: Tate Garrett
date: 2015-07-07 05:41:05.438000000

Change has been successfully merged into the git repository.

-------------------------------------
