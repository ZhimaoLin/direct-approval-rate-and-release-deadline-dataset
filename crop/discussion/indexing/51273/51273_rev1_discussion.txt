DESCRIPTION

MB-15068 Fix indexer crash due to invalid stats map

During index drop, stats map held by createSnapshotWorker() goroutine
go out of sync since it is executed concurrently while drop is performed.
We need to make sure that stats map passed to the worker is in sync with
index instance list passed to the createSnapshotWorker().

Change-Id: I74da60e4f0a1bec227dc0af843c9d49e33efe9f1


COMMENTS

author: Kinsley Fox
date: 2015-05-20 06:40:10.639000000

Uploaded patch set 1.

-------------------------------------
author: Dominique Stanton
date: 2015-05-20 06:47:20.318000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Kinsley Fox
date: 2015-05-20 10:27:39.040000000

Patch Set 2: Patch Set 1 was rebased

-------------------------------------
author: Tate Garrett
date: 2015-05-20 10:27:49.933000000

Change has been successfully merged into the git repository.

-------------------------------------
