DESCRIPTION

MB-20847 Fix compaction for non mutating indexes

Some indexes may not mutate with KV mutations if
the indexed field doesn't change or if its a partial
index(where clause). This will cause the main and
back kvstore seqnums to remain the same.

The check needs to be on default kvstore's seqnum as
that is guaranteed to increment with every commit.

Change-Id: I533da5d29ecc42fd3a67f4560ad27077e7ac2ab4


COMMENTS

author: Maliyah Fischer
date: 2016-09-19 17:55:08.428000000

Uploaded patch set 2: Patch Set 1 was rebased.

-------------------------------------
author: Dominique Stanton
date: 2016-09-21 20:05:06.848000000

Patch Set 2: Code-Review+1

-------------------------------------
author: Maliyah Fischer
date: 2016-09-21 20:08:06.844000000

Patch Set 3: Patch Set 2 was rebased

-------------------------------------
author: Tate Garrett
date: 2016-09-21 20:08:13.032000000

Change has been successfully merged into the git repository by Maliyah Fischer

-------------------------------------
