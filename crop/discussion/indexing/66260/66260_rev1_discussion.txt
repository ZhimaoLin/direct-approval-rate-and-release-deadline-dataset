DESCRIPTION

MB-20116 Fix race condition during pause in stream reader

stream reader needs to acquire the indexer state before it
starts to process a mutation. Otherwise it is possible that
a mutation doesn't get enqueued to the mutation queue(due to indexer
moving to paused state) but its sync message gets processed by
timekeeper and a TS gets generated. Such a TS will never complete
and keep waiting.

Change-Id: I9bc6bcf6f7220af2d28250e241451297cedba723


COMMENTS

author: Maliyah Fischer
date: 2016-07-27 19:36:02.921000000

Uploaded patch set 1.

-------------------------------------
author: Dominique Stanton
date: 2016-07-28 16:29:45.635000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Tate Garrett
date: 2016-07-29 07:33:50.406000000

Change has been successfully merged into the git repository by Maliyah Fischer

-------------------------------------
