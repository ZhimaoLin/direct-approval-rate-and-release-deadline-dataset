DESCRIPTION

MB-18121 : Update maxArrayKeyLength upon settings.max_array_seckey_size update

maxArrayKeyLength variable needs to be updated gloabally when
the indexer setting settings.max_array_seckey_size is updated.
Also forcing indexer restart upon setting update

Change-Id: I5a4129f9f46908e5ec2f44909c2a8763b9b7a958


COMMENTS

author: Alden Ashley
date: 2016-02-15 11:08:00.016000000

Uploaded patch set 1.

-------------------------------------
author: Maliyah Fischer
date: 2016-02-15 11:51:15.553000000

Patch Set 1:

(1 comment)

Line:411, secondary/indexer/memdb_slice_impl.go -> is this change part of this patch?

-------------------------------------
author: Alden Ashley
date: 2016-02-15 11:56:32.982000000

Patch Set 1:

(1 comment)

Line:411, secondary/indexer/memdb_slice_impl.go -> Yes Deep, in this particular code path, we are encoding individual item of an array and not the entire array. Hence isArray should be false here. This is to enforce right size limit (ie 4K) gets applied here.

-------------------------------------
author: Maliyah Fischer
date: 2016-02-15 11:58:57.493000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Kinsley Fox
date: 2016-02-16 03:01:22.229000000

Patch Set 1:

(1 comment)

Line:305, secondary/indexer/settings.go -> Do we still use arrayLength enforcement ?

-------------------------------------
author: Alden Ashley
date: 2016-02-16 05:18:35.357000000

Patch Set 1:

(1 comment)

Line:305, secondary/indexer/settings.go -> No Sarath. I have just kept it in case we get that feedback and it is needed at later point

-------------------------------------
author: Kinsley Fox
date: 2016-02-16 06:00:38.513000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Justice Schneider
date: 2016-02-16 06:31:12.939000000

Patch Set 1:

(1 comment)

Line:305, secondary/indexer/settings.go -> If we set it, will it do anything? If not, we should remove it.

-------------------------------------
author: Alden Ashley
date: 2016-02-16 07:29:20.471000000

Patch Set 1:

(1 comment)

Line:305, secondary/indexer/settings.go -> No.. It does nothing. It was exposed earlier as we wanted to have two limits. Will remove now.

-------------------------------------
author: Tate Garrett
date: 2016-02-16 08:38:52.368000000

Change has been successfully merged into the git repository.

-------------------------------------
