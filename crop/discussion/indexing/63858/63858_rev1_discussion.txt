DESCRIPTION

MB-19531 moi/array: Fix crash due to SMR algorithm violation

Currently, the back index update is performed after all node
deletes are done. The back index does not maintains a pointer
from crc32(docid) to node. When an update is performed, first
it needs to locate the current entry by validating the docid
from the corresponding node. Since the node is already deleted,
SMR may free it up. Hence, access to the freed node during update
will access an invalid address and crash.

Change-Id: I99aa5ad00749051d14100951c87d8dfd322bb40e


COMMENTS

author: Kinsley Fox
date: 2016-05-10 09:41:18.264000000

Uploaded patch set 1.

-------------------------------------
author: Alden Ashley
date: 2016-05-10 09:52:26.242000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Kinsley Fox
date: 2016-05-10 09:53:38.689000000

Patch Set 1: Code-Review+2 Verified+1

-------------------------------------
author: Tate Garrett
date: 2016-05-10 09:53:41.229000000

Change has been successfully merged into the git repository by Kinsley Fox

-------------------------------------
