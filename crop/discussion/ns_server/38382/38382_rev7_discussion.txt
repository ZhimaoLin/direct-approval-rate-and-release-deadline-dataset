DESCRIPTION

MB-11401: Implement service for managing ctrl token

Committing on behalf of Philip Lara.

- creates new token on memcached when it first requested
- keeps token in memory and gives it to other processes
- monitors the processes for the duration when they use
  the token and resets token if one of them crashes
- allows to reset token if the control command receives
  key_eexists caused by token mismatch

Change-Id: Iecd0c7bcf18ee006ad959dc6e976569e96d425e0


COMMENTS

author: Noe Perry
date: 2016-09-15 20:50:46.542000000

Uploaded patch set 7: Patch Set 6 was rebased.

-------------------------------------
author: Noe Perry
date: 2016-09-16 18:56:41.403000000

Patch Set 7: Verified+1

-------------------------------------
author: Meghan Vazquez
date: 2016-09-28 04:40:50.226000000

Patch Set 7:

(1 comment)

Line:105, src/ns_memcached_token.erl -> This is an exact copy of ns_memcached:perform_very_long_call.

-------------------------------------
author: Noe Perry
date: 2016-10-03 18:58:27.797000000

Patch Set 7:

(1 comment)

Line:105, src/ns_memcached_token.erl -> True ! I also found another copy of executing_on_socket in ns_memcached_sockets_pool module. Will condense all the 3 implementations into one.

-------------------------------------
