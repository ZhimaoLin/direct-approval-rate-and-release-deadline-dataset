DESCRIPTION

try not creating bucket if it's running on any cluster nodes

We'll do best effort check if ns_memcached for this bucket still
exists anywhere and refuse creating it.

Best-effort here means that we'll try to reach other nodes, but with
sane timeout and if we cannot we'll assume it's fine. It is consistent
with current behavior and don't want to change that.

It is intended to prevent issues when somebody tries to re-create
bucket too soon after it was deleted. And to protect us from any
issues in ep-engine/bucket-engine that may delay bucket deletion. See
for example http://www.couchbase.com/issues/browse/MB-4329

Change-Id: I8d66cb5dc9603b4da8ad9ca430a0cd112e2a422f


COMMENTS

author: Nathalie Landry
date: 2012-03-21 16:15:18.257000000

Uploaded patch set 3.

-------------------------------------
author: Nathalie Landry
date: 2012-03-21 16:15:37.826000000

Patch Set 3: Verified



-------------------------------------
author: Meghan Vazquez
date: 2012-03-21 20:20:36.520000000

Patch Set 3: Looks good to me, approved



-------------------------------------
author: Nathalie Landry
date: 2012-03-22 03:12:36.785000000

Patch Set 3: Abandoned

-------------------------------------
