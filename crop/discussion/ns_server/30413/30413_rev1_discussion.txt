DESCRIPTION

MB-9589: handle incomplete cluster leave

When cluster leave function fails we can end up in a state where node
remains in a limbo state forever.

New code places marker file on filesystem to indicate that leave is
happening. With that, if ns_cluster dies during leave cluster
procedure, it'll detect incomplete leave in init and complete it (or
fail while doing it).

Change-Id: I41fa757a2527de8e95cfdad95029b06216f7880b


COMMENTS

author: Nathalie Landry
date: 2013-11-20 01:03:13.079000000

Patch Set 1: Verified+1

-------------------------------------
author: Nathalie Landry
date: 2013-11-20 01:33:13.647000000

Patch Set 1:

Folks, that's a blocker bug. Some review is needed sooner rather than later

-------------------------------------
author: Meghan Vazquez
date: 2013-11-20 01:37:56.249000000

Patch Set 1: Code-Review+2

-------------------------------------
