DESCRIPTION

MB-13842 ns_audit_cfg always notify memcached if audit config changes

if ns_server_sup is restarted the memcached don't get restarted. so
ns_port_setup can be down while memcached is up. This causes
ns_audit_cfg to lose the notification about audit.json change.

we need to make sure that:
- audit.json is created when memcached process is started
- memcached always gets notification if audit config had changed

I decided that it won't harm if the memcached gets extra notification
even if it was started with the correct config. So on init ns_audit_cfg
needs to create audit.json and always notify memcached. even though
memcached process can be started slightly later by memcached_config_mgr
the notification will most likely succeed since ns_memcached:connect
does retries

Change-Id: If3554ba4debc6b47b47c66c2383ca6b340ba231e


COMMENTS

author: Philip Lara
date: 2015-04-01 22:56:44.555000000

Uploaded patch set 8: Patch Set 7 was rebased.

-------------------------------------
author: Philip Lara
date: 2015-04-01 22:57:05.378000000

Patch Set 8: Verified+1

-------------------------------------
author: Meghan Vazquez
date: 2015-04-03 00:05:57.256000000

Patch Set 8: Code-Review+2

-------------------------------------
author: Roselyn Villegas Code Review
date: 2015-04-03 00:06:14.327000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
author: Meghan Vazquez
date: 2015-04-03 00:06:18.030000000

Patch Set 9: Patch Set 8 was rebased

-------------------------------------
author: Roselyn Villegas Code Review
date: 2015-04-03 00:06:29.182000000

Change has been successfully cherry-picked as 545e7ef3dda2b0f83ca3251a10e5e6b8eece3c8f

-------------------------------------
