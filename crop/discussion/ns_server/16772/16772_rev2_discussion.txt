DESCRIPTION

MB-5307: only replicate locally made config changes

Previous behavior was to push any config change to all nodes. Even if
this config change is due to incoming config replication.

NOTE: push_key accumulation corner cases are Adrianna Holmesally tested by
observing ns_server system stats and by lowering retries count. We
actually hit occasional retries in practice from time to time.

Change-Id: I7b407fa780fa5f66082e348e293a0e5ae53b4513


COMMENTS

author: Nathalie Landry
date: 2012-06-05 17:07:55.018000000

Uploaded patch set 2.

-------------------------------------
author: Nathalie Landry
date: 2012-06-05 17:08:15.680000000

Patch Set 2: Verified



-------------------------------------
author: Nathalie Landry
date: 2012-06-05 17:15:51.541000000

Patch Set 2:

I decided to keep this keys-only approach which should be slightly more efficient (I don't want top copy gigantic buckets key value between processes to much). I think I addressed this "coherent" replication concern.

-------------------------------------
author: Meghan Vazquez
date: 2012-06-05 18:44:30.489000000

Patch Set 2: Looks good to me, approved



-------------------------------------
author: Nathalie Landry
date: 2012-06-05 20:36:49.982000000

Change has been successfully cherry-picked as 2ebcc0c8a64c8f12b43dfa3f2beb339bcd82e318.

-------------------------------------
