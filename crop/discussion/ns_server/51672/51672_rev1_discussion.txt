DESCRIPTION

MB-13181 alerts support for audit log disk space

note: the menelaus_web_alerts_srv now skips non existing directories
instead of crashing. so if for example somebody will add node to the
cluster which won't have audit log directory, alerts will still work

Change-Id: I6f0d09a46f1ab272aced3b43afa8c669a5ef0395


COMMENTS

author: Philip Lara
date: 2015-06-02 04:04:58.200000000

Uploaded patch set 1.

-------------------------------------
author: Philip Lara
date: 2015-06-02 04:05:35.667000000

Patch Set 1: Verified+1

-------------------------------------
author: Meghan Vazquez
date: 2015-06-02 19:36:00.427000000

Patch Set 1:

(3 comments)

See inline.

Line:139, src/ns_audit_cfg.erl -> There's ns_config:latest_config_marker() function now.

Line:141, src/ns_audit_cfg.erl -> Also might make sense to extend search_node_prop to do the global search if the property is missing in the per-node list.

Line:249, src/menelaus_web_alerts_srv.erl -> Why not make get_log_path just use the same return value format as this_node_dbdir and so on?

-------------------------------------
author: Philip Lara
date: 2015-06-03 01:57:25.075000000

Patch Set 1:

(3 comments)

Line:139, src/ns_audit_cfg.erl -> done

Line:141, src/ns_audit_cfg.erl -> done

Line:249, src/menelaus_web_alerts_srv.erl -> Done

-------------------------------------
author: Roselyn Villegas Code Review
date: 2015-06-06 03:46:56.266000000

Change has been successfully cherry-picked as dbba45b51f0995e79029f0426faaeee204f78252

-------------------------------------
