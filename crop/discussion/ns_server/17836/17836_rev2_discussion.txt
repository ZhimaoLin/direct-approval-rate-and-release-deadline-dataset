DESCRIPTION

MB-5734 Return random keys efficiently.

In most common case when there's a lots of documents in a bucket we'll
be using couch_db:random_doc_info function. In case there are too few
documents, old _all_docs approach will be used (but on the client's
side).

Corresponding REST call moved to
/pools/default/buckets/<bucket>/localRandomKey.

On the UI side any caching of random keys is removed since we expect
this to be fast now.

Change-Id: I1a4331e912bc2ad0e3918e56f1513ff5549e9c6e


COMMENTS

author: Meghan Vazquez
date: 2012-07-03 21:34:39.487000000

Uploaded patch set 2.

-------------------------------------
author: Meghan Vazquez
date: 2012-07-03 21:35:00.163000000

Patch Set 2: Verified



-------------------------------------
author: Nathalie Landry
date: 2012-07-03 21:38:18.327000000

Patch Set 2: Looks good to me, approved



-------------------------------------
author: Nathalie Landry
date: 2012-07-03 21:38:19.520000000

Change has been successfully cherry-picked as 1ad01a8f3e6267d3b2106ba4f7e873f0f61515ca.

-------------------------------------
