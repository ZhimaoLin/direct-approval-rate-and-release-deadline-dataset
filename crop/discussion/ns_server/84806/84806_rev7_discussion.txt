DESCRIPTION

MB-20581: Plug in the kv_stats_monitor into kv_monitor.

Along with DCP traffic & warmed bucket information, kv_monitor will also
now check for I/O errors by fetching the information from kv_stats_monitor.

Change-Id: I2bab369c7149f89d979b7d7f8d319c298985e175


COMMENTS

author: Ella Beltran
date: 2017-11-08 21:00:30.930000000

Uploaded patch set 7: Patch Set 6 was rebased.

-------------------------------------
author: Hugo Blankenship
date: 2017-11-08 21:00:40.461000000

Patch Set 7: -Well-Formed

Build Started http://cv.jenkins.couchbase.com/job/ns-server-test/672/

-------------------------------------
author: Hugo Blankenship
date: 2017-11-08 21:06:36.478000000

Patch Set 7: Well-Formed+1

Permission granted to commit to restricted branch

-------------------------------------
author: Ella Beltran
date: 2017-11-08 21:17:30.135000000

Patch Set 7: Verified+1

-------------------------------------
author: Philip Lara
date: 2017-11-10 02:10:19.177000000

Patch Set 7:

(1 comment)

Line:79, src/kv_monitor.erl -> did you mean lists:umerge? lists:merge will produce duplicates.

-------------------------------------
author: Philip Lara
date: 2017-11-10 02:19:02.904000000

Patch Set 7:

(1 comment)

Line:100, src/kv_monitor.erl -> can you break long lines into multiple lines no longer than 100 chars?

-------------------------------------
author: Philip Lara
date: 2017-11-10 02:24:56.660000000

Patch Set 7:

(2 comments)

Line:171, src/kv_stats_monitor.erl -> Don't need lists concatenation here:
[io_failed | [Err || {_, Err} <- failure_stats()]]

Line:175, src/kv_stats_monitor.erl -> same as above. might consider making it a fun

-------------------------------------
