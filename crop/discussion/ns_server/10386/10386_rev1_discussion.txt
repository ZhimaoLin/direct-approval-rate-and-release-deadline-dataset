DESCRIPTION

Update compaction daemon to work with set views

Change-Id: Ic2bf7b652a2b58c8f66a05497feb0f5d1b76e40a


COMMENTS

author: Meghan Vazquez
date: 2011-11-02 18:09:52.342000000

Patch Set 1:

This does not compact simple views. But we still use them for development views. So we need either to get rid of simple views at all or to update the daemon accordingly. Any thoughts on whether we should merge now? I saw lots of compaction daemon crashes in a log right after set views were merged in couchdb (though they are magically gone now). This change should fix those crashes.

-------------------------------------
author: Meghan Vazquez
date: 2011-11-02 18:45:34.992000000

Patch Set 1: Verified



-------------------------------------
author: Nathalie Landry
date: 2011-11-03 12:06:37.461000000

Patch Set 1:

looks good but we need ordinary views decision before merging this.

-------------------------------------
author: Nathalie Landry
date: 2011-12-08 04:16:35.037000000

Patch Set 1: Looks good to me, approved



-------------------------------------
author: Porter Oconnor
date: 2011-12-12 17:41:39.363000000

Patch Set 1:

A side note, I will have to update this one of this days. Right now the index can kill the compaction process at anytime (due to higher priority tasks) and there the daemon will receive a monitor DOWN message with a reason other than 'normal' - the daemon will think there was an error.

This is not a blocker for this btw and it's a rather small change I'll do after having the replica index support initial implementation.

-------------------------------------
author: Roselyn Villegas Code Review
date: 2011-12-15 11:31:36.751000000

Your change could not be merged due to a path conflict.

Please merge (or rebase) the change locally and upload the resolution for review.

-------------------------------------
