DESCRIPTION

MB-16159 Avoid excessive pattern matches on huge mutations.

Pattern matching breaks erlang's binary append optimization, so for each
append new binary will have to be allocated and both original binaries
copied to the new one. Which is both slow and puts a lot of pressure on
garbage collector.

Change-Id: Id31bb89cba1a3b3c163903fd4b5d89068f0d17b2
Reviewed-on: http://review.couchbase.org/55316
Tested-by: Meghan Vazquez xxx@xxx.xxx
Reviewed-by: Stephanie Potts <Ella xxx@xxx.xxx


COMMENTS

author: Roselyn Villegas Code Review
date: 2015-09-18 16:45:42.105000000

Change has been successfully cherry-picked as f39fb111ecd7c37ae760341a7079161e761a3504

-------------------------------------
