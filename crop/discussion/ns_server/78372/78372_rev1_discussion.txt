DESCRIPTION

MB-24291 Delete pidfile on graceful shutdown

move to ns_babysitter_bootstrap

Change-Id: Ic4a29d766e86634cb005eb3d48d604fd0c7ea571


COMMENTS

author: Alexander Wagner
date: 2017-05-20 00:03:24.680000000

Uploaded patch set 1.

-------------------------------------
author: Alexander Wagner
date: 2017-05-20 00:10:23.151000000

Patch Set 1:

I couldn't find a way to pass an env to bootstrap from couchbase-server.sh.in. So I had to write a bit of code to check for the presence of the pidfile in ns_bootstrap.
I'm compulsively checking for the pidfile because I'm assuming the presence of that env implies this is a system affected by this bug. Is that correct?
Also if this approach is ok would it make sense to have this inside ns_babysitter instead of ns_babysitter_bootstrap?

-------------------------------------
author: Alexander Wagner
date: 2017-05-20 01:47:20.242000000

Abandoned

-------------------------------------
author: Alexander Wagner
date: 2017-05-20 01:47:53.037000000

Patch Set 1:

forgot to squash...

-------------------------------------
