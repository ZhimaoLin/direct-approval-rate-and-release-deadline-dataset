DESCRIPTION

note that vbuckets of vbm sup child vbucket ids are sorted

We already relied on vbuckets field being sorted.
ns_vbm_sup::set_nodes_replicas in fact heavily relied on it.

This change documents this assumption and fixes ns_vbm_sup:add_replica
that did not maintain vbuckets sortedness.

Few optimizations enabled by this sortedness are also implemented.

Change-Id: Ied568933e1a1a601a8f613dc67148a717ece0ac5


COMMENTS

author: Nathalie Landry
date: 2012-01-28 02:06:02.331000000

Uploaded patch set 2.

-------------------------------------
author: Nathalie Landry
date: 2012-01-28 02:06:09.777000000

Patch Set 2: Verified



-------------------------------------
author: Meghan Vazquez
date: 2012-01-28 07:58:36.900000000

Patch Set 2: Looks good to me, approved



-------------------------------------
