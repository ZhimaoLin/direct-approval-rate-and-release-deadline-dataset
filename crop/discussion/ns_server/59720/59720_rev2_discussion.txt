DESCRIPTION

wip: rebalance for topology aware services

Change-Id: I1f8ffff2dd38a702d70cf71bb14d9ea79c055d25


COMMENTS

author: Meghan Vazquez
date: 2016-02-17 21:46:14.652000000

Uploaded patch set 2.

-------------------------------------
author: Leah Mcdaniel
date: 2016-02-18 01:21:43.305000000

Patch Set 2:

(4 comments)

Line:254, src/service_agent.erl -> This seems unnecessarily complicated. Why not just use an "after T ->" clause in the receive below in wait_for_connevtion_loop?

Line:403, src/service_agent.erl -> Maybe something is missing here, otherwise why bother checking the result if it always returns ok?

Line:408, src/service_agent.erl -> Why assert ok when cancel_task always returns ok?

Line:218, src/ns_cluster_membership.erl -> Why?

-------------------------------------
author: Meghan Vazquez
date: 2016-02-18 01:32:41.697000000

Patch Set 2:

(3 comments)

Line:254, src/service_agent.erl -> Because wait_for_connection_loop can receive messages about other json rpc connections. Just didn't want to accumulate those in the mailbox.

Line:403, src/service_agent.erl -> There can be other errors that I don't expect.

Line:218, src/ns_cluster_membership.erl -> Because [] is soon going to be [fts].

-------------------------------------
author: Roselyn Villegas Code Review
date: 2016-02-24 00:12:04.166000000

Change has been successfully cherry-picked as 79a323dc1fd0205e9d0f4bd17297654fbe4e12e8

-------------------------------------
