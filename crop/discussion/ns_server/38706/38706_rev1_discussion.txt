DESCRIPTION

MB-11182: don't fail entire cbcollect_info if cbstats is missing

Popen may raise exception of spawning child fails. In most cases we
spawn shell which usually works. So we aren't seeing it in practice.

However few programs, particularly cbstats, are spawned not via
shell. In that case lack of program would indeed cause Popen to raise
exception which in previous code caused entire cbcollect_info to fail.

We handle it now in a way similar to how shell handles it.

Change-Id: I051c830ade62b9cc5f8706feeae0d16a3875ebdc


COMMENTS

author: Nathalie Landry
date: 2014-06-23 22:25:03.745000000

Uploaded patch set 1.

-------------------------------------
author: Nathalie Landry
date: 2014-06-23 22:26:58.016000000

Patch Set 1: Verified+1

-------------------------------------
author: Meghan Vazquez
date: 2014-06-23 23:36:36.996000000

Patch Set 1:

(1 comment)

See inline.

Line:118, cbcollect_info -> "except Type as var" form is not supported in older versions of python.
Use "except Type, var".

-------------------------------------
