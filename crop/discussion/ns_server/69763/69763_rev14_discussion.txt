DESCRIPTION

MB-20346: erl: added id to rebalance progress task

Change-Id: Id147e23ae965711caba08a0c30c41f45a9ef0fb4


COMMENTS

author: Shaniya Barton
date: 2016-11-15 11:47:28.647000000

Uploaded patch set 14: Patch Set 13 was rebased.

-------------------------------------
author: Meghan Vazquez
date: 2016-11-15 18:14:15.567000000

Patch Set 14:

> if I use rebalance_status_uuid the same task will have a couple of different ids, depends on its status. How to handle a situation when the task changes status but has the same errorMessage? In that case, the errorMessage will be shown twice.

If uuid is different, it means that errorMessage corresponds to another rebalance. So it's totally fine to show the error twice.

-------------------------------------
author: Shaniya Barton
date: 2016-11-15 20:11:04.164000000

Patch Set 14:

No. If rebalance_status_uuid is different, it also can means that the task has changed the status from notRunning on running.

-------------------------------------
author: Meghan Vazquez
date: 2016-11-15 20:12:49.808000000

Patch Set 14:

And what's the problem with this?

-------------------------------------
author: Shaniya Barton
date: 2016-11-15 21:09:37.137000000

Patch Set 14:

ok, I got. Task with errorMessage will always have status notRunning. In this particular case we can use rebalance_status_uuid. However, I think that rebalance_status_uuid is not the same as rebalance_uuid and its usage might lead to bugs in future.

Do you want me to use rebalance_status_uuid?

-------------------------------------
author: Roselyn Villegas Code Review
date: 2016-12-09 20:02:24.270000000

Change has been successfully cherry-picked as d3bda0ba5e024f056a6e926d35243b75179a4a50 by Philip Lara

-------------------------------------
