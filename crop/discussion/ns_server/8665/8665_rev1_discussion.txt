DESCRIPTION

MB-4151 Fix for random 400 responses.

This was not the Firefox only issue but the general one. The core of
the problem was that menelaus_stats left unhandled gen_event_EXIT
messages in the process mailbox which would be later interpreted by
mochiweb_http as invalid messages from socket.

Change-Id: I881b8953ace07f321bbba528e478334bdb15ea93


COMMENTS

author: Meghan Vazquez
date: 2011-08-05 15:12:05.702000000

Patch Set 1: Verified



-------------------------------------
author: Nathalie Landry
date: 2011-08-08 08:36:26.456000000

Patch Set 1:

shouldn't this be moved into ns_pubsub:unsubscribe ?

-------------------------------------
author: Nathalie Landry
date: 2011-08-08 08:36:39.217000000

Patch Set 1:

otherwise great find!

-------------------------------------
author: Meghan Vazquez
date: 2011-08-08 09:30:40.083000000

Patch Set 1:

Did not do it that way since ns_heart handles this message. And since generally unsubscribe can be called by the process that differs from the one which subscribed the handler. Though probably this is very uncommon case.

-------------------------------------
author: Julianne Schultz
date: 2011-08-08 23:22:15.961000000

Patch Set 1: Verified; Looks good to me, approved



-------------------------------------
author: Julianne Schultz
date: 2011-08-08 23:22:16.777000000

Change has been successfully cherry-picked as 78cbb7ef2cda39abdb8d57e173f028845ca0c015.

-------------------------------------
