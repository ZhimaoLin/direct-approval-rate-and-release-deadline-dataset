DESCRIPTION

[MB-19395] - Address cbcollect_info failure on non data service node

Change-Id: I341c699e1415fc0057abbbc4d2d4301a00e171f2


COMMENTS

author: Kate Hughes
date: 2016-04-28 03:07:19.026000000

Uploaded patch set 1.

-------------------------------------
author: Kate Hughes
date: 2016-04-28 03:09:40.401000000

Patch Set 1: Verified+1

Verified it on standalone query/index/fts service node

-------------------------------------
author: Makenna Whitehead
date: 2016-04-28 06:32:44.022000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Ayla Reynolds
date: 2016-04-28 06:50:31.873000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Kian Santos
date: 2016-04-28 07:02:49.726000000

Patch Set 1: Code-Review-2

(1 comment)

Line:355, cbcollect_info -> I confess to not being a fan of this. I think we should either (1) test for the existence of the rows attr before dereferencing it (which seems clean) or (2) not getting the ddocs on nodes which don't have views running (which makes cbcollect_info marginally more efficient.) Catching the key error seems like we're not trying hard enough.

-------------------------------------
author: Roselyn Villegas Code Review
date: 2016-04-28 08:09:30.889000000

Change has been successfully cherry-picked as 9f5d4bf41e0787b8e63a2841550cab39b96bc93b by Kate Hughes

-------------------------------------
