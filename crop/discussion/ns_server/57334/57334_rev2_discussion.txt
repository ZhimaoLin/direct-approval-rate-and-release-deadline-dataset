DESCRIPTION

MB-16871: Do not generate cluster UUID in pools API ...

... if system not provisioned. The cluster UUID will get generated
later when system is provisioned - that is when user sets up the username
and password.

Change-Id: I8f3a554232b5de8b9b5ad1742236575142d4e126


COMMENTS

author: Ella Beltran
date: 2015-12-02 21:21:04.022000000

Uploaded patch set 2.

-------------------------------------
author: Ella Beltran
date: 2015-12-02 21:27:51.374000000

Patch Set 2:

(1 comment)

Line:902, src/menelaus_web.erl -> If returning these settings here is not causing any issues then I would like to keep this code as is.

-------------------------------------
author: Meghan Vazquez
date: 2015-12-03 00:04:06.496000000

Patch Set 2:

(2 comments)

Line:911, src/menelaus_web.erl -> You don't need this change if get_uuid returns empty binary on unprovisioned system, it seems.

Line:1011, src/menelaus_web.erl -> You don't actually need to generate uuid lazily anymore (actually there was no good reason to do this in the first place :)). How about just putting it into ns_config_default? Then this function would just check if node is provisioned, and if so, would return the value from config.

-------------------------------------
author: Ella Beltran
date: 2015-12-22 23:43:59.549000000

Patch Set 2:

Artem, 

It was in menelaus_web in one of the earlier patches.
 Aliaksey asked to move it here.

Poonam

-------------------------------------
author: Ella Beltran
date: 2015-12-23 00:36:58.548000000

Patch Set 2:

I see your point, Artem.

Would handle_settings_web_post() be a better place to add this?

-------------------------------------
author: Roselyn Villegas Code Review
date: 2016-01-04 22:00:10.860000000

Change has been successfully cherry-picked as 6d804990b837c0631ac02b1c983bc79d62405ec7

-------------------------------------
