DESCRIPTION

CBD-485 vbucket compaction via ep-engine

ns_server issues a memcached api call of CMD_COMPACT_DB
This command starts a CompactorTask in Ep-Engine and returns
without blocking.

Then ns_server listens to the new mccouch notification
indicating completion of compaction by ep-engine.

after the notification is received ns_server adjusts
the file version in couchdb

master vbucket is still compacted the old way by
couchdb compactor

Change-Id: I978a65ca8df5418dda6c6d552f47c97c4fdd1e41


COMMENTS

author: Philip Lara
date: 2014-01-20 06:51:37.891000000

Uploaded patch set 5.

-------------------------------------
author: Philip Lara
date: 2014-01-20 07:06:02.515000000

Patch Set 5: Verified-1

needs more testing

-------------------------------------
