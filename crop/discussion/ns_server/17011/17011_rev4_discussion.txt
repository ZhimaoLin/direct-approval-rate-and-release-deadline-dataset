DESCRIPTION

MB-5213: don't show ddoc publishing warning unless needed

Change-Id: I0e7731d4225df20aa621d22ad271bd5b1b47903c
[Nathalie xxx@xxx.xxx rebased & massaged commit subject]
Signed-off-by: Nathalie Landry <Nathalie xxx@xxx.xxx


COMMENTS

author: Nathalie Landry
date: 2012-06-21 14:57:19.117000000

Uploaded patch set 4.

-------------------------------------
author: Jasmin Rangel
date: 2012-06-21 14:57:21.284000000

Patch Set 4:

New patchset patch-id matches previous patchset, but commit message has changed.

-------------------------------------
author: Nathalie Landry
date: 2012-06-21 15:00:46.646000000

Patch Set 4: Looks good to me, approved

I haven't tested. Feel free to test and put +V.

I think better place to address this is in doSaveAs. It accepts overwriteConfirmed argument (which we pass as true for publishing). If it's passed as false, callback will be called with conflict argument if conflict is detected (e.g. we're trying to create ddoc that already exists).

Unfortunately as of now 409 is never returned. So we need to fix doSaveAs to do same checking as you're doing now with publishing. I.e. try to GET first.

-------------------------------------
author: Nathalie Landry
date: 2012-06-21 15:00:51.212000000

Patch Set 4: I would prefer that you didn't submit this



-------------------------------------
author: Nathalie Landry
date: 2012-06-21 15:01:24.342000000

Patch Set 4:

See other places that use doSaveAs for reference how conflicts are handled

-------------------------------------
