DESCRIPTION

Rebalancing TNG

We find a map that satisfies all constraints (number of replication
relationships among nodes, equal number of vbuckets replicated per
master/slave pair, equal number of vbuckets at each position in the
replication on each node) while attempting to minimize the number of
changes.

The new algorithm is to generate all of the replication chains we want
in the final map, then map vbuckets to those chains based on the
number of moves required to change the vbucket config from the old
chain to the new one.

Change-Id: I4709ac6f2575923816fc08173288a044aeb5d14e


COMMENTS

author: Magdalena Oconnell
date: 2011-03-28 21:58:04.485000000

Uploaded patch set 9.

-------------------------------------
author: Nathalie Landry
date: 2011-03-29 00:53:27.306000000

Patch Set 9: Verified

seems to work

-------------------------------------
