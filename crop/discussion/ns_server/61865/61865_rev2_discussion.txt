DESCRIPTION

MB-17962: don't alert on indexer RAM with forestdb storage mode

Simply add a check to only fire the alert if the storage mode is
memory optimized. I couldn't bring myself to add another binary
literal so I added an is_memory_optimized() function and defined
macros for both memory optimized and forestdb storage modes.

Change-Id: I4288630cc2adcdafa29e232588938877fed75f3d


COMMENTS

author: Kian Santos
date: 2016-03-23 05:19:58.863000000

Uploaded patch set 2.

-------------------------------------
author: Kian Santos
date: 2016-03-23 05:20:12.220000000

Patch Set 2: Verified+1

-------------------------------------
author: Meghan Vazquez
date: 2016-03-23 23:18:00.961000000

Patch Set 2:

(1 comment)

See inline.

Line:316, src/menelaus_web_alerts_srv.erl -> ns_config:get() and get_from_config are somewhat expensive. Just use index_settings_manager:get/2.

-------------------------------------
author: Roselyn Villegas Code Review
date: 2016-03-29 20:00:49.323000000

Change has been successfully cherry-picked as 4853b557aa746d1b5308699b3d64601b19fd6efb

-------------------------------------
