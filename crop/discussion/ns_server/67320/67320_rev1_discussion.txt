DESCRIPTION

MB-4114 Entering master password from the prompt

Change-Id: I581d856b42c27def14a7af60f3cb86d5a5e23716


COMMENTS

author: Philip Lara
date: 2016-09-02 16:47:04.355000000

Uploaded patch set 1.

-------------------------------------
author: Philip Lara
date: 2016-09-06 18:44:33.861000000

Patch Set 1: Verified+1

-------------------------------------
author: Meghan Vazquez
date: 2016-09-22 20:55:03.455000000

Patch Set 1:

(4 comments)

Line:42, deps/ns_babysitter/src/ns_babysitter.erl -> This breaks Ctrl-C in cluster_run and also couchbase_server -k.

Line:47, cbmaster_password -> I'd suggest a small escript script that reads the password from standard input and sends it to the server. That way you don't need to do all this dance with escaping things and parsing the result. So the python wrapper would just have to do getpass.getpass and pass it to that script.

Line:65, deps/ns_babysitter/src/encryption_service.erl -> We already assume babysitter's name in some places. So you could just do the same. Alternatively, you'd need to change at least couchbase-server.sh and couchbase-cli.

Line:119, deps/ns_babysitter/src/encryption_service.erl -> What's the point of having different cookie here? And again, you need to save it to disk.

-------------------------------------
author: Philip Lara
date: 2016-09-23 23:34:40.794000000

Patch Set 1:

(1 comment)

Line:65, deps/ns_babysitter/src/encryption_service.erl -> I would prefer to store babysitter cookie together with node name. This will allow us to test scripts on cluster_run env.

-------------------------------------
author: Philip Lara
date: 2016-09-24 00:14:08.498000000

Patch Set 1:

(1 comment)

Line:65, deps/ns_babysitter/src/encryption_service.erl -> I'll take it back. I can just add one more parameter to the script for babysitter node name.

-------------------------------------
author: Philip Lara
date: 2016-09-26 23:39:19.706000000

Patch Set 1:

(3 comments)

Line:42, deps/ns_babysitter/src/ns_babysitter.erl -> Done

Line:47, cbmaster_password -> Not sure if this in fact simpler, but I'll think about it.

Line:119, deps/ns_babysitter/src/encryption_service.erl -> Done

-------------------------------------
author: Roselyn Villegas Code Review
date: 2016-10-12 17:47:16.110000000

Change has been successfully cherry-picked as 34a1ff99fb5ece01b44d2c3945ddc90adcef7951 by Meghan Vazquez

-------------------------------------
