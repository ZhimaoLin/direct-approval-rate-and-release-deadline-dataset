DESCRIPTION

return non xdcr portion of internalSettings if there's no

...permission to retrieve xdcr settings

Change-Id: Ie80d52d85a7af73510814884b11623d12de7aebe


COMMENTS

author: Philip Lara
date: 2016-03-18 01:01:40.775000000

Uploaded patch set 2: Patch Set 1 was rebased.

-------------------------------------
author: Philip Lara
date: 2016-03-18 01:05:30.747000000

Patch Set 2: Verified+1

-------------------------------------
author: Meghan Vazquez
date: 2016-03-18 19:40:31.594000000

Patch Set 2:

The changes look fine (though I only scanned the last one in the chain). But it seems like too much complexity for such a corner case. To me it seems that internalSettings are special enough to say that one has to be a full admin to access those. It's a shame that it kind of became a public api. Thoughts?

-------------------------------------
author: Philip Lara
date: 2016-03-18 19:53:32.448000000

Patch Set 2:

I don't know. It's a pm decision really. But I can imagine that replication_administrator might want to have access to xdcr settings.

To avoid complexity I would prefer to split xdcr settings to separate api. Especially considering that we might support settings for other services as well in the future. Though I don't know what the impact of breaking backwards compat might be.

-------------------------------------
author: Meghan Vazquez
date: 2016-03-18 19:55:16.818000000

Patch Set 2:

I believe we have a pretty strong case that we're free to break an API that even in its name states that it's internal.

-------------------------------------
author: Philip Lara
date: 2016-03-18 20:02:37.263000000

Patch Set 2:

ok. I;ll file a ticket and discuss it with Dave next week, because it'll require some UI work as well. It it will get targeted to spock, we can submit my current commits for watson, and I'll remove all the complexity in spock.

-------------------------------------
author: Philip Lara
date: 2016-03-21 23:59:28.134000000

Abandoned

-------------------------------------
