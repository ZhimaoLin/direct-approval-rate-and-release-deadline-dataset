DESCRIPTION

MB-17446: Add query_states_details

that does the same as query_states but returns also the failure
reason for the zombies.
Also change query_vbucket_states_loop to retry on warming_up and
noproc, but fail for all other non-ok results.

wait_for_memcached now returns warming_up if query_vbucket_states_loop
had received warming_up from memcached before it was killed by
the timeout.

Change-Id: Id82c8ed5df04f1efea7034e7cc85be4aee528ad3


COMMENTS

author: Leah Mcdaniel
date: 2016-03-18 19:45:53.682000000

Uploaded patch set 6: Patch Set 5 was rebased.

-------------------------------------
author: Meghan Vazquez
date: 2016-03-18 20:14:26.723000000

Patch Set 6:

(1 comment)

See minor comment inline. Otherwise looks good.

Line:170, src/Harley Martinitor_agent.erl -> I'd prefer something like 'timeout' returned in such case.

-------------------------------------
author: Leah Mcdaniel
date: 2016-03-18 20:49:45.034000000

Patch Set 6:

(1 comment)

Line:170, src/Harley Martinitor_agent.erl -> done

-------------------------------------
author: Leah Mcdaniel
date: 2016-03-18 20:49:54.957000000

Patch Set 6: Verified+1

-------------------------------------
author: Roselyn Villegas Code Review
date: 2016-03-18 21:09:20.000000000

Change has been successfully cherry-picked as 79e8c7f345281cffc94d188a22c65ee58d933f79

-------------------------------------
