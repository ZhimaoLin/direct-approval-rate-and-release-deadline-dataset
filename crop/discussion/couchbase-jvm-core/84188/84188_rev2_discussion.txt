DESCRIPTION

JCBC-1096: Explicitly handle auth errors on observe.

Motivation
----------
With Server 5.0 and RBAC it is now possible that a user only has
write access but not read access, leading to the situation where
a PersistTo or ReplicateTo might fail after correctly storing
the doc but then the user is not allowed to use the observe
command.

Modifications
-------------
This change explicitly checks for authentication errors and
supplies a helpful message, including the enhanced error
messages back to the user.

Result
------
If the user is performing an op and it now fails because
of an auth issue, the error message is now clear.

Change-Id: I252afa4dcad50078474285d13c0c38269b17f46d
Reviewed-on: http://review.couchbase.org/82623
Tested-by: Hugo Blankenship xxx@xxx.xxx
Reviewed-by: Carmen Buckley xxx@xxx.xxx
Reviewed-on: http://review.couchbase.org/84188
Tested-by: Natasha Sullivan xxx@xxx.xxx
Reviewed-by: Jovan Hinton xxx@xxx.xxx


COMMENTS

author: Natasha Sullivan
date: 2017-10-10 10:07:18.682000000

Change has been successfully cherry-picked as 9f7ed4c38debb5179a54e411397cc01bb969b324 by Natasha Sullivan

-------------------------------------
