DESCRIPTION

JVMCBC-171: Make sure nodesExt without hostname is backwards compatible.

Motivation
----------
Couchbase Server versions prior to 3.0.2 do not include the hostname
in the nodesExt config part. In 2.1.1 a regression was introduced
which expected it to be there and therefore broke backwards
compatibility.

Modifications
-------------
The code now grabs the hostname from the nodes section if it is
not available in nodesExt. A test has been added to make sure it
works properly.

Result
------
Backwards compatbible behaviour with server versions older than
3.0.2.

Change-Id: I89b3230826103fb6dc1da94d72674ff23366d22e


COMMENTS

author: Natasha Sullivan
date: 2015-03-13 15:39:58.216000000

Uploaded patch set 2.

-------------------------------------
author: Natasha Sullivan
date: 2015-03-13 15:42:06.070000000

Patch Set 2: Verified+1

-------------------------------------
author: Estrella Humphrey
date: 2015-03-13 16:07:07.972000000

Patch Set 2: Code-Review-1

(1 comment)

Line:43, src/main/java/com/couchbase/client/core/config/DefaultPortInfo.java -> typo

-------------------------------------
author: Gerrit Code Review
date: 2015-03-13 16:22:41.102000000

Change has been successfully cherry-picked as f6d5dd3f62f01a0d2ce48d5f925eefadf00c77d6

-------------------------------------
