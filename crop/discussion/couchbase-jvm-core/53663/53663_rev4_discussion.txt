DESCRIPTION

JVMCBC-226: Implement API to serialize DCP stream state

Motivation
----------
To simplify DCP state serialization, the BucketStreamAggregatorState
should call user-specified hooks each time the state updated.

Modification
------------
Define a PublishSubject where all state change events posted.

Result
------
The clients of the libraries can inject serialization code for DCP
streams.

Change-Id: I426cb355079f7deb9b129e192d3a11aba0fc84b8


COMMENTS

author: Cory Peck
date: 2015-07-24 11:12:01.487000000

Uploaded patch set 4.

-------------------------------------
author: Cory Peck
date: 2015-07-24 13:14:32.459000000

Patch Set 4: Verified+1

-------------------------------------
author: Natasha Sullivan
date: 2015-07-27 07:29:37.222000000

Patch Set 4: Code-Review-1

(2 comments)

just two minor things, then we can get it in

Line:75, src/main/java/com/couchbase/client/core/dcp/BucketStreamAggregatorState.java -> This should be Observable<BucketStreamUpdatedEvent> , since this is the consumer

Line:28, src/main/java/com/couchbase/client/core/dcp/BucketStreamStateUpdatedEvent.java -> please xxx@xxx.xxx 1.2.0

-------------------------------------
author: Natasha Sullivan
date: 2015-07-27 07:31:35.269000000

Patch Set 4:

(2 comments)

Line:36, src/main/java/com/couchbase/client/core/dcp/BucketStreamAggregatorState.java xxx@xxx.xxx + experimental annotation

Line:28, src/main/java/com/couchbase/client/core/dcp/BucketStreamStateUpdatedEvent.java -> ah and also the experimental annotations (check other classes for reference)

-------------------------------------
author: Gerrit Code Review
date: 2015-07-27 07:58:18.392000000

Change has been successfully cherry-picked as 2ec94da8032e43cc401c28a7ebccc69d2c1bcdeb

-------------------------------------
