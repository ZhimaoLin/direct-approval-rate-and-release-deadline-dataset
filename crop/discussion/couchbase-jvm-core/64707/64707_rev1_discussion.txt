DESCRIPTION

JCBC-970: DcpConnection.getCurrentState should return immediate state

Motivation
----------
Sequence number of last closed checkpoint is not suitable for the cases
where getCurrentState used. It should rather return the same values as
'high_seqno' from 'vbucket-details' STAT.

Modification
------------
Fix GetAllMutationTokensRequest(0x48) to allow to send it to specific
node in the cluster. Update implementation of getCurrentState to use
GetAllMutationTokensRequest.

Result
------
Sequence numbers returned by getCurrentState now match 'high_seqno'
from stats.

Change-Id: I215b639ebd24eddf051f15c8d0fc10fbf0bcf81e


COMMENTS

author: Cory Peck
date: 2016-06-03 08:57:48.517000000

Uploaded patch set 1.

-------------------------------------
author: Estrella Humphrey
date: 2016-06-03 09:02:21.179000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Cory Peck
date: 2016-06-03 09:10:27.093000000

Patch Set 1: Verified+1

-------------------------------------
author: Natasha Sullivan
date: 2016-06-08 15:26:14.418000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Gerrit Code Review
date: 2016-06-08 16:05:45.802000000

Change has been successfully cherry-picked as 5953dc39d0c212109d951822497ea8d6bf3a4762 by Cory Peck

-------------------------------------
