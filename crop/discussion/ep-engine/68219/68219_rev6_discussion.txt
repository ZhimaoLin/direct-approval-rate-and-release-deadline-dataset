DESCRIPTION

MB-20744: Increment reject ops for vbucket when items inserted into reject queue

In case of a failure to persist items, the items are added to the
reject queue in which the reject stats needs to be updated for
the associated vbucket.

Change-Id: I15b7ad26d8bcab5b6a437b8d172d8b914df8b683


COMMENTS

author: Bobby Buck
date: 2016-10-01 10:30:08.767000000

Uploaded patch set 6.

-------------------------------------
author: Hugo Blankenship
date: 2016-10-01 10:30:15.304000000

Patch Set 6:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/1387/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-01 10:30:15.443000000

Patch Set 6:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/51/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-01 10:30:15.579000000

Patch Set 6:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1036/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-01 10:30:15.719000000

Patch Set 6:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1214/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-01 10:39:54.362000000

Patch Set 6: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/51/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1036/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/1387/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1214/ : SUCCESS

-------------------------------------
author: Kymani Ramirez
date: 2016-10-01 16:47:32.563000000

Patch Set 6: Code-Review-1

(6 comments)

Line:6485, tests/ep_testsuite.cc -> should we use C Standard fopen?
open is marked as depreciated on win32

Line:6492, tests/ep_testsuite.cc -> use fwrite?

Line:6494, tests/ep_testsuite.cc -> instead of checking for failure - should we check for success?
i.e. checkeq(2048, write(fd, buf, sizeof(buf));

Line:6504, tests/ep_testsuite.cc -> extra white space

Line:6505, tests/ep_testsuite.cc -> use fclose?

Line:7, /COMMIT_MSG -> exceeds character limit

-------------------------------------
author: Bobby Buck
date: 2016-10-02 04:05:32.992000000

Patch Set 6:

(5 comments)

Line:6485, tests/ep_testsuite.cc -> Done

Line:6492, tests/ep_testsuite.cc -> Done

Line:6494, tests/ep_testsuite.cc -> Done

Line:6504, tests/ep_testsuite.cc -> Done

Line:6505, tests/ep_testsuite.cc -> Done

-------------------------------------
author: Bobby Buck
date: 2016-10-02 04:05:55.007000000

Patch Set 6:

(1 comment)

Line:7, /COMMIT_MSG -> Done

-------------------------------------
author: Tate Garrett
date: 2016-10-03 07:49:27.644000000

Change has been successfully cherry-picked as 1b6e4388d9d587d6b9933c131daa3ad913919f57 by Ashlee Kent

-------------------------------------
