DESCRIPTION

[Refactor]: Create a vb wrapper func around ht::unlocked_del

During rollback related callbacks after persistence we delete items from
hash table directly. It is good to call vbucket wrapper func (which could
do more stuff potentially in future), grab ht bucket lock and then call
the ht delete function.

Change-Id: I0e4917f8f877b57355061ca5b150e0be4cc2968a


COMMENTS

author: Adrianna Holmes
date: 2017-01-31 17:57:18.073000000

Uploaded patch set 5.

-------------------------------------
author: Hugo Blankenship
date: 2017-01-31 17:57:27.334000000

Patch Set 5:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3456/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-31 18:06:49.276000000

Patch Set 5:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3278/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-31 18:12:26.712000000

Patch Set 5:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2884/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-31 18:16:28.292000000

Patch Set 5:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/2103/ (4/4)

-------------------------------------
author: Ashlee Kent
date: 2017-01-31 18:18:36.093000000

Patch Set 5: Code-Review+2

-------------------------------------
author: Hugo Blankenship
date: 2017-01-31 18:45:49.725000000

Patch Set 5: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3278/ : ABORTED

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-master/3278/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/2103/ : ABORTED

AddressSanitizer issue: 928 byte(s) leaked in 24 allocation(s). ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-addresssanitizer-master/2103/ )

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-addresssanitizer-master/2103/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3456/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2884/ : SUCCESS

-------------------------------------
