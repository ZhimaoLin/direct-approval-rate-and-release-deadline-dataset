DESCRIPTION

cache FailoverTable in JSON, thread-safe pruneEntries()

FailoverTable isn't modified during normal run, but it is
saved to disk on every vbucket snapshot making the call toJSON()
very CPU intensive. caching the JSON version on change saves over
82% of CPU call made in snapshotVBuckets

Change-Id: I923180ab2bcd9cd5efe8d1e0ebf73aa6a6f1a9d3


COMMENTS

author: Ellie Kidd
date: 2014-07-21 23:43:48.910000000

Uploaded patch set 1.

-------------------------------------
author: Ellie Kidd
date: 2014-07-22 00:18:00.440000000

Patch Set 2: Patch Set 1 was rebased

-------------------------------------
