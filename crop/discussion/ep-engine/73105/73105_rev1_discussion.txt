DESCRIPTION

[Refactor]: Move VBucket::queueDirty() calls to softDeleteStoredValue()

VBucket::queueDirty() is used to queue an item onto a queue for replication
and/or persistence. This is called when an (i) existing item is updated
(ii) new item is added (iii) an item is soft deleted.

This commit moves all calls related to (iii). (i) and (ii) are handled in
a previous commit

Change-Id: I70bbb1c7bf14015b75f44f454029e4712e0a3ecc


COMMENTS

author: Adrianna Holmes
date: 2017-02-03 02:06:57.057000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2017-02-03 02:07:03.090000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3333/ (2/4)

-------------------------------------
author: Adrianna Holmes
date: 2017-02-03 02:07:54.369000000

Topic set to Ephemeral Refactor

-------------------------------------
author: Hugo Blankenship
date: 2017-02-03 02:19:01.808000000

Patch Set 1: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/2157/ : FAILURE

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-addresssanitizer-master/2157/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3514/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3333/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2939/ : SUCCESS

-------------------------------------
author: Adrianna Holmes
date: 2017-02-04 00:31:33.644000000

Patch Set 1:

WIP, not ready for review

-------------------------------------
