DESCRIPTION

MB-18661: DcpConsumer's step to be visited whenever necessary

With immediate processing of received items at the consumer,
memcached needs to be notified to visit the consumer's
step function to send buffer acknowledgement to the producer,
whenever data is processed.

Change-Id: I5c0c90a0018ce662746fce46ae68e4a5f604ca60


COMMENTS

author: Emerson Nolan
date: 2016-03-11 01:50:15.445000000

Uploaded patch set 4.

-------------------------------------
author: Hugo Blankenship
date: 2016-03-11 01:50:25.525000000

Patch Set 4:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/119/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-11 01:50:30.527000000

Patch Set 4:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/77/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-11 01:54:34.779000000

Patch Set 4:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/126/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-11 02:03:11.683000000

Patch Set 4: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/77/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/126/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/119/ : SUCCESS

-------------------------------------
author: Adrianna Holmes
date: 2016-03-15 20:50:50.668000000

Patch Set 4:

(1 comment)

Line:796, src/dcp/consumer.cc -> You can use scheduleNotificationIfNecessary() here as well

-------------------------------------
author: Emerson Nolan
date: 2016-03-15 20:53:00.781000000

Patch Set 4:

(1 comment)

Line:796, src/dcp/consumer.cc -> We're not scheduling the notification here, its done immediately.

-------------------------------------
author: Adrianna Holmes
date: 2016-03-15 21:41:46.857000000

Patch Set 4: Code-Review+1

-------------------------------------
author: Abby Duran
date: 2016-03-15 21:52:24.362000000

Patch Set 4:

(1 comment)

Line:796, src/dcp/consumer.cc -> I think we can adapt scheduleNotificationIfNecessary() by adding a bool flag 'scheduleNotification' and rename it to something like 'notifyConsumerForAck(bool scheduleNotification)'. Please put some comments in the function definition.

-------------------------------------
author: Tate Garrett
date: 2016-03-15 23:02:27.501000000

Change has been successfully cherry-picked as 3f0b967d627efa454b419c20b95f24364d68e1b5

-------------------------------------
