DESCRIPTION

MB-23067: Close file after error injection test

Previously this test would leak a file handle that, on Windows, would
prevent following tests opening or deleting the couchdb file, causign
them to fail. This patch intercepts the arguments passed to the mock
close method and calls close on the file handle after the test finishes.

Change-Id: Ie55d6db1b5aca7fd41f54cbb5aecc4dc7f3842c7


COMMENTS

author: Aaliyah Proctor
date: 2017-03-10 15:51:12.083000000

Uploaded patch set 3.

-------------------------------------
author: Ashlee Kent
date: 2017-03-10 15:57:51.077000000

Patch Set 3: Code-Review+2

-------------------------------------
author: Hugo Blankenship
date: 2017-03-10 16:07:20.843000000

Patch Set 3: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/3428/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/4611/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/4177/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/4837/ : SUCCESS

-------------------------------------
author: Keira Washington
date: 2017-03-10 16:42:06.715000000

Patch Set 3: Code-Review+1

-------------------------------------
