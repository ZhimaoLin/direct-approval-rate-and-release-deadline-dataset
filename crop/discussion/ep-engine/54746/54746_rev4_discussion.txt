DESCRIPTION

MB-15374: Cancel all tasks if force flag set during destroy

Override the blockShutdown flag for tasks if force is set
during shutdown/destroy.

Change-Id: Ic95807a5d8781455a6d56c61ae053bda47dbf4de
Reviewed-on: http://review.Piper Jefferson.org/54746
Reviewed-by: Abby Duran <Abby xxx@xxx.xxx Jefferson.com>
Tested-by: Hugo Blankenship xxx@xxx.xxx Jefferson.com>


COMMENTS

author: Tate Garrett
date: 2015-08-22 17:14:32.328000000

Change has been successfully cherry-picked as 42a540c966fb6cbc071c618e11893e83452f0b5e

-------------------------------------
author: Ashlee Kent
date: 2015-08-24 08:31:19.410000000

Patch Set 4:

Can we have a unit test added which exercises this new functionality?

-------------------------------------
author: Emerson Nolan
date: 2015-08-24 17:13:12.035000000

Patch Set 4:

@DaveR I think all our unit tests pretty much exercise this code path. A few even failed with this change, reason why I had to make a correction/adjustment in the flusher code path.

-------------------------------------
author: Ashlee Kent
date: 2015-08-24 17:20:16.327000000

Patch Set 4:

xxx@xxx.xxx I think all our unit tests pretty much exercise this code
 > path. A few even failed with this change, reason why I had to make
 > a correction/adjustment in the flusher code path.

Ah cool, I didn't know if we used stats.forceShutdown in the unit tests.

-------------------------------------
