DESCRIPTION

Add TAP latency test to ep_perfsuite

Numbers from Haswell MacbookPro, compated to baseline (no replication)
and DCP replication:

=== Latency [Baseline] - 100000 items (µs) ==========================================

                                Percentile
                  Median     95th     99th  Std Dev  Histogram of samples

Add                4.567    8.473   15.138   21.426  ▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▂█▇▆▄▂▂▁▁▁▁▁▁▁▁▁▁
Get                1.407    1.998    2.686    0.816  ▁▁▁▁▁▃█▂▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
Replace            4.561    6.623   14.086    1.825  ▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▃█▆▃▂▁▁▁▁▁▁▁▁▁▁▁
Delete             3.268    5.827   10.471    1.673  ▁▁▁▁▁▁▁▁▁▁▁▂█▆▃▂▁▂▁▁▁▁▁▁▁▁▁▁▁▁▁▁
                                                     1              µs              8

=== Latency [With background DCP] - 100000 items (µs) ===============================

                                Percentile
                  Median     95th     99th  Std Dev  Histogram of samples

Add               21.205   58.187   82.668   29.529  ▁▁▁▂▆▄▄▄▆▅█▇▆▄▄▄▃▃▃▃▃▃▃▂▂▂▂▁▂▁▁▁
Get               18.699   26.586   39.851    6.490  ▁▁▁▁▁▁▁▁▁▁▃█▃▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
Replace           21.327   56.888   82.575   17.722  ▁▁▁▁▆▄▃▃▆▄█▇▅▄▃▃▃▃▃▃▃▃▃▂▂▂▂▁▁▁▁▁
Delete            16.346   50.845   77.364   15.764  ▁▁▁▄▂▂▂▃▂█▄▂▂▁▁▁▂▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
                                                     4              µs             58

=== Latency [With background TAP] - 100000 items (µs) ===============================

                                Percentile
                  Median     95th     99th  Std Dev  Histogram of samples

Add                8.485   22.425   35.551   22.218  ▁▁▁▁▁▁▅▃▅█▅▂▂▂▃▂▂▁▁▂▃▂▁▁▁▁▁▁▁▁▁▁
Get                5.681   27.125   39.198   27.925  ▁▁█▆▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▂▂▂▂▁▁▁▁▁▁▁
Replace           10.215   28.144   40.869   12.887  ▁▁▁▁▁▁▁▅▃▆█▃▂▂▂▂▂▂▂▂▂▂▁▁▂▂▁▁▁▁▁▁
Delete             9.469   18.061   28.336    4.906  ▁▁▁▁▁▂▂▅▂▂▁▅█▃▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁▁
                                                     1              µs             28

Change-Id: Ie9d19d69c609b3fcb825219783b469a071677f01


COMMENTS

author: Ashlee Kent
date: 2015-10-27 12:42:27.487000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2015-10-27 12:42:31.126000000

Patch Set 1:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1443/

-------------------------------------
author: Hugo Blankenship
date: 2015-10-27 12:56:16.466000000

Patch Set 1: Verified+1

Build Successful 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1443/ : SUCCESS

-------------------------------------
author: Tate Garrett
date: 2015-10-28 16:57:39.115000000

Change has been successfully cherry-picked as 191fda08d638dae93f5dfcd1146340ffefae87ce

-------------------------------------
