DESCRIPTION

MB-21150: A single total for drift ahead exceptions

Report a stat that captures every time we've set a vbucket's HLC
from a peer who is ahead of the threshold of the node.

Change-Id: I7b7d73b5044afd2a4cfcc2d8ed43e9018b478f19


COMMENTS

author: Jim WNathalie Landryer
date: 2016-10-03 15:03:57.547000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2016-10-03 15:04:05.184000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/1407/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-03 15:34:20.718000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/71/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-03 15:35:06.680000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1056/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-03 15:35:56.221000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1235/ (4/4)

-------------------------------------
author: Kian Santos
date: 2016-10-04 01:28:38.844000000

Patch Set 1:

(1 comment)

Line:3709, src/ep_engine.cc -> Do replica vbuckets receive set_with_meta ops? I didn't think so - so it should be the case that this value is identically zero, right?

-------------------------------------
author: Jim WNathalie Landryer
date: 2016-10-04 15:45:10.059000000

Patch Set 1:

(1 comment)

Line:3709, src/ep_engine.cc -> That's right, only active vbuckets can receive set_with_meta but replicas receive HLC values from their active source (via DCP), so may not be zero

-------------------------------------
author: Tate Garrett
date: 2016-10-12 07:42:59.768000000

Change has been successfully cherry-picked as 3ba9f54be46e6d439608dce69b873dc5f56bf049 by Ashlee Kent

-------------------------------------
