DESCRIPTION

SQLite low-level stats.

Documentation is not included here yet, but the seek stats are
approximately how far we asked the disk head to move from the position
we last left it.  The read and write sizes are how big the chunks of
data were that we were reading and writing.  The times are the amount
of time it took us to do one of the things it says we did.

Counters:

 close:       201
 lock:        1042
 open:        207
 sector_size: 512
 truncate:    0

And timings:

 delete (406 total)
    16us - 32us   : (  0.49%)   2
    32us - 64us   : (  0.74%)   1
    64us - 128us  : ( 30.30%) 120 ##########
    128us - 256us : ( 43.60%)  54 ####
    256us - 512us : ( 54.93%)  46 ###
    512us - 1ms   : ( 87.19%) 131 ##########
    1ms - 2ms     : ( 99.75%)  51 ####
    2ms - 4ms     : (100.00%)   1
 readSeek (3710601 total)
    0 - 2         : (  0.01%)     411
    16 - 32       : (  0.01%)      89
    64 - 128      : (  0.01%)       5
    256 - 512     : (  0.07%)    2098
    512 - 1KB     : (  0.07%)      16
    1KB - 2KB     : (  9.40%)  346284 ##
    2KB - 4KB     : ( 11.27%)   69202
    4KB - 8KB     : ( 13.46%)   81508
    8KB - 16KB    : ( 14.77%)   48473
    128KB - 256KB : ( 14.94%)    6146
    256KB - 512KB : ( 15.17%)    8698
    512KB - 1MB   : ( 15.18%)     171
    1MB - 2MB     : ( 97.41%) 3051513 ########################
    2MB - 4MB     : ( 98.35%)   34781
    4MB - 8MB     : ( 98.36%)     231
    8MB - 16MB    : ( 98.37%)     456
    16MB - 32MB   : (100.00%)   60519
 readSize (3710604 total)
    8 - 16        : (  0.06%)    2187
    16 - 32       : (  0.08%)     689
    64 - 128      : (  0.08%)       5
    1KB - 2KB     : (100.00%) 3707723 #############################
 readTime (3710597 total)
    0 - 1us       : (  0.04%)    1387
    1us - 2us     : ( 79.08%) 2932976 #######################
    2us - 4us     : ( 97.87%)  697021 #####
    4us - 8us     : ( 99.57%)   63127
    8us - 16us    : ( 99.88%)   11589
    16us - 32us   : ( 99.97%)    3467
    32us - 64us   : (100.00%)     865
    64us - 128us  : (100.00%)     127
    128us - 256us : (100.00%)      13
    256us - 512us : (100.00%)      13
    512us - 1ms   : (100.00%)      12
 sync (4780 total)
    64us - 128us  : ( 29.10%) 1391 #########
    128us - 256us : ( 45.63%)  790 #####
    256us - 512us : ( 47.55%)   92
    512us - 1ms   : ( 47.87%)   15
    1ms - 2ms     : ( 49.00%)   54
    2ms - 4ms     : ( 51.84%)  136
    4ms - 8ms     : ( 90.17%) 1832 ############
    8ms - 16ms    : ( 92.07%)   91
    16ms - 32ms   : ( 94.23%)  103
    32ms - 65ms   : ( 95.96%)   83
    65ms - 131ms  : ( 97.82%)   89
    131ms - 262ms : ( 99.31%)   71
    262ms - 524ms : ( 99.90%)   28
    524ms - 1s    : (100.00%)    5
 writeSeek (14502993 total)
    4 - 8         : ( 49.99%) 7249692 ##############
    8 - 16        : ( 49.99%)     269
    16 - 32       : ( 50.00%)     954
    128 - 256     : ( 50.00%)      88
    256 - 512     : ( 50.00%)     181
    512 - 1KB     : ( 50.00%)     271
    1KB - 2KB     : ( 78.26%) 4099250 ########
    2KB - 4KB     : ( 78.27%)    1388
    4KB - 8KB     : ( 78.28%)     177
    8KB - 16KB    : ( 78.28%)     122
    16KB - 32KB   : ( 78.28%)      72
    32KB - 64KB   : ( 78.28%)     178
    64KB - 128KB  : ( 78.29%)    1202
    256KB - 512KB : ( 78.29%)      89
    512KB - 1MB   : ( 78.29%)      88
    1MB - 2MB     : ( 99.35%) 3054955 ######
    2MB - 4MB     : ( 99.59%)   34789
    4MB - 8MB     : ( 99.59%)     248
    8MB - 16MB    : ( 99.59%)      90
    16MB - 32MB   : (100.00%)   58890
 writeSize (14503006 total)
    4 - 8         : ( 49.99%) 7249969 ##############
    8 - 16        : ( 50.01%)    2456
    16 - 32       : ( 50.01%)     954
    512 - 1KB     : ( 50.03%)    2189
    1KB - 2KB     : (100.00%) 7247438 ##############
 writeTime (14502983 total)
    1us - 2us     : ( 37.00%) 5366472 ###########
    2us - 4us     : ( 89.60%) 7628245 ###############
    4us - 8us     : ( 97.53%) 1149346 ##
    8us - 16us    : ( 99.73%)  320212
    16us - 32us   : ( 99.92%)   26762
    32us - 64us   : ( 99.97%)    8117
    64us - 128us  : ( 99.99%)    2997
    128us - 256us : (100.00%)     351
    256us - 512us : (100.00%)     324
    512us - 1ms   : (100.00%)     144
    1ms - 2ms     : (100.00%)       9
    2ms - 4ms     : (100.00%)       3
    4ms - 8ms     : (100.00%)       1

Change-Id: Ia8135bb810f242575c9498b559cc1e40906279cd


COMMENTS

author: Asher Vang
date: 2012-02-16 09:09:21.324000000

Patch Set 1: Fails

(1 inline comment)

"sqlite-kvstore/sqlite-strategies.cc", line 77: Error, wbadinit: Using void(*)(int,void*) to initialize extern "C" void(*)(int,void*).
"sqlite-kvstore/sqlite-strategies.cc", line 78: Error, wbadinit: Using void(*)(int,void*) to initialize extern "C" void(*)(int,void*).
"sqlite-kvstore/sqlite-strategies.cc", line 79: Error, wbadinit: Using void(*)(int,void*) to initialize extern "C" void(*)(int,void*).
"sqlite-kvstore/sqlite-strategies.cc", line 80: Error, wbadinit: Using void(*)(int,void*) to initialize extern "C" void(*)(int,void*).
"sqlite-kvstore/sqlite-strategies.cc", line 81: Error, wbadinit: Using void(*)(int,void*) to initialize extern "C" void(*)(int,void*).
"sqlite-kvstore/sqlite-strategies.cc", line 82: Error, wbadinit: Using void(*)(int,long long,void*) to initialize extern "C" void(*)(int,long long,void*).
"sqlite-kvstore/sqlite-strategies.cc", line 83: Error, wbadinit: Using void(*)(int,int,long long,void*) to initialize extern "C" void(*)(int,int,long long,void*).
"sqlite-kvstore/sqlite-strategies.cc", line 84: Error, wbadinit: Using void(*)(int,unsigned long,long,long long,void*) to initialize extern "C" void(*)(int,unsigned long,long,long long,void*).
"sqlite-kvstore/sqlite-strategies.cc", line 85: Error, wbadinit: Using void(*)(int,unsigned long,long,long long,void*) to initialize extern "C" void(*)(int,unsigned long,long,long long,void*).
9 Error(s) detected.

Line:82, sqlite-kvstore/sqlite-vfs.c -> Should we prepare this to work on windows as well?? (aka: look for '\'... 
btw. the coding style in this file is totally different from the rest of our code...)

-------------------------------------
