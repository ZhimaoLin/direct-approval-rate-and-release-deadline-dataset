DESCRIPTION

Revert "MB-19695: Always persist VBstate when resetting VB"

This reverts commit cb6c7141366d533874c63cb9bc0a144f9ab0347c.

While the commit does address one possible edge-case where a vBucket
file is not being recreated after resetVBucket(), it is incomplete
(the bug still occurs), and having this partial fix only complicates
the code.

Reverting the fix and solving the issue in a different way in
follow-up.

Change-Id: Ia44d22a09829f65884cc807743be3a2723221833


COMMENTS

author: Ashlee Kent
date: 2016-05-23 17:08:20.070000000

Uploaded patch set 1.

-------------------------------------
author: Keira Washington
date: 2016-05-23 17:10:22.538000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Hugo Blankenship
date: 2016-05-23 19:33:32.646000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/708/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-23 19:33:33.167000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/625/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-23 19:59:34.653000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/473/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-23 20:04:42.247000000

Patch Set 1: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/708/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/625/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/473/ : SUCCESS

-------------------------------------
author: Tate Garrett
date: 2016-05-23 21:05:10.057000000

Change has been successfully cherry-picked as ff6d7a26e860b3d638586b43c9d2478ae4dc0f2b by Ashlee Kent

-------------------------------------
