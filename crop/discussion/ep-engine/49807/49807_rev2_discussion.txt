DESCRIPTION

Add 'exp_pager_enabled' configuration option

Currently the expiry pager can only be disabled by setting
exp_pager_stime to zero - as this value is special-cased to mean
"never run". However it is sometimes helpful (e.g. in unit tests) to
be able to specify an actual sleep time of zero, so the that the
expiry pager /always/ runs.

Therefore add a new option 'exp_pager_enabled' to explicitly
enable/disable the expiry pager; this then frees up the 'magic' zero
value to actually be used to set the sleep time to zero.

Change-Id: I93dd327371bdb91ef0e3a773a3bc8d2626f425ed


COMMENTS

author: Ashlee Kent
date: 2015-04-16 17:20:30.476000000

Uploaded patch set 2.

-------------------------------------
author: Hugo Blankenship
date: 2015-04-16 17:20:42.256000000

Patch Set 2:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/66/

-------------------------------------
author: Emerson Nolan
date: 2015-04-16 17:53:01.026000000

Patch Set 2:

(1 comment)

Line:3416, src/ep_engine.cc -> why was this removed?

-------------------------------------
author: Hugo Blankenship
date: 2015-04-16 19:00:24.478000000

Patch Set 2: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/66/ : FAILURE

-------------------------------------
author: Ashlee Kent
date: 2015-04-17 07:47:02.136000000

Patch Set 2:

(1 comment)

Line:3416, src/ep_engine.cc -> Because it is an unnecessary duplicate - all config options (which this is one of) are already printed by `configuration.addStats()` - around line 3022.

-------------------------------------
author: Abby Duran
date: 2015-04-17 17:56:54.571000000

Patch Set 2: Code-Review+2

-------------------------------------
author: Hugo Blankenship
date: 2015-04-20 09:29:21.277000000

Patch Set 2: -Verified

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/88/

-------------------------------------
author: Hugo Blankenship
date: 2015-04-20 09:39:53.535000000

Patch Set 2: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/88/ : FAILURE

-------------------------------------
author: Ashlee Kent
date: 2015-04-20 16:53:54.494000000

Patch Set 3: Patch Set 2 was rebased

-------------------------------------
author: Tate Garrett
date: 2015-04-20 20:56:05.857000000

Change has been successfully cherry-picked as c24a0708b44484a4d98fbbae5a4712419122a422

-------------------------------------
