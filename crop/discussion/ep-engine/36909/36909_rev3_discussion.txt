DESCRIPTION

Use spinlocks instead of conn mutex to guard UPR notifications

Similar to the way TAP does. This will decrease lock contention
since conn mutex is no longer needed here.
We now need to manipulate vbconns structure for UPR too:
add and remove connection for a stream based on vbid.

Also Refactored ConnMap/TapConnMap/UprConnMap as needed.

Change-Id: I86ac07d29f3575d334f3b7f27530dc6019adf294


COMMENTS

author: Miley Adams
date: 2014-05-19 23:35:48.462000000

Uploaded patch set 3.

-------------------------------------
author: Miley Adams
date: 2014-05-19 23:37:10.971000000

Patch Set 3: Verified+1

updated based on Mike's comment. Also rebased, retested and pass "make simple-test"

-------------------------------------
author: Kenny Maynard
date: 2014-05-20 19:04:02.526000000

Patch Set 3: Code-Review+2

-------------------------------------
