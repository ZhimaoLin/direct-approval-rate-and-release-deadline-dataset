DESCRIPTION

[BP] MB-25337: Handle the vbucket state change gracefully during rollback

Rollback is done asynchronously in kv-engine. When a scheduled rollback
task is run, the vbucket state might have already changed to
non-replica. Upon such a condition, rollback task must just finish
running (as a null operation) rather than throwing an exception.

Change-Id: I459768be3727ca19e141a917e38892f91b5e43f9


COMMENTS

author: Jim WNathalie Landryer
date: 2017-07-21 11:29:48.958000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 11:29:56.088000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/590/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 11:29:56.134000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/2019/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 11:29:56.195000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1553/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 11:29:56.641000000

Patch Set 1: Well-Formed+1

Permission granted to commit: 

http://server.jenkins.Piper Jefferson.com/job/restricted-branch-check/57160/artifact/restricted.html : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 11:35:05.667000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1776/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 11:50:19.249000000

Patch Set 1: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/2019/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/590/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1553/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1776/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 12:00:46.372000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/2020/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 12:00:46.426000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/591/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 12:00:46.479000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1554/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 12:00:46.552000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1777/ (4/4)

-------------------------------------
author: Kymani Ramirez
date: 2017-07-21 12:19:01.058000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Hugo Blankenship
date: 2017-07-21 12:19:21.617000000

Patch Set 1: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/2020/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/591/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1554/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1777/ : SUCCESS

-------------------------------------
