DESCRIPTION

MB-11418: Do not generate access log when resident ratio is greater than 95%

When resident ratio is high, reading from access log during warmup
does not give any benefits and will only slow down warmup process.
Hence, it is good not to generate access log when resident ratio is
greater than 95%

Change-Id: Iab3a87e6db4de93afbe4838f5bcf258b1c0b6722


COMMENTS

author: Adrianna Holmes
date: 2015-09-04 23:01:37.790000000

Uploaded patch set 3.

-------------------------------------
author: Hugo Blankenship
date: 2015-09-04 23:01:41.883000000

Patch Set 3:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/913/

-------------------------------------
author: Emerson Nolan
date: 2015-09-04 23:06:34.765000000

Patch Set 3: Code-Review-1

(1 comment)

Line:240, src/access_scanner.cc -> This is incorrect, it should be updated when the access scanner actually created an access log. There is a stat for that already alogTaskRuns I think.

-------------------------------------
author: Emerson Nolan
date: 2015-09-04 23:09:44.979000000

Patch Set 3:

(1 comment)

Line:574, src/ep_engine.cc -> Flush_param isn't the right place for triggering an access scanner run. Lookup how enabling/disabling persistence can be done through cbepctl.

-------------------------------------
author: Emerson Nolan
date: 2015-09-04 23:13:35.584000000

Patch Set 3:

(1 comment)

Line:204, src/access_scanner.cc -> For both active and replica.

-------------------------------------
author: Emerson Nolan
date: 2015-09-04 23:15:21.895000000

Patch Set 3:

(1 comment)

Line:574, src/ep_engine.cc -> On second thought, I'm okay with this, as you're not exposing it through cbepctl.

-------------------------------------
author: Hugo Blankenship
date: 2015-09-04 23:31:37.400000000

Patch Set 3: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/913/ : FAILURE

-------------------------------------
author: Tate Garrett
date: 2015-09-09 00:06:47.212000000

Change has been successfully cherry-picked as c040ace26c47365ceebc028ab83f6d12a5f0cd35

-------------------------------------
