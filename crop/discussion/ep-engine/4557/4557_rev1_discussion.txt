DESCRIPTION

MB-3435 Don't call size() without holding the queue lock

Change-Id: Ia6fcc3b16a6e85ef2b05e8460fbc276e23817801


COMMENTS

author: Nathalie Landry
date: 2011-02-14 20:21:16.674000000

Patch Set 1: Looks good to me, but someone else must approve

Looks ok. I'm new to this code however. And I'm wondering how this stat (ack_playback_size) is different from stat that does same few lines above: ack_log_size ?

-------------------------------------
author: Nora Conway
date: 2011-02-14 20:27:20.306000000

Patch Set 1:

builds and make test on OSX is good

-------------------------------------
author: Asher Vang
date: 2011-02-14 20:31:58.924000000

Patch Set 1:

It doesn't anymore, but it used to be something before we had implicit tap ack.. I was tempted to just remove it, but didn't want to remove a stats if someone used it for anything...

-------------------------------------
author: Noah Dean
date: 2011-02-14 20:38:09.261000000

Patch Set 1: Looks good to me, approved



-------------------------------------
author: Nora Conway
date: 2011-02-14 20:40:57.457000000

Patch Set 1: Verified



-------------------------------------
author: Nora Conway
date: 2011-02-14 20:40:57.593000000

Change has been successfully cherry-picked as ef00ee1b53708ef0c7d742c04e8f334f34461144.

-------------------------------------
