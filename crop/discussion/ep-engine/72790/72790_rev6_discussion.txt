DESCRIPTION

MB-22485: Restore datatype correctly when reading from disk

We do store the datatype as part of storing the object,
but when we read the object back in we did not pick out
the correct value (we tried to determine all over again,
which didn't account for XATTRs etc).

We do have traces of the old datatype support we had
in here, and I have my doubts that it all fit together
in the big picture. Before we allow that to be enabled
we _have_ to do a full review of the current pieces
all over again.

Change-Id: Ib73a1bc20d49f13eddfa514e4f43fd5a801c080c


COMMENTS

author: Asher Vang
date: 2017-01-27 13:17:59.582000000

Uploaded patch set 6.

-------------------------------------
author: Hugo Blankenship
date: 2017-01-27 13:18:06.564000000

Patch Set 6:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3113/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-27 13:18:06.709000000

Patch Set 6:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1946/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-27 13:18:06.861000000

Patch Set 6:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2731/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-27 13:18:07.006000000

Patch Set 6:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3278/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-27 13:27:19.461000000

Patch Set 6: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3113/ : FAILURE

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-master/3113/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2731/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1946/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3278/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2017-01-27 13:27:42.478000000

Patch Set 6: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3114/ (4/4)

-------------------------------------
author: Ashlee Kent
date: 2017-01-27 13:30:21.517000000

Patch Set 6: Code-Review+2

-------------------------------------
author: Hugo Blankenship
date: 2017-01-27 13:34:18.434000000

Patch Set 6: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3114/ : FAILURE

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-master/3114/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2731/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1946/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3278/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2017-01-27 15:11:18.168000000

Patch Set 6: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3128/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-27 15:21:11.051000000

Patch Set 6: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2731/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1946/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3278/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3128/ : SUCCESS

-------------------------------------
author: Tate Garrett
date: 2017-01-27 15:25:06.522000000

Change has been successfully cherry-picked as 110df6adb8fc0e2833b1e93ab5341dcbf1370257 by Asher Vang

-------------------------------------
