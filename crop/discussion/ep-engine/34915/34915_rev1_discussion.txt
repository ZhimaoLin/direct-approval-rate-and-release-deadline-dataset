DESCRIPTION

MB-10351: closeStream on Producer side

- closeStream to return ENGINE_ENOENT, if stream
already closed.

Change-Id: I03a38c3b4b502dcd68885e9f316bf7a8f31db1a1


COMMENTS

author: Emerson Nolan
date: 2014-03-26 00:24:58.003000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2014-03-26 02:02:41.178000000

Patch Set 1:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-300/373/

-------------------------------------
author: Kenny Maynard
date: 2014-03-26 02:15:47.009000000

Patch Set 1: Code-Review-1

(2 comments)

I think you need to check the dead state for a stream on the upr consumer too.

Line:254, src/upr-producer.cc -> If the stream exists we need to check to see if the stream is dead. If it exists and is dead we still need to return ENGINE_KEY_ENOENT.

Line:260, src/upr-producer.cc -> Let's not remove the stream since we might still want to see stats after it's closed.

-------------------------------------
author: Hugo Blankenship
date: 2014-03-26 02:27:29.126000000

Patch Set 1: Verified+1

Build Successful 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-300/373/ : SUCCESS

-------------------------------------
