DESCRIPTION

MB-16366: Interlock operations and VB state changes

Obtain read lock access on vbstate when set/del are running
as they are checking active/replica/force and running the
operation under that assumption.

Draft patch at the moment as there are other places that
might need consideration, e.g. some of the get paths
which read vbstate.

Change-Id: Icaee69520da230a9fdde6eb85365a7ddae790fd6


COMMENTS

author: Jim WNathalie Landryer
date: 2015-10-07 14:21:51.376000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2015-10-08 14:49:38.760000000

Patch Set 1:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1196/

-------------------------------------
author: Hugo Blankenship
date: 2015-10-08 15:20:37.369000000

Patch Set 1: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1196/ : FAILURE

-------------------------------------
author: Tate Garrett
date: 2015-10-09 19:51:34.920000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
author: Tate Garrett
date: 2015-10-09 20:03:08.357000000

Change has been successfully cherry-picked as 11ae199f2cd6850af7b8d546947bf27805484e3c

-------------------------------------
