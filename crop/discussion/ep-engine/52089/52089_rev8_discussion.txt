DESCRIPTION

MB-9897: Track effective memory usage of chkptMgr

stat available: "vb_xx:mem_usage"
Track memory usage of a checkpoint manager based on
items queued into its checkpoint queues.

Change-Id: I00a83cbb1ec7ef12d70adda1e495d7de1a73b9df


COMMENTS

author: Hugo Blankenship
date: 2015-06-29 09:28:50.157000000

Patch Set 8:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/321/

-------------------------------------
author: Hugo Blankenship
date: 2015-06-29 09:35:58.644000000

Patch Set 8: Verified+1

Build Successful 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/321/ : SUCCESS

-------------------------------------
author: Abby Duran
date: 2015-06-29 09:44:35.589000000

Patch Set 8: Code-Review-1

(2 comments)

Line:190, src/checkpoint.cc -> Due to the de-duplication performed below, this would cause an incorrect accounting on the memory overhead after merging checkpoints.

Line:859, src/checkpoint.cc -> Because of the de-duplication performed inside checkpoint->queueDirty, this will incur an incorrect memory accounting. In other words. you should increase or decrease the memory overhead depending on whether it is a new insertion or replacement of the existing checkpoint item.

-------------------------------------
author: Emerson Nolan
date: 2015-06-29 22:06:53.950000000

Patch Set 8:

(1 comment)

Line:859, src/checkpoint.cc -> Done

-------------------------------------
author: Tate Garrett
date: 2015-07-14 18:07:30.844000000

Change has been successfully cherry-picked as 682a088719de98a14ab70377c02ea2b6332254a0

-------------------------------------
