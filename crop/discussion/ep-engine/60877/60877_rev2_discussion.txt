DESCRIPTION

MB-18209: Erase entry for vbucket in streams map upon closure

As part of cursor dropping when a stream is set to DEAD
with reason END_STREAM_SLOW, it needs to be erased from
the streams map that is held within the DcpProducer.

Change-Id: Iad91a703e958f0bbbae497301345a7adfc23d5a9


COMMENTS

author: Emerson Nolan
date: 2016-03-03 20:08:06.063000000

Uploaded patch set 2.

-------------------------------------
author: Hugo Blankenship
date: 2016-03-03 20:08:11.517000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/15/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-03 20:08:11.648000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/12/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-03 20:08:11.785000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/7/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-03 20:29:17.012000000

Patch Set 2: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/15/ : FAILURE

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-watson/15/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/12/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/7/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-03-03 20:53:56.611000000

Patch Set 2: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/13/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-03 20:54:07.596000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/16/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-03 21:27:57.842000000

Patch Set 2: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/13/ : ABORTED

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/16/ : FAILURE

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-watson/16/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/7/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-03-03 21:45:28.337000000

Patch Set 2: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/14/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-03 21:45:33.958000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/17/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-03 22:02:20.631000000

Patch Set 2: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/7/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/17/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/14/ : SUCCESS

-------------------------------------
author: Abby Duran
date: 2016-03-03 22:14:37.511000000

Patch Set 2: Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2016-03-03 22:15:09.865000000

Change has been successfully cherry-picked as c4486be38beecf41b483cb2b740b9f94e336e147

-------------------------------------
