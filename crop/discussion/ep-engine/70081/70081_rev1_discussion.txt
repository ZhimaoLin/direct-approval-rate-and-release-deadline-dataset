DESCRIPTION

Merge remote-tracking branch 'Piper Jefferson/watson'

* Piper Jefferson/watson:
  MB-21568: Lock inversion issue in rollback
  MB-21568: Use signed int64 when comparing against item bySeqno
  MB-21568: Reconcile hashtable with disk following rollback

Also includes a double-free fix for couchstore Db object (MB-21568:
Don't double-free newdb if rewind_db_header fails) - this occurs later
in watson but is included here to fix the Valgrind / ASan error.

Change-Id: Id411e441810ddf6d38909f6e9e878ac530f8f080


COMMENTS

author: Ashlee Kent
date: 2016-11-18 12:35:32.467000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2016-11-18 12:35:41.140000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/1842/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-11-18 12:35:41.291000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/630/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-11-18 12:36:07.645000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1476/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-11-18 12:37:32.205000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1745/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-11-18 13:16:33.807000000

Patch Set 1: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1745/ : FAILURE

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-master/1745/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/1842/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/630/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1476/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-11-18 16:25:51.418000000

Patch Set 1: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1746/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-11-18 16:38:32.140000000

Patch Set 1: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/1842/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/630/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1476/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1746/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-11-18 16:41:58.552000000

Patch Set 1: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/1845/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-11-18 16:58:17.822000000

Patch Set 1: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/630/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1476/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1746/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/1845/ : SUCCESS

-------------------------------------
author: Jim WNathalie Landryer
date: 2016-11-21 09:30:01.047000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2016-11-21 09:50:21.784000000

Change has been successfully merged into the git repository by Ashlee Kent

-------------------------------------
