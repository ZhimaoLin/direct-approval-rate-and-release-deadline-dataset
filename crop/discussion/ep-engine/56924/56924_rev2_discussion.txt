DESCRIPTION

Load memOverhead atomic value before comparison

Loading the latest value of memOverhead in the memoryCondition()
function would ensure that the comparison is made against the
most accurate value.

Change-Id: I2f309e3f1141634da450ed9faa293aca3c14cf36


COMMENTS

author: Hugo Blankenship
date: 2015-11-11 22:17:39.933000000

Patch Set 2:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/770/ (2/2)

-------------------------------------
author: Hugo Blankenship
date: 2015-11-11 22:33:39.273000000

Patch Set 2: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/770/ : FAILURE

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1527/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2015-11-11 23:09:09.998000000

Patch Set 2: -Verified

Build Started http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/771/ (2/2)

-------------------------------------
author: Hugo Blankenship
date: 2015-11-11 23:21:34.811000000

Patch Set 2: Verified+1

Build Successful 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1527/ : SUCCESS

http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/771/ : SUCCESS

-------------------------------------
author: Abby Duran
date: 2015-11-11 23:43:11.461000000

Patch Set 2:

(1 comment)

Line:878, src/ep_engine.h -> My understanding is that both functions are the same except that you can specify a memory ordering in load(), which is memory_order_seq_cst by default.

-------------------------------------
author: Bobby Buck
date: 2015-11-11 23:54:59.658000000

Patch Set 2:

(1 comment)

Line:878, src/ep_engine.h -> Fair enough. I guess this change is not necessary if a total order is mandated in this case.

-------------------------------------
author: Bobby Buck
date: 2015-11-11 23:55:26.445000000

Abandoned

Unnecessary as the existing code performs the required function.

-------------------------------------
