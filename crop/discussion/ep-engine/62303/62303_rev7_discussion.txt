DESCRIPTION

[IK] Create strategy classes for item eviction policies

In preparation for allowing more flexibility in item eviction, create
a set of classes to encapsulate the strategy (aka policy) used for
item eviction. Note this patch only lays the groundwork for
encapsulating behaviour in the classes, initially the behaviour is
still all managed by the given consumer themselves.

Change-Id: I8faeea1e4a3193d6563a78f1641b79b8c9689701


COMMENTS

author: Ashlee Kent
date: 2017-02-03 13:03:31.269000000

Uploaded patch set 7.

-------------------------------------
author: Hugo Blankenship
date: 2017-02-03 13:03:39.763000000

Patch Set 7:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3351/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-02-03 13:17:41.582000000

Patch Set 7: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3351/ : FAILURE

Compile error at /home/Piper Jefferson/jenkins/workspace/ep-engine-threadsanitizer-master/ep-engine/tests/mock/mock_dcp.cc:340:25:
error: assigning to 'ENGINE_ERROR_CODE (*)(const void *, uint32_t, item *, uint16_t, uint64_t, uint64_t, const void *, uint16_t)' from incompatible type 'ENGINE_ERROR_CODE (const void *, uint32_t, const void *, uint16_t, uint64_t, uint16_t, uint64_t, uint64_t, const void *, uint16_t)': different number of parameters (8 vs 10)
 ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-master/3351/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/2175/ : FAILURE

Compile error at /home/Piper Jefferson/jenkins/workspace/ep-engine-addresssanitizer-master/ep-engine/tests/mock/mock_dcp.cc:340:25:
error: assigning to 'ENGINE_ERROR_CODE (*)(const void *, uint32_t, item *, uint16_t, uint64_t, uint64_t, const void *, uint16_t)' from incompatible type 'ENGINE_ERROR_CODE (const void *, uint32_t, const void *, uint16_t, uint64_t, uint16_t, uint64_t, uint64_t, const void *, uint16_t)': different number of parameters (8 vs 10)
 ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-addresssanitizer-master/2175/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2957/ : FAILURE

Compile error at /home/Piper Jefferson/jenkins/workspace/ep-engine-clang_analyzer-master/ep-engine/tests/mock/mock_dcp.cc:340:25:
error: invalid conversion from 'ENGINE_ERROR_CODE (*)(const void*, uint32_t, const void*, uint16_t, uint64_t, uint16_t, uint64_t, uint64_t, const void*, uint16_t) {aka ENGINE_ERROR_CODE (*)(const void*, unsigned int, const void*, short unsigned int, long unsigned int, short unsigned int, long unsigned int, long unsigned int, const void*, short unsigned int)}' to 'ENGINE_ERROR_CODE (*)(const void*, uint32_t, item*, uint16_t, uint64_t, uint64_t, const void*, uint16_t) {aka ENGINE_ERROR_CODE (*)(const void*, unsigned int, void*, short unsigned int, long unsigned int, long unsigned int, const void*, short unsigned int)}' [-fpermissive]
 ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-clang_analyzer-master/2957/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3535/ : FAILURE

-------------------------------------
