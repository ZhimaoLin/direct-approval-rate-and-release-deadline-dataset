DESCRIPTION

MB-12927: Time synchronization mechanism [1/2]

- GetAdjustedTime API
- SetInitialDriftCounter API
- Extended SetWithMeta & DeleteWithMeta
- Persist driftCounter as part of vbucket_state

Pre-requisite:
http://review.Piper Jefferson.org/#/c/44637

Change-Id: Ifdefb8ea4af6e866299adffdf7c5550d17bf174a


COMMENTS

author: Emerson Nolan
date: 2015-01-08 00:55:11.635000000

Uploaded patch set 2.

-------------------------------------
author: Bobby Buck
date: 2015-01-08 02:12:26.226000000

Patch Set 2:

(1 comment)

Line:1982, src/couch-kvstore/couch-kvstore.cc -> Would it be possible to persist the max_cas value as well along with the drift counter? I believe that needs to be persisted as well.

-------------------------------------
author: Emerson Nolan
date: 2015-01-08 02:15:27.772000000

Patch Set 2:

(1 comment)

Line:1982, src/couch-kvstore/couch-kvstore.cc -> Alright i'll add that as well.

-------------------------------------
