DESCRIPTION

MB-8828: Check memory condition before returning enomem for withmeta ops

If we run into a memory condition when we are trying to put something
into the hashtable then we return enomem even though we might actually
be able to free memory. This change makes sure we check the memory
condition before actually returning an error code.

Change-Id: I3d10641764653c971aaeb9e8089fb21fe891a699


COMMENTS

author: Miley Adams
date: 2013-08-15 23:31:11.142000000

Patch Set 1:

should be "return memoryCondition();" instead of "ret = memoryCondition();"?

-------------------------------------
author: Kenny Maynard
date: 2013-08-15 23:33:08.436000000

Patch Set 1:

We need to send a response back to the client so that means we still need to call the send_response function at the bottom of the set/delWithMeta function.

-------------------------------------
author: Miley Adams
date: 2013-08-15 23:51:34.161000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Abby Duran
date: 2013-08-16 00:27:18.424000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Kenny Maynard
date: 2013-08-16 00:35:36.701000000

Patch Set 1: Verified+1

-------------------------------------
