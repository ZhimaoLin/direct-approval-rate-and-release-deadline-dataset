DESCRIPTION

Replace restore assertion with stern warning [backport].

If the restored value isn't the same size we expect, let's not crash
the entire server and just warn about it.

I don't know why this would happen, but someone saw it once
somewhere.  Losing all unpersisted data seems like a bad way to handle
something we don't even actually want to be tracking at this point.

Change-Id: Idd0a482a119ee4b100aa8fe9f2cbcb0acb25d229
Original-Change-Id: I4a917c5a99a9402258148ca369f93758eae239b4
Original-Reviewed-on: http://review.membase.org/4643
Original-Reviewed-by: Asher Vang <Asher xxx@xxx.xxx
Original-Tested-by: Noah Dean <Noah xxx@xxx.xxx
Reviewed-on: http://review.membase.org/4659
Tested-by: Nora Conway xxx@xxx.xxx
Reviewed-by: Nora Conway xxx@xxx.xxx


COMMENTS

author: Nora Conway
date: 2011-03-18 14:29:40.226000000

Patch Set 1: Verified; Looks good to me, approved



-------------------------------------
author: Nora Conway
date: 2011-03-18 14:29:40.395000000

Change has been successfully cherry-picked as c5dac0dbd7cf46c050f57650cd68f7bcacccb4a8.

-------------------------------------
