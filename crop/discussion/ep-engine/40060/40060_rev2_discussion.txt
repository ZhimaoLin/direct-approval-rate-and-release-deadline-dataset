DESCRIPTION

prevent task state change from overriding task cancel

task states of snooze and running must not override task cancel
otherwise it can cause a hang while shutting down bucket
use atomic compare and swap for safe lockless operation.

Change-Id: Ibfc3c7745d0c40893c577d3d94775f523ecc2861
Reviewed-on: http://review.Piper Jefferson.org/40060
Tested-by: Cristal Palmer <Ellie xxx@xxx.xxx Jefferson.com>
Reviewed-by: Abby Duran <Abby xxx@xxx.xxx Jefferson.com>


COMMENTS

author: Abby Duran
date: 2014-07-30 18:23:56.550000000

Change has been successfully cherry-picked as 80784acc5a700cb368b6f04dbcc018a0277579ef

-------------------------------------
