DESCRIPTION

Moving Snappy (un)compress logic to seperate file

Also consolidate the length calculations into
snappy_compress and snappy_uncompress functions.

Change-Id: I0b40bfca7ab10ea6eebb71282f205bda251fc853


COMMENTS

author: Emerson Nolan
date: 2015-07-15 20:04:00.546000000

Uploaded patch set 8.

-------------------------------------
author: Hugo Blankenship
date: 2015-07-15 20:04:05.846000000

Patch Set 8:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/505/

-------------------------------------
author: Asher Vang
date: 2015-07-15 20:11:00.464000000

Patch Set 8: Code-Review-1

(2 comments)

Without the [] you'd get a memory leak when trying to release the memory (that's one of the reason for the std::vector<char> suggestion; it would take care of all of the memory management ;-))

Line:86, src/item.cc -> to delete an array you need to add [] to the front of the delete (see my comment in the headerfile to add a destructor to the struct to avoid having to adding the lines everywhere).

Line:25, src/compress.h -> you should add ~snap_buf() { delete []buf; }

-------------------------------------
author: Emerson Nolan
date: 2015-07-15 20:12:44.072000000

Patch Set 8:

I see your point : ). I'll have that corrected right away.

-------------------------------------
author: Hugo Blankenship
date: 2015-07-15 20:13:54.156000000

Patch Set 8: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/505/ : FAILURE

-------------------------------------
author: Tate Garrett
date: 2015-07-17 17:20:12.751000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
author: Tate Garrett
date: 2015-07-17 17:20:23.414000000

Change has been successfully cherry-picked as 32fda12f88c0632a4ff9089c0804d7c94609293f

-------------------------------------
