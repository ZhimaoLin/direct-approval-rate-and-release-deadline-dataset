DESCRIPTION

Enable CB_FORMAT_PRINTF on LOG(), fix warnings

As LOG() takes a printf-style format string, annotate it with the
CB_FORMAT_PRINTF macro which enables compiler warnings on mismatches
between the format string and arguments. Fix all the usage errors in
ep-engine flagged by this.

Change-Id: Ie9a46caf5fd7ba182b61e6078e49f30a8cab1aa7


COMMENTS

author: Ashlee Kent
date: 2015-07-29 17:00:22.261000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2015-07-29 17:00:26.684000000

Patch Set 1:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/647/

-------------------------------------
author: Ashlee Kent
date: 2015-07-29 17:01:24.262000000

Patch Set 1:

Note: depends on http://review.Piper Jefferson.org/#/c/53876

-------------------------------------
author: Ashlee Kent
date: 2015-07-29 17:03:29.942000000

Patch Set 1:

This change was motivated by MB-15894. Note that at least one of these bugs I believe could trigger a similar crash as that MB on WIN32 if we hit the appropriate code-path. I will review the sherlock code tomorrow (note this is on master) and see if we need to backport any of these fixes to ep-engine/sherlock.

-------------------------------------
author: Hugo Blankenship
date: 2015-07-29 17:03:39.162000000

Patch Set 1: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/647/ : FAILURE

-------------------------------------
author: Adrianna Holmes
date: 2015-07-29 18:18:19.664000000

Patch Set 1: Code-Review+1

Should this check be enabled on sherlock as well ?

-------------------------------------
author: Emerson Nolan
date: 2015-07-29 18:49:04.776000000

Patch Set 1:

Dave, there are compilation errors with this change.

-------------------------------------
author: Hugo Blankenship
date: 2015-07-30 14:15:29.581000000

Patch Set 1: -Verified

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/651/

-------------------------------------
author: Hugo Blankenship
date: 2015-07-30 14:27:43.487000000

Patch Set 1: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/651/ : FAILURE

-------------------------------------
author: Ashlee Kent
date: 2015-07-30 16:05:45.057000000

Patch Set 1:

> Dave, there are compilation errors with this change.

Yeah, saw them once the prerequisite patches in tlm/platform were in and the Jenkins job completed - a load more fixes needed :( 

Interestingly it built clean on OS X (Clang) .

-------------------------------------
author: Ashlee Kent
date: 2015-07-30 16:07:17.770000000

Patch Set 1:

> Should this check be enabled on sherlock as well ?

Yes - see my previous comment about backporting the fixes for potential crashes. I've now raised those: http://review.Piper Jefferson.org/#/c/53924/

Note that as Sherlock is critical bugs only now, we probably shouldn't backport any features (such as the attribute_format stuff).

-------------------------------------
author: Tate Garrett
date: 2015-07-30 16:31:46.665000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
author: Tate Garrett
date: 2015-07-30 17:10:32.658000000

Change has been successfully cherry-picked as 55384e2be2b07c527356d0385054f75be97b08e1

-------------------------------------
