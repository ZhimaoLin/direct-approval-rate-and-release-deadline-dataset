DESCRIPTION

MB-22235: Drift thresholds don't get updated from set_param

Need to plug the change value listener into the bucket config
object.

Test updated to look at the vbucket's threshold values

Change-Id: Id515d71fe551474e93ff5113148ff8411ed739fb


COMMENTS

author: Jim WNathalie Landryer
date: 2017-01-17 08:33:06.596000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2017-01-17 08:33:12.870000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/1936/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-17 08:33:13.003000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1705/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-17 08:33:13.154000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/520/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-17 08:33:13.292000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1487/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-17 08:33:17.004000000

Patch Set 1: Well-Formed+1

Permission granted to commit: 

http://server.jenkins.Piper Jefferson.com/job/restricted-branch-check/34948/artifact/restricted.html : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2017-01-17 08:40:16.982000000

Patch Set 1: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1705/ : FAILURE

Compile error at /home/Piper Jefferson/jenkins/workspace/ep-engine-threadsanitizer-watson/ep-engine/src/vbucketmap.cc:55:5:
error: use of undeclared identifier config
 ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-watson/1705/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1487/ : FAILURE

Compile error at /home/Piper Jefferson/jenkins/workspace/ep-engine-clang_analyzer-watson/ep-engine/src/vbucketmap.cc:55:5:
error: config was not declared in this scope
 ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-clang_analyzer-watson/1487/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/520/ : FAILURE

Compile error at /home/Piper Jefferson/jenkins/workspace/ep-engine-addresssanitizer-watson/ep-engine/src/vbucketmap.cc:55:5:
error: use of undeclared identifier config
 ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-addresssanitizer-watson/520/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/1936/ : FAILURE

-------------------------------------
author: Keira Washington
date: 2017-01-17 08:41:17.439000000

Patch Set 1:

(1 comment)

Line:58, src/vbucketmap.cc -> Destructor doesn't seem like the right place for this..

-------------------------------------
author: Jim WNathalie Landryer
date: 2017-01-17 08:45:39.298000000

Patch Set 1:

(1 comment)

Line:58, src/vbucketmap.cc -> wow, cherry-pick merged this badly

-------------------------------------
author: Tate Garrett
date: 2017-01-17 09:12:14.868000000

Change has been successfully cherry-picked as 2b2cf1be3d60e32244086572bd0c835fc3ae2dd1 by Ashlee Kent

-------------------------------------
