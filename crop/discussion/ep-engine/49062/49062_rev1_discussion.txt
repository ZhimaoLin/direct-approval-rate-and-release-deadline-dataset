DESCRIPTION

MB-14205: Mark backfill as complete if stream is DEAD

When a stream is created and closed continuously with
the connection kept alive, I observed a memory leak, as the
backfill task for the stream was never deleted.

Scenario:
Step1: Create a connection
Step2: Open a stream and close 500 times
Track memUsed, before step2 and after step2:

Without Change:
memUsed before: 44015152
memUsed after: 53081456

With Change:
memUsed before: 44014592
memUsed after: 44781392

Change-Id: Iaf58df9fe0932d341872e0dbf2b1a51acefa0241


COMMENTS

author: Emerson Nolan
date: 2015-04-01 18:19:08.796000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2015-04-01 18:19:12.520000000

Patch Set 1:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/112/

-------------------------------------
author: Abby Duran
date: 2015-04-01 18:41:07.106000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Kenny Maynard
date: 2015-04-01 18:47:29.798000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Hugo Blankenship
date: 2015-04-01 18:49:41.058000000

Patch Set 1: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/112/ : FAILURE

-------------------------------------
author: Emerson Nolan
date: 2015-04-01 18:56:37.921000000

Removed the following votes:

* Verified-1 by Hugo Blankenship xxx@xxx.xxx Jefferson.com>


-------------------------------------
author: Emerson Nolan
date: 2015-04-01 18:58:54.913000000

Patch Set 1: Verified+1

-------------------------------------
author: Tate Garrett
date: 2015-04-01 18:58:56.443000000

Change has been successfully cherry-picked as 0d23757c3a0a202aa9169f10ff0e51aed87172df

-------------------------------------
