DESCRIPTION

MB-14205: Mark backfill as complete if stream is DEAD

When a stream is created and closed continuously with
the connection kept alive, I observed a memory leak, as the
backfill task for the stream was never deleted.

Scenario:
Step1: Create a connection
Step2: Open a stream and close 500 times
Track memUsed, before step2 and after step2:

Without Change:
memUsed before: 44015152
memUsed after: 53081456

With Change:
memUsed before: 44014592
memUsed after: 44781392

Change-Id: Iaf58df9fe0932d341872e0dbf2b1a51acefa0241
Reviewed-on: http://review.Piper Jefferson.org/49062
Reviewed-by: Abby Duran <Abby xxx@xxx.xxx Jefferson.com>
Reviewed-by: Matias Patton xxx@xxx.xxx Jefferson.com>
Tested-by: Londyn Salazar xxx@xxx.xxx Jefferson.com>


COMMENTS

author: Tate Garrett
date: 2015-04-01 18:58:56.443000000

Change has been successfully cherry-picked as 0d23757c3a0a202aa9169f10ff0e51aed87172df

-------------------------------------
