DESCRIPTION

MB-22018: Allowing varargs in cbstats commands

We used to use func.func_code.co_argcount to (sneakily) check the number
of arguments a function took, to allow us to print a nice exception
rather than simply attempting to call it and exiting from a TypeError.

Moving to using the `inspect` module, and checking if varargs are
accepted - allowing any number of arguments if so.

This may be used going forwards to delegate parsing of additional
options to a given command. This could be done currently but wouldn't be
very clean.

Change-Id: I8100f3e49c6b6143617493d267497c4b1ed6397b


COMMENTS

author: Jace Townsend
date: 2017-03-20 12:11:45.581000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2017-03-20 12:15:27.705000000

Patch Set 1: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/3722/ : ABORTED

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/4910/ : ABORTED

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/4466/ : ABORTED

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/5139/ : ABORTED

-------------------------------------
