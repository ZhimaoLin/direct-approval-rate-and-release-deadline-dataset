DESCRIPTION

Provide options for persisting vbucket_state changes

There are cases where vbucket_state changes need to be
persisted and committed to disk like state changes and
in some cases such level of durability is not needed.
Hence provide options to provide more flexibility.

Change-Id: I9f7da095fe1f6462cacd638a4320942e8dcae929


COMMENTS

author: Bobby Buck
date: 2016-03-23 04:53:27.447000000

Uploaded patch set 19.

-------------------------------------
author: Hugo Blankenship
date: 2016-03-23 04:53:37.751000000

Patch Set 19:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/347/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-23 04:53:42.760000000

Patch Set 19:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/268/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-23 05:00:52.487000000

Patch Set 19:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/302/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-23 05:08:21.545000000

Patch Set 19: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/347/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/268/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/302/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-03-23 05:10:18.156000000

Patch Set 19: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/348/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-23 05:23:19.902000000

Patch Set 19: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/348/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/268/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/302/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-03-23 06:30:11.418000000

Patch Set 19: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/349/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-23 06:37:00.189000000

Patch Set 19: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/268/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/302/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/349/ : SUCCESS

-------------------------------------
author: Abby Duran
date: 2016-03-23 17:52:33.296000000

Patch Set 19:

(1 comment)

Line:483, src/forest-kvstore/forest-kvstore.cc -> I think we need to decrement cachedValidVBCount here. Please correct me  if this isn't true.

-------------------------------------
author: Bobby Buck
date: 2016-03-23 18:47:58.387000000

Patch Set 19:

(1 comment)

Line:483, src/forest-kvstore/forest-kvstore.cc -> I think that is being done in line 517

-------------------------------------
author: Abby Duran
date: 2016-03-23 20:20:49.200000000

Patch Set 19: Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2016-03-23 20:20:52.716000000

Change has been successfully cherry-picked as e25cba2b6ef14dacc8254e8a02888c73d07ba2b6

-------------------------------------
