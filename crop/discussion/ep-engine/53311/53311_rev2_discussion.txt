DESCRIPTION

MB-15699: Pass right snapshot st & end when creating checkpoint in queueDirty().

When a new checkpoint is created for a replica vbucket in the queueDirty func
we should set the snapshot start and end to the values passed by the snapshot
marker.
Change-Id: I6d14bc0df57d685faaa3ee002012090a6e67c2d9


COMMENTS

author: Adrianna Holmes
date: 2015-07-17 00:54:48.590000000

Uploaded patch set 2.

-------------------------------------
author: Hugo Blankenship
date: 2015-07-17 00:54:55.891000000

Patch Set 2:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/265/

-------------------------------------
author: Abby Duran
date: 2015-07-17 01:04:14.335000000

Patch Set 2: Code-Review-1

(1 comment)

Line:845, src/checkpoint.cc -> Please change 'if-else' in an opposite way:

if (vb->getState() == vbucket_state_active) {
   ...
} else {
   ...
}

-------------------------------------
author: Hugo Blankenship
date: 2015-07-17 01:09:24.084000000

Patch Set 2: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/265/ : ABORTED

-------------------------------------
author: Tate Garrett
date: 2015-07-17 02:05:59.228000000

Change has been successfully cherry-picked as 2f25a17f8b1af2a3d8ca394e82b07de4a9115e29

-------------------------------------
