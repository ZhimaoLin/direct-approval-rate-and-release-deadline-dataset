DESCRIPTION

MB-11948: Handle GetLastError() returning 0 condition

In windows, the GetLastError() call sometimes returns 0 instead of
the returning WSAEWOULDBLOCK. Either the error gets reset before
the invocation or it could be undefined behavior.

Change-Id: Ifb8f7d576b447d090b21cc0747d068ead0597182


COMMENTS

author: Bobby Buck
date: 2014-08-23 00:02:56.226000000

Uploaded patch set 1.

-------------------------------------
author: Bobby Buck
date: 2014-08-23 00:04:04.146000000

Patch Set 1: Verified+1

Verified that this solves the persistence failures and MB-11955 as well.

-------------------------------------
author: Bobby Buck
date: 2014-08-23 00:05:28.437000000

Patch Set 2: Patch Set 1 was rebased

-------------------------------------
