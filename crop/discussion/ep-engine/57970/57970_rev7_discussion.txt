DESCRIPTION

MB-14193: Consolidate file statistics in the KV Store

- Remove KVStatsCallback and collect statistics for files
  in KVStore. The idea is to not associate file/disk
  statistics with a specific vbucket or shard, but to
  make it a property of the KV store
- Add getDbFileInfo API to get file information for the
  whole KVStore
- Retain existing vbucket-level file and data statistics
  for existing clients. This will be eventually moved
  to the underlying KV store

Change-Id: I9d2b4f71456ec5a06fda21fe0a29b2a674539044


COMMENTS

author: Bobby Buck
date: 2015-12-19 03:37:03.314000000

Uploaded patch set 7.

-------------------------------------
author: Hugo Blankenship
date: 2015-12-19 03:37:09.266000000

Patch Set 7:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1096/ (2/2)

-------------------------------------
author: Bobby Buck
date: 2015-12-19 03:38:08.763000000

Patch Set 7: Code-Review-1

I have some thread sanitizer issues that I am trying to track down. Until then hold off on reviewing this.

-------------------------------------
author: Hugo Blankenship
date: 2015-12-19 03:39:06.705000000

Patch Set 7:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1097/ (2/2)

-------------------------------------
author: Bobby Buck
date: 2015-12-19 04:06:03.310000000

Removed the following votes:

* Code-Review-1 by Bobby Buck xxx@xxx.xxx Jefferson.com>


-------------------------------------
author: Bobby Buck
date: 2015-12-19 04:06:08.219000000

Patch Set 8: Patch Set 7 was rebased

-------------------------------------
author: Hugo Blankenship
date: 2015-12-19 04:06:08.825000000

Patch Set 7: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1836/ : ABORTED

http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1097/ : SUCCESS

-------------------------------------
author: Tate Garrett
date: 2016-03-23 03:09:55.464000000

Change has been successfully cherry-picked as 0bea5849f634224ffad73bc981074f026c162de1

-------------------------------------
