DESCRIPTION

MB-14193: Consolidate file statistics in the KV Store

- Remove KVStatsCallback and collect statistics for files
  in KVStore. The idea is to not associate file/disk
  statistics with a specific vbucket or shard, but to
  make it a property of the KV store
- Add getDbFileInfo API to get file information for the
  whole KVStore
- Retain existing vbucket-level file and data statistics
  for existing clients. This will be eventually moved
  to the underlying KV store

Change-Id: I9d2b4f71456ec5a06fda21fe0a29b2a674539044


COMMENTS

author: Bobby Buck
date: 2016-03-18 23:01:27.085000000

Uploaded patch set 15.

-------------------------------------
author: Hugo Blankenship
date: 2016-03-18 23:01:34.820000000

Patch Set 15:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/346/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-18 23:01:39.820000000

Patch Set 15:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/267/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-18 23:06:59.323000000

Patch Set 15:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/301/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-18 23:15:45.091000000

Patch Set 15: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/267/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/301/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/346/ : SUCCESS

-------------------------------------
author: Bobby Buck
date: 2016-03-23 03:09:40.119000000

Patch Set 15: Code-Review+2

Given that I haven't received any comments on this and it was already given a +2, I will be merging this change. If there are any concerns regarding this, I shall address this in a separate commit.

-------------------------------------
author: Tate Garrett
date: 2016-03-23 03:09:55.464000000

Change has been successfully cherry-picked as 0bea5849f634224ffad73bc981074f026c162de1

-------------------------------------
