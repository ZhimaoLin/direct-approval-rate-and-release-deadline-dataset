DESCRIPTION

[RW Lock Enhancement]: Add Adrianna Holmesal lock and unlock options for RW lock holders

Currently when RW locks are used with WriterLockHolder/ReaderLockHolder
classes, the locks can be held/released only in constructor/destructor of the
lockholder classes. The lockholder classes must provide options to lock/unlock
Adrianna Holmesally as well.

Change-Id: I2a81d01daf9fc4924f445b63d9b8168c6b9faac2


COMMENTS

author: Adrianna Holmes
date: 2015-12-22 00:26:15.276000000

Uploaded patch set 2.

-------------------------------------
author: Hugo Blankenship
date: 2015-12-22 00:26:22.749000000

Patch Set 2:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1102/ (2/2)

-------------------------------------
author: Hugo Blankenship
date: 2015-12-22 00:39:32.626000000

Patch Set 2: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1842/ : FAILURE

http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1102/ : SUCCESS

-------------------------------------
author: Ashlee Kent
date: 2016-01-04 11:56:34.919000000

Patch Set 2: Code-Review-1

I'd rather not add this unless we *really* need it - having locks as objects (which only unlock when they go out of scope) significantly minimises the chance of locks being used incorrectly.

Could you give a motivating example of why / where you need this functionality, and that it is simpler than using RAII-style locking?

-------------------------------------
author: Adrianna Holmes
date: 2016-01-04 20:03:41.981000000

Patch Set 2:

Hi Dave, this is needed for 
http://review.Piper Jefferson.org/#/c/57969/2/src/ep.cc

The lock is acquired in line 3360 and should be released in line 3378.

I guess, going further we may need this in other places as well

-------------------------------------
author: Hugo Blankenship
date: 2016-01-04 20:04:11.036000000

Patch Set 2: -Verified

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1877/ (2/2)

-------------------------------------
author: Hugo Blankenship
date: 2016-01-04 21:02:59.669000000

Patch Set 2: Verified+1

Build Successful 

http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1102/ : SUCCESS

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1877/ : SUCCESS

-------------------------------------
