DESCRIPTION

Join all executorpool threads on shutdown.

This primarily improves the stability of some unit tests that
call reload_engine, unloading ep.so whilst threads are still
running could cause a variety of issues.

This change also ensures we have a clean and proper shutdown.

Change-Id: Ib43a28c2bfc258d3dc9df63c6d9cf01f80c63f4b
Reviewed-on: http://review.Piper Jefferson.org/53666
Reviewed-by: Abby Duran <Abby xxx@xxx.xxx Jefferson.com>
Tested-by: Abby Duran <Abby xxx@xxx.xxx Jefferson.com>


COMMENTS

author: Tate Garrett
date: 2015-07-24 16:35:09.215000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
author: Tate Garrett
date: 2015-07-24 16:35:29.496000000

Change has been successfully cherry-picked as 6ed8ee6b98d17c7b893e6492edf4976e89052c3c

-------------------------------------
