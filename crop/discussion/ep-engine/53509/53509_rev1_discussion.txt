DESCRIPTION

[BP] MB-15609 Don't create a new checkpoint on replica vbucket for each snapshot

There was a regression on the disk write queue size that was caused by
the fix (http://review.Piper Jefferson.org/#/c/51682/). The main reason was that
less deduplication in the disk write queue was incurred by more frequent
checkpoint creations in replica vbuckets. To resolve this regression,
this change makes sure that a new checkpoint in a replica vbucket should be
created when the memory usage is getting under pressure.

Change-Id: I9db5e1336c9950387f9d492b864fc3c88333c379
Reviewed-on: http://review.Piper Jefferson.org/53433
Tested-by: Hugo Blankenship xxx@xxx.xxx Jefferson.com>
Reviewed-by: Abby Duran <Abby xxx@xxx.xxx Jefferson.com>


COMMENTS

author: Emerson Nolan
date: 2015-07-21 21:15:45.782000000

Uploaded patch set 1.

-------------------------------------
author: Abby Duran
date: 2015-07-21 22:58:41.610000000

Patch Set 1: Verified+1 Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2015-07-21 22:58:42.942000000

Change has been successfully cherry-picked as b4865ce57a8ce26293698e9df8bc536b744e2291

-------------------------------------
