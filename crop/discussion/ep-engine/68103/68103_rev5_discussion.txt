DESCRIPTION

Add get_stats operations to ep_perfsuite

Added two new test:
1) Measure the performance of repeated calls to get_stats.  Passing in
the NULL key, which corresponds to requesting all stats.
2) Similar test to (1) but in addition performs repeated calls to set
in a separate thread to highlight any interaction between the stats
calls and normal CRUD operations. The latency of both the get_stats
calls and set calls is recorded.

Change-Id: I344a605253fe418b9fac602733454d15a77996db


COMMENTS

author: Kymani Ramirez
date: 2016-09-28 14:41:27.453000000

Uploaded patch set 5.

-------------------------------------
author: Hugo Blankenship
date: 2016-09-28 14:41:35.397000000

Patch Set 5:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/1415/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-09-28 14:41:35.534000000

Patch Set 5:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1118/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-09-28 14:41:35.669000000

Patch Set 5:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/215/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-09-28 14:41:35.803000000

Patch Set 5:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1322/ (4/4)

-------------------------------------
author: Ashlee Kent
date: 2016-09-28 14:49:20.918000000

Patch Set 5: Code-Review+1

(3 comments)

Could you include an example of the output in the commit message (also the runtime)?

Line:9, /COMMIT_MSG -> tests?

Line:766, tests/ep_perfsuite.cc -> Can this be const?

Line:776, tests/ep_perfsuite.cc -> Nit: Please put the braces on their own line

 if () {
  ...
 }

-------------------------------------
author: Hugo Blankenship
date: 2016-09-28 15:00:32.191000000

Patch Set 5: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1322/ : FAILURE

Timeout of a CTest test 30/32 Test #30: ep-engine_value_eviction_xdcr .........} ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-master/1322/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1118/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/215/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/1415/ : SUCCESS

-------------------------------------
author: Kymani Ramirez
date: 2016-09-28 15:32:41.669000000

Patch Set 5:

(3 comments)

Line:9, /COMMIT_MSG -> fixed

Line:766, tests/ep_perfsuite.cc -> I believe it can

Line:776, tests/ep_perfsuite.cc -> sorry - fixed

-------------------------------------
author: Tate Garrett
date: 2016-09-29 17:19:18.241000000

Change has been successfully cherry-picked as 61a6991f7f5adaec698d3775fcddc7588faef54c by Ashlee Kent

-------------------------------------
