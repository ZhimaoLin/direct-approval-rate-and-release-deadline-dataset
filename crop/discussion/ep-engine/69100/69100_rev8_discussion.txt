DESCRIPTION

MB-20746: Delete bloom filter only if temporary filter is created

During compaction, a temporary filter is only created in the
bloom filter callback function. There is a possibility that this
function will not get invoked if there is no data present during
compaction. So, before swapping the filter, ensure that a temporary
filter is created before deleting the original filter.

Change-Id: I4fcf11d32674be8c28dbda02724b40d3d37e335a


COMMENTS

author: Bobby Buck
date: 2016-10-25 21:48:07.584000000

Uploaded patch set 8.

-------------------------------------
author: Hugo Blankenship
date: 2016-10-25 21:48:17.036000000

Patch Set 8:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/264/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-25 21:48:17.173000000

Patch Set 8:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1246/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-25 21:48:17.314000000

Patch Set 8:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/1628/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-25 21:48:17.458000000

Patch Set 8:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1440/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-10-25 21:54:55.087000000

Patch Set 8: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/1246/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/1628/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/1440/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-watson/264/ : SUCCESS

-------------------------------------
author: Bobby Buck
date: 2016-10-25 21:57:10.531000000

Patch Set 8: Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2016-10-25 21:57:29.683000000

Change has been successfully cherry-picked as d4bac37152fd1c07c8a35f1a1a70ad681992c916 by Bobby Buck

-------------------------------------
