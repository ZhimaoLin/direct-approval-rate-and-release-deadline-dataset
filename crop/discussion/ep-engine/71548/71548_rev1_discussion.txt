DESCRIPTION

Store VBucketVisitor objects in a unique_ptr instead of a shared_ptr

The only reason why VBucketVisitor objects needed to be in
shared_ptrs was to account for there being no virtual destructor in
the base class.

Change-Id: I989eddf6bdc51b428bd83ff4ee5f16898f55de56


COMMENTS

author: Keira Washington
date: 2017-01-04 11:19:13.975000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2017-01-04 11:19:20.816000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2081/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-04 11:19:20.936000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1260/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-04 11:19:21.322000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2542/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-04 11:19:21.453000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2427/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-04 11:44:42.882000000

Patch Set 1: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2542/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2081/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2427/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1260/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2017-01-04 11:57:43.491000000

Patch Set 1: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2546/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-04 12:08:10.476000000

Patch Set 1: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2081/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2427/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1260/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2546/ : SUCCESS

-------------------------------------
author: Kymani Ramirez
date: 2017-01-04 12:53:57.181000000

Patch Set 1: Code-Review+1

-------------------------------------
author: Ashlee Kent
date: 2017-01-04 13:55:10.081000000

Patch Set 1: Code-Review-1

(1 comment)

Line:41, src/ep_engine.cc -> Not sure I understand the reasoning behind this header ordering - it doesn't quite appear alphabetical - our own headers and then system headers? but then why is stdarg.h at the top unordered?

-------------------------------------
author: Keira Washington
date: 2017-01-04 13:59:49.967000000

Patch Set 1:

(1 comment)

Line:41, src/ep_engine.cc -> Did a clang-format and didn't check too closely. I believe clang-format will automatically sort each contiguous block of includes firstly in the order first-party (ie. using quotes rather than '<>'), third-party, system, and *then* alphabetically.

-------------------------------------
author: Ashlee Kent
date: 2017-01-04 14:01:58.976000000

Patch Set 1:

(1 comment)

Line:41, src/ep_engine.cc -> I guess it trusts the separate paragraphs of includes are sensibly grouped ;)

I'd say either sort them all (so they are "correct" going forward) or just leave them in the other they were in - the halfway house has the downside to both approaches :)

-------------------------------------
author: Keira Washington
date: 2017-01-04 14:04:53.360000000

Patch Set 1:

(1 comment)

Line:41, src/ep_engine.cc -> > I guess it trusts the separate paragraphs of includes are sensibly grouped ;)

I believe it's to allow things like having `#include "config.h` as the first include.

I'll change this back as there's about 30 includes here and it'll end up being a massive diff otherwise.

-------------------------------------
author: Tate Garrett
date: 2017-01-05 14:40:50.304000000

Change has been successfully cherry-picked as 581737f00ed1d3727a306563939073d8d04bd7fb by Ashlee Kent

-------------------------------------
