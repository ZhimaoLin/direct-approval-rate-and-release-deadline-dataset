DESCRIPTION

MB-23990: Fix intermittent hangs in unit test

In some scenarios, the io complete notification reached before we start
waiting for it via the condition variable. This results in the test
hanging forever. Now we track the no.of notifications and wait
accordingly

Change-Id: Id9d9404892e111d7d60760d0e9ce727b474c0997


COMMENTS

author: Trace Williamson
date: 2017-05-24 18:37:52.087000000

Patch Set 2: Patch Set 1 was rebased

-------------------------------------
author: Hugo Blankenship
date: 2017-05-24 19:24:08.415000000

Patch Set 2: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/6830/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/5986/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/5275/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/516/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2017-05-24 22:01:47.033000000

Patch Set 2: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/5986/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/5275/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/516/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/6833/ : SUCCESS

-------------------------------------
