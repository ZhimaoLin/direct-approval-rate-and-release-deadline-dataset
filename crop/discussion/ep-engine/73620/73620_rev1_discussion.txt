DESCRIPTION

Pass stream_t by ref, not by copy for some DCP paths

Spotted whilst single stepping that some paths are copying the
shared pointer down the call chain, increasing the ref count for
each new copy.

In some cases we would abort, requiring an unwind of all the
increments.

So pass by ref and only take a copy when we really need to extend
the lifetime of the object.

Change-Id: Ic03087ad1a6d06d4792472f57271f80185fa0c71


COMMENTS

author: Jim WNathalie Landryer
date: 2017-02-14 14:19:53.091000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2017-02-14 14:42:48.732000000

Patch Set 1: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/2479/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/3254/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3654/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3859/ : SUCCESS

-------------------------------------
author: Kymani Ramirez
date: 2017-02-14 14:51:39.606000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Bobby Buck
date: 2017-02-15 00:53:52.407000000

Patch Set 1: Code-Review+2

-------------------------------------
