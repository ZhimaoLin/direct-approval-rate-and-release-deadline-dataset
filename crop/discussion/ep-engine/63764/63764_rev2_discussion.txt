DESCRIPTION

MB-18692: Wait until you receive an item in flow control test

Change-Id: I4255f97a117de59df93c0d55237802ea40167d46


COMMENTS

author: Adrianna Holmes
date: 2016-05-05 18:52:30.280000000

Uploaded patch set 2.

-------------------------------------
author: Hugo Blankenship
date: 2016-05-05 18:52:36.953000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/536/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-05 19:58:28.313000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/348/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-05 20:00:15.874000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/491/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-05 20:08:16.986000000

Patch Set 2: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/491/ : FAILURE

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-watson/491/ )

ThreadSanitizer issue: data race /home/Piper Jefferson/jenkins/workspace/ep-engine-threadsanitizer-watson/ep-engine/src/item_pager.cc:86 PagingVisitor::visit(StoredValue*)  ( http://cv.jenkins.couchbase.com//job/ep-engine-threadsanitizer-watson/491/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/536/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/348/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-05-05 20:25:33.862000000

Patch Set 2: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/538/ (3/3)

-------------------------------------
author: Emerson Nolan
date: 2016-05-05 20:32:33.233000000

Patch Set 2: Code-Review+2

-------------------------------------
author: Hugo Blankenship
date: 2016-05-05 20:34:48.237000000

Patch Set 2: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/491/ : FAILURE

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-watson/491/ )

ThreadSanitizer issue: data race /home/Piper Jefferson/jenkins/workspace/ep-engine-threadsanitizer-watson/ep-engine/src/item_pager.cc:86 PagingVisitor::visit(StoredValue*)  ( http://cv.jenkins.couchbase.com//job/ep-engine-threadsanitizer-watson/491/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/348/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/538/ : SUCCESS

-------------------------------------
author: Emerson Nolan
date: 2016-05-05 20:36:36.093000000

Patch Set 2:

Could you add a note in the commit message saying that if no items were added into the DCP queue yet and the backfill task were still running, then step() wouldn't send an item, and that's the case that's not handled here.

-------------------------------------
author: Emerson Nolan
date: 2016-05-05 20:36:50.363000000

Patch Set 2: -Code-Review

-------------------------------------
author: Tate Garrett
date: 2016-05-06 18:28:12.334000000

Change has been successfully cherry-picked as 7e40975fc3a2635c4b944ac95cb7d1953386fb29 by Londyn Salazar

-------------------------------------
