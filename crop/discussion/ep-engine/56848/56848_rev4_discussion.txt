DESCRIPTION

MB-16186: Stream only keys if DCP client sets NO_VALUE flag

DCP clients can choose to get only keys (no values) by setting an
appropriate flag at the time of DCP request. When this flag is set
only item key and metadata are streamed to the client. This helps
reduce the indexing time.

Change-Id: Ic24194c3627194c8bc9dae8204b88e7df27726a6


COMMENTS

author: Adrianna Holmes
date: 2015-11-11 19:39:16.652000000

Uploaded patch set 4.

-------------------------------------
author: Hugo Blankenship
date: 2015-11-11 19:39:22.870000000

Patch Set 4:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1521/ (2/2)

-------------------------------------
author: Hugo Blankenship
date: 2015-11-11 20:13:40.736000000

Patch Set 4: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/1521/ : FAILURE

http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/765/ : FAILURE

One or more CTests tests timed out during execution:

15 - ep-engine-engine-tests (Timeout) ( http://factory.Piper Jefferson.com//job/ep-engine-threadsanitizer-master/765/ )

-------------------------------------
author: Ashlee Kent
date: 2015-11-12 10:06:26.885000000

Patch Set 4: Code-Review-1

(1 comment)

Line:299, src/dcp/response.h -> Use a switch statement - that way if a third payload type is added later on the compiler will automatically warn / error that you have an unhanded switch case.

-------------------------------------
author: Tate Garrett
date: 2015-11-17 00:39:04.349000000

Change has been successfully cherry-picked as 7a1ada1cc1805a8f29c8b05e41085c052b252ccb

-------------------------------------
