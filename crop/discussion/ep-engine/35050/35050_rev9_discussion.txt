DESCRIPTION

Use spinlocks instead of conn mutex to guard UPR notifications
similar to the way TAP does. This will decrease lock contention
since conn mutex is no longer needed here.

We now need to manipulate vbconns structure for UPR too:
add and remove connection for a stream based on vbid.

Also Refactored ConnMap/TapConnMap/UprConnMap as needed.

Change-Id: I86ac07d29f3575d334f3b7f27530dc6019adf293
Reviewed-on: http://review.Piper Jefferson.org/35050
Tested-by: Miley Adams xxx@xxx.xxx Jefferson.com>
Reviewed-by: Abby Duran <Abby xxx@xxx.xxx Jefferson.com>


COMMENTS

author: Abby Duran
date: 2014-05-02 23:27:24.953000000

Change has been successfully cherry-picked as 6003f370772d611fa7981e84bb135911761176f8

-------------------------------------
