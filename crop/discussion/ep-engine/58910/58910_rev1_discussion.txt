DESCRIPTION

MB-17517: check for invalid CAS value in [set/delete]WithMeta

In a [set/delete]WithMeta call from either XDCR or from DCP,
a corrupt CAS value for the incoming item should return an
error

Change-Id: Id87627ae35ef711de4704a960b3aa7d1e9b9a48b


COMMENTS

author: Bobby Buck
date: 2016-01-21 23:03:21.486000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2016-01-21 23:03:27.721000000

Patch Set 1:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/424/

-------------------------------------
author: Hugo Blankenship
date: 2016-01-21 23:13:58.800000000

Patch Set 1: Verified+1

Build Successful 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/424/ : SUCCESS

-------------------------------------
author: Ashlee Kent
date: 2016-01-22 09:04:55.596000000

Patch Set 1: Code-Review-1

(2 comments)

Line:941, src/ep.cc -> Nit: can make itmCas const

Line:2076, src/ep.cc -> Same code in all three cases - can create a helper function `bool isValidCAS(const Item& tim)` which keeps the logic in one place.

-------------------------------------
author: Bobby Buck
date: 2016-01-22 22:05:14.260000000

Patch Set 1:

(2 comments)

Line:941, src/ep.cc -> Done

Line:2076, src/ep.cc -> Done

-------------------------------------
author: Tate Garrett
date: 2016-01-23 04:42:33.152000000

Change has been successfully cherry-picked as 7f4d0dded692873e032a1648bd4a52525352b16a

-------------------------------------
