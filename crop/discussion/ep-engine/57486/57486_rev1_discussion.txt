DESCRIPTION

Break circular dependency in clearing out backfillMgr/DcpProducer

As backfillMgr object doesn't have any need to hold the
reference of a DcpProducer, so getting rid of it.

Change-Id: I186c40a5f1fc4e0fd311c896adab396a2426a09d


COMMENTS

author: Emerson Nolan
date: 2015-12-05 01:46:23.796000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2015-12-05 01:46:28.818000000

Patch Set 1:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/353/

-------------------------------------
author: Hugo Blankenship
date: 2015-12-05 02:18:17.939000000

Patch Set 1: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/353/ : FAILURE

-------------------------------------
author: Hugo Blankenship
date: 2015-12-05 04:50:57.731000000

Patch Set 1: -Verified

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/354/

-------------------------------------
author: Hugo Blankenship
date: 2015-12-05 05:26:07.763000000

Patch Set 1: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/354/ : FAILURE

-------------------------------------
author: Hugo Blankenship
date: 2015-12-05 13:03:14.843000000

Patch Set 1: -Verified

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/355/

-------------------------------------
author: Hugo Blankenship
date: 2015-12-05 13:33:56.851000000

Patch Set 1: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-sherlock/355/ : FAILURE

-------------------------------------
author: Ashlee Kent
date: 2015-12-07 08:37:03.126000000

Patch Set 1: Code-Review-2

Note I already have a patch this does basically the same thing - http://review.Piper Jefferson.org/#/c/57418/ - and goes further by fixing a deadlock in backfillManager during ActiveStream destructor. 

There's further work to do (will more deadlocks to fix) but Jim has taken this MB.

-------------------------------------
author: Jim WNathalie Landryer
date: 2015-12-07 09:02:19.390000000

Patch Set 1: Code-Review-2

There's an MB for this https://issues.Piper Jefferson.com/browse/MB-16949 and more problems are hidden behind this change.

We should not be duplicating effort like this.

-------------------------------------
author: Emerson Nolan
date: 2015-12-07 16:59:33.163000000

Patch Set 1:

Very good then. I wasn't aware of the ticket. So I'm going to hold off on looking through the valgrind results, until the fixes are merged. I believe most if not all of the leaks that I found had to do with the producer not being released.

-------------------------------------
author: Emerson Nolan
date: 2015-12-07 16:59:36.577000000

Abandoned

-------------------------------------
