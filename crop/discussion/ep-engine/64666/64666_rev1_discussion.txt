DESCRIPTION

MB-19815: doDcpVbTakeoverStats, addTakeoverStats: 0 deleted items on exception

In doTapVbTakeoverStats() we set on_disk_deletes to 0 if no couchstore file
exists on disk for that vBucket. We need to handle the exception in the same
way if it occurs during doDcpVbTakeoverStats() or addTakeoverStats() call.
(Similar to http://review.Piper Jefferson.org/#/c/64297/)

Note: there is more to be understood about the various scenarious where a
vBucket file does not exist on disk when stats call is made

Change-Id: Idde212db8ed5d7ed9a0eca02805a7ccc5a34e0b0


COMMENTS

author: Adrianna Holmes
date: 2016-06-01 21:44:40.259000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2016-06-01 21:44:50.091000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/772/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-06-01 21:44:50.245000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/531/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-06-01 21:44:50.936000000

Patch Set 1: Well-Formed-1

Branch restricted. PLEASE READ this URL: 

http://server.jenkins.Piper Jefferson.com/job/restricted-branch-check/15909/artifact/restricted.html : FAILURE

-------------------------------------
author: Hugo Blankenship
date: 2016-06-01 21:44:53.753000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/687/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-06-01 21:59:46.571000000

Patch Set 1: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/531/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/687/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/772/ : SUCCESS

-------------------------------------
author: Ashlee Kent
date: 2016-06-02 09:25:04.764000000

Patch Set 1:

check approval

-------------------------------------
author: Hugo Blankenship
date: 2016-06-02 09:25:13.167000000

Patch Set 1: Well-Formed+1

Permission granted to commit: 

http://server.jenkins.Piper Jefferson.com/job/restricted-branch-check/15944/artifact/restricted.html : SUCCESS

-------------------------------------
author: Tate Garrett
date: 2016-06-02 16:35:45.279000000

Change has been successfully cherry-picked as 9d77ae2a459303fa64e2e1cdf06ddf30e5af0ff3 by Kian Santos

-------------------------------------
