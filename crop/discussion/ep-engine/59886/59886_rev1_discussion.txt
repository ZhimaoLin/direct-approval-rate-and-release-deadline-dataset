DESCRIPTION

Set the message size for a mutation response based on payloadType

Do not account for value size in the message body size if
the payloadType indicates KEY_ONLY.

Change-Id: I8724ec64ff4e884fde8b3afc85f956ec3d857d05


COMMENTS

author: Emerson Nolan
date: 2016-02-12 20:53:11.274000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2016-02-12 20:58:45.319000000

Patch Set 1:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1697/ (2/2)

-------------------------------------
author: Hugo Blankenship
date: 2016-02-12 21:13:29.378000000

Patch Set 1: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1697/ : FAILURE

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/2435/ : FAILURE

-------------------------------------
author: Hugo Blankenship
date: 2016-02-12 21:19:04.449000000

Patch Set 1: -Verified

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/2436/ (2/2)

-------------------------------------
author: Hugo Blankenship
date: 2016-02-12 21:26:09.042000000

Patch Set 1: Verified+1

Build Successful 

http://factory.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1698/ : SUCCESS

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/2436/ : SUCCESS

-------------------------------------
author: Abby Duran
date: 2016-02-12 21:31:01.981000000

Patch Set 1:

Can you add the unit test for this?

-------------------------------------
author: Emerson Nolan
date: 2016-02-12 21:32:47.171000000

Patch Set 1:

There already is a unit test (With the flow control changes that will be merged in to master: http://review.Piper Jefferson.org/#/c/59885/). I found this bug while merging sherlock branch with master.

-------------------------------------
author: Adrianna Holmes
date: 2016-02-12 21:35:39.016000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Abby Duran
date: 2016-02-12 21:36:00.293000000

Patch Set 1: Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2016-02-12 21:36:02.044000000

Change has been successfully cherry-picked as 5dbef028d20f58219e3fbe30859f2eec9d462268

-------------------------------------
