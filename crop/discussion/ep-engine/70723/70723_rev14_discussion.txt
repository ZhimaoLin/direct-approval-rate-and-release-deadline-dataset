DESCRIPTION

MB-21917: Make use of SerialisedDocKey

StoredValue and MutationLog both store keys, but in a pre-allocated,
larger block, thus they need SerialisedDocKey.

Change-Id: I2a2bc5a86473c5e81d9adf4d159e0b8770c700c7


COMMENTS

author: Jim WNathalie Landryer
date: 2016-12-14 20:40:35.846000000

Uploaded patch set 14: Patch Set 13 was rebased.

-------------------------------------
author: Hugo Blankenship
date: 2016-12-14 20:40:45.568000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2141/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-14 20:40:46.108000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2221/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-14 20:40:46.508000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/980/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-14 20:48:40.743000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1803/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-14 21:14:00.341000000

Patch Set 14: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2221/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/980/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1803/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2141/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 07:49:28.306000000

Patch Set 14: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2232/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 07:49:28.442000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/992/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 07:49:28.661000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1815/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 07:49:28.933000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2152/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 08:06:34.597000000

Patch Set 14: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2232/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/992/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1815/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2152/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 08:25:18.152000000

Patch Set 14: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2234/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 08:25:18.494000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1817/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 08:25:18.877000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2154/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 08:25:19.253000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/994/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 08:37:51.474000000

Patch Set 14: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2234/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/994/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1817/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2154/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 10:20:24.592000000

Patch Set 14: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2240/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 10:20:24.725000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/999/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 10:20:24.855000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1822/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 10:20:25.101000000

Patch Set 14:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2159/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-12-15 10:33:07.343000000

Patch Set 14: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2240/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/999/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1822/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2159/ : SUCCESS

-------------------------------------
author: Ashlee Kent
date: 2016-12-15 13:44:39.788000000

Patch Set 14: Code-Review-1

(1 comment)

Could you add a similar static_assert to MutationLog?

Line:524, src/stored-value.h -> Note for future: you can also use sizeof() on a variable name, which can make it clearer what's being checked (i.e. makes it clearer that the sizeof() is of the same thing as `key`).

-------------------------------------
author: Jim WNathalie Landryer
date: 2016-12-15 14:10:09.252000000

Patch Set 14:

(1 comment)

Line:524, src/stored-value.h -> Done

-------------------------------------
author: Tate Garrett
date: 2016-12-19 16:49:36.807000000

Change has been successfully cherry-picked as 5d97bde6101370e2dbff58405e670e208e279242 by Ashlee Kent

-------------------------------------
