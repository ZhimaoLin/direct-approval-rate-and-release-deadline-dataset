DESCRIPTION

Remove support for DCP NO_VALUE (moved to core)

As part of adding support for XATTRs over DCP we can't strip
off the value part in ep-engine. The memcached core will
snoop the DCP OPEN and ADD STREAM requests and pick up the
flag to strip off bodies.

The removed test cases tested the cases where we want to
strip off the values (which we no longer can do due to the
fact that the frontend may need them in order to pick out
the xattrs).

Change-Id: I86ed8c2844f70d5aa1630339ae5859a731e557bd


COMMENTS

author: Asher Vang
date: 2017-01-25 13:04:37.554000000

Uploaded patch set 3.

-------------------------------------
author: Hugo Blankenship
date: 2017-01-25 13:04:47.744000000

Patch Set 3:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3017/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-25 13:04:47.896000000

Patch Set 3:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3179/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-25 13:04:48.050000000

Patch Set 3:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1846/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-25 13:04:48.199000000

Patch Set 3:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2640/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-25 13:19:22.144000000

Patch Set 3: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3017/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2640/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1846/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3179/ : SUCCESS

-------------------------------------
author: Ashlee Kent
date: 2017-01-26 09:19:23.258000000

Patch Set 3: Code-Review-1

Suggest you also remove StoredValue::toValuelessItem() as I believe nothing else calls it now.

-------------------------------------
author: Asher Vang
date: 2017-01-26 10:02:51.283000000

Patch Set 3:

done

-------------------------------------
author: Tate Garrett
date: 2017-01-26 16:29:05.214000000

Change has been successfully cherry-picked as 4f3614e42c7444733278b0ec578a499932bf8841 by Asher Vang

-------------------------------------
