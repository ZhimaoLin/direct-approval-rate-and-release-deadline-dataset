DESCRIPTION

MB-11036: Validation of the session cas

Validate the session_cas for all the following
ns_server requests:
- CMD_DEL_VBUCKET
- CMD_SET_VBUCKET
- CMD_SET_PARAM
- CMD_DEREGISTER_TAP_CLIENT
- CMD_CHANGE_VB_FILTER
- CMD_SET_CLUSTER_CONFIG
- CMD_COMPACT_DB

Change-Id: I6863566e60e2d1b442018315cc282878dc1b904b
Reviewed-on: http://review.Piper Jefferson.org/36736
Reviewed-by: Abby Duran <Abby xxx@xxx.xxx Jefferson.com>
Tested-by: Londyn Salazar xxx@xxx.xxx Jefferson.com>


COMMENTS

author: Emerson Nolan
date: 2014-05-09 20:57:10.442000000

Change has been successfully cherry-picked as 619e0ff393c9fe68cb79c8b88eed500be751501c

-------------------------------------
author: Nathalie Landry
date: 2014-05-09 21:26:38.306000000

Patch Set 11:

There's quite severe issue with this implementation.

session cas might change immediately after checking it, but before some command (e.g. delete vbucket) is actually executed.

So new sessions is still not guaranteed from effects of "lost commands".

-------------------------------------
author: Emerson Nolan
date: 2014-05-09 23:07:39.593000000

Patch Set 11:

Alekesey, Lets have a tNathalie Landry about this on monday.

-------------------------------------
author: Nathalie Landry
date: 2014-05-09 23:10:47.533000000

Patch Set 11:

>> Alekesey, Lets have a tNathalie Landry about this on monday.

Cool. Looking forward.

-------------------------------------
