DESCRIPTION

MB-9715: Add UPR Consumer connection pausing

In the current code the upr thread continually calls the step
function for any consumer connection. This change allows an UPR
Consumer to notify the memcached layer when it does and	 does not
have data ready. It will fix the 100% cpu issue that occurs when
using an UPR Consumer.

Change-Id: I122faa8621b340dbc4e8708c65b09aea40989e9f


COMMENTS

author: Kenny Maynard
date: 2014-03-06 01:18:24.494000000

Uploaded patch set 4.

-------------------------------------
author: Hugo Blankenship
date: 2014-03-06 03:34:39.909000000

Patch Set 4: Verified+1

Build Successful 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-300/228/ : SUCCESS

-------------------------------------
author: Abby Duran
date: 2014-03-07 00:42:34.000000000

Patch Set 4: Code-Review-1

(1 comment)

Line:451, src/upr-consumer.cc -> Can we notify iff the consumer queue is empty?

-------------------------------------
author: Kenny Maynard
date: 2014-03-07 00:43:38.118000000

Patch Set 4:

(1 comment)

Line:451, src/upr-consumer.cc -> Yeah. I forgot to uncomment that.

-------------------------------------
