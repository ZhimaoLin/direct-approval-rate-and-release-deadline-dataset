DESCRIPTION

MB-23712: Check for invalid cas before setting value for deleted body

Before setting the value for a deleted item, check to see if the
incoming cas matches the existing cas

Change-Id: If61e47f0c29ede41778f0f3d817082a83ec8f851


COMMENTS

author: Bobby Buck
date: 2017-04-05 01:58:35.622000000

Uploaded patch set 3: Patch Set 2 was rebased.

-------------------------------------
author: Hugo Blankenship
date: 2017-04-05 02:18:43.059000000

Patch Set 3: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/5674/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/4245/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/5459/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/4968/ : SUCCESS

-------------------------------------
author: Adrianna Holmes
date: 2017-04-05 06:57:08.251000000

Patch Set 3: Code-Review+2

(1 comment)

"Comment" is just a suggestion.

Line:1087, src/vbucket.cc -> A comment that we need to do BG fetch for cas matching would be helpful

-------------------------------------
author: Bobby Buck
date: 2017-04-05 10:03:13.620000000

Patch Set 3:

(1 comment)

Line:1087, src/vbucket.cc -> Done

-------------------------------------
