DESCRIPTION

MB-19503: Fully restore server cookie API in unit test

In the regression / unit test for this MB we interpose our own
function in place of the normal server cookie API function
notify_io_complete. However we do not correctly restore the original
function when finished, which can cause other subsequent tests in the
same binary to fail.

As the cookie API is accessed via pointer from server API we need to
take a copy of the cookie API struct, and restore it when the test is
complete.

Change-Id: I71045f3d7bd4d181db43876954b99c3ed0db688b


COMMENTS

author: Hugo Blankenship
date: 2016-05-18 13:00:39.790000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/646/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-18 13:00:44.773000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/426/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-18 13:07:07.809000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/576/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-18 13:18:41.296000000

Patch Set 2: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/646/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/426/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/576/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-05-18 13:53:28.873000000

Patch Set 2: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/654/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-18 14:06:59.662000000

Patch Set 2: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/654/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/426/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/576/ : SUCCESS

-------------------------------------
author: Hugo Blankenship
date: 2016-05-18 15:32:59.830000000

Patch Set 2: -Verified

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/656/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-18 15:46:20.694000000

Patch Set 2: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/426/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/576/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/656/ : SUCCESS

-------------------------------------
author: Keira Washington
date: 2016-05-19 08:21:26.367000000

Patch Set 2: Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2016-05-19 08:38:37.316000000

Change has been successfully cherry-picked as 2e01cd2a554e41b1346b9d688b5261bbb151e0fd by Ashlee Kent

-------------------------------------
