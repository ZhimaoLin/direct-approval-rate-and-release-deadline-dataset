DESCRIPTION

MB-19503: Fully restore server cookie API in unit test

In the regression / unit test for this MB we interpose our own
function in place of the normal server cookie API function
notify_io_complete. However we do not correctly restore the original
function when finished, which can cause other subsequent tests in the
same binary to fail.

As the cookie API is accessed via pointer from server API we need to
take a copy of the cookie API struct, and restore it when the test is
complete.

Change-Id: I71045f3d7bd4d181db43876954b99c3ed0db688b


COMMENTS

author: Ashlee Kent
date: 2016-05-17 17:06:40.587000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2016-05-17 17:06:49.568000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/641/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-17 17:06:54.867000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/423/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-17 17:06:55.196000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/571/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-05-17 17:17:25.607000000

Patch Set 1: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/423/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/571/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/641/ : SUCCESS

-------------------------------------
author: Ashlee Kent
date: 2016-05-18 13:00:30.578000000

Patch Set 2: Patch Set 1 was rebased

-------------------------------------
author: Tate Garrett
date: 2016-05-19 08:38:37.316000000

Change has been successfully cherry-picked as 2e01cd2a554e41b1346b9d688b5261bbb151e0fd by Ashlee Kent

-------------------------------------
