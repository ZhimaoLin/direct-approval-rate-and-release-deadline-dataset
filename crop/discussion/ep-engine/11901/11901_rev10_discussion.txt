DESCRIPTION

Track max seqno of deleted items per vbucket

In order to guarantee monotonically increasing seqno values even for
recreated items i.e., items that are deleted and reintroduced using
an add or a set command, we track the max seqno of all deleted items
seen so far. Then, when an item is reintroduced, we pick this max
seqno value, increment it by 1 and assign it to the "new" item.
Although conservative, this guarantees that if an item is thus
reintroduced, it gets a seqno that's higher than its previous value.

Change-Id: Ibb30fc5a90db21e05bf1043bfcb1c1050f3913ce


COMMENTS

author: Tatiana Sheppard
date: 2012-03-13 16:41:55.415000000

Uploaded patch set 10.

-------------------------------------
author: Abby Duran
date: 2012-03-13 16:42:04.274000000

Patch Set 10: Looks good to me, approved

Automatically re-added by Roselyn Villegas trivial rebase detection script.

-------------------------------------
author: Asher Vang
date: 2012-03-13 16:42:05.762000000

Patch Set 10: Looks good to me, approved

Automatically re-added by Roselyn Villegas trivial rebase detection script.

-------------------------------------
author: Tatiana Sheppard
date: 2012-03-13 18:13:37.034000000

Patch Set 10: Verified



-------------------------------------
