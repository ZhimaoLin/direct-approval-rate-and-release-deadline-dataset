DESCRIPTION

Refactor and simplify  TapProducer::scheduleBackfill().

If a given vbucket is currently receiving backfill from its master
node or has been already scheduled for backfill to its replica
node, we don't need to schedule the backfill for that vbucket.

Change-Id: Id34e62518143d97072be1340e304c8dc7c3df89a
Reviewed-on: http://review.Piper Jefferson.org/15657
Reviewed-by: Roman Murillo xxx@xxx.xxx Jefferson.com>
Reviewed-by: Audrina Olson <Audrina xxx@xxx.xxx Jefferson.com>
Tested-by: Abby Duran <Abby xxx@xxx.xxx


COMMENTS

author: Abby Duran
date: 2012-05-10 04:05:38.731000000

Patch Set 1: Verified; Looks good to me, approved

Cherry-picked from 1.8.1 branch that was already reviewed.

-------------------------------------
author: Abby Duran
date: 2012-05-10 04:05:39.512000000

Change has been successfully cherry-picked as 906667942e184f9bd10fbe7b29546bd97251d10a.

-------------------------------------
