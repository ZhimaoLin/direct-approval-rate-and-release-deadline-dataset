DESCRIPTION

Move src/sizes.cc to the test directory and GTESTify

It's easy to make this test fail compilation because it's dependent
modules are so constrained. Adding to ep-engine_ep_unit_tests as a
disabled test keeps it compiling despite changes to other source
files.

Change-Id: I604d8aafebeef04a898d4091a9b39e76c45d595e


COMMENTS

author: Jim WNathalie Landryer
date: 2017-01-13 14:36:08.843000000

Uploaded patch set 2: Patch Set 1 was rebased.

-------------------------------------
author: Hugo Blankenship
date: 2017-01-13 14:36:18.550000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1560/ (1/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-13 14:36:18.669000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2727/ (2/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-13 14:36:19.206000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2363/ (3/4)

-------------------------------------
author: Hugo Blankenship
date: 2017-01-13 14:36:19.334000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2886/ (4/4)

-------------------------------------
author: Jim WNathalie Landryer
date: 2017-01-13 14:37:37.623000000

Patch Set 2:

> ./ep-engine_sizes was a nice and quick way to show the sizes of
 > different types. Moving it into a Disabled GTest makes it pretty
 > hard for people to "get at" it - they have to remember the correct
 > GTest incantation to make it run.
 > 
 > Perhaps it would be preferable to just link it with the ep_obj
 > library (assuming that solves the compilation dependancies?)
 > 
 > If not, at the very least we probably want to document exactly how
 > to run it, or maybe add a simple CMake target (`make sizes`?) which
 > will run it.

hmm we did speak about the issues I was having, I can make it link against everything then if that's preferable

-------------------------------------
author: Hugo Blankenship
date: 2017-01-13 14:56:27.738000000

Patch Set 2: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/2886/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/2727/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/2363/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/1560/ : SUCCESS

-------------------------------------
author: Jim WNathalie Landryer
date: 2017-01-13 14:56:42.308000000

Abandoned

Differant approach to this one uploaded

-------------------------------------
