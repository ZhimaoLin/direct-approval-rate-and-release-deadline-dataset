DESCRIPTION

MB-14190: Implement commit for ForestKVStore

Change-Id: I98eca230fb61d068d8e9cc233f720dd8897aa2ee


COMMENTS

author: Bobby Buck
date: 2015-06-16 23:20:17.964000000

Uploaded patch set 2.

-------------------------------------
author: Hugo Blankenship
date: 2015-06-16 23:20:23.934000000

Patch Set 2:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/242/

-------------------------------------
author: Hugo Blankenship
date: 2015-06-16 23:46:34.599000000

Patch Set 2: Verified+1

Build Successful 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/242/ : SUCCESS

-------------------------------------
author: Abby Duran
date: 2015-06-17 18:19:11.125000000

Patch Set 2: Code-Review-1

(3 comments)

Line:279, src/flusher.cc -> Why do we need to pass the pointer of flushInt to flushVBucket()? This is a local variable and not referenced after flushbVBucket()

Line:510, src/kvstore.h -> Please rename it to getPersistenceCbList()

Line:480, src/forest-kvstore/forest-kvstore.cc -> Please catch this commit failure and return false here.

-------------------------------------
author: Bobby Buck
date: 2015-06-17 18:47:27.173000000

Patch Set 2:

(1 comment)

Line:279, src/flusher.cc -> Lets say the flush interval is set to 256. We decrement this value inside flushVBucket and if it reaches zero, we will issue commit. After commit is done, we need to reset that value to the original flush interval (i.e., 256).

-------------------------------------
author: Bobby Buck
date: 2015-06-17 18:54:37.943000000

Patch Set 2:

(2 comments)

Line:510, src/kvstore.h -> Done

Line:480, src/forest-kvstore/forest-kvstore.cc -> Done

-------------------------------------
author: Tate Garrett
date: 2015-06-19 00:21:13.823000000

Change has been successfully cherry-picked as 769cfe074d7d47bdeee90fd1e83654a3da0631bf

-------------------------------------
