DESCRIPTION

Reduce lock contention in del vb cmd.

We're seeing cases on NUMA systems where delete vbucket commands were
taking 4-8s to run in a normal case.  By releasing the lock before
scheduling, we're not blocking another request from issuing a vbucket
deletion while the request is attempting to acquire *another* lock.

Change-Id: Ic9ab98ae47d824f02dffcc0ef31419bfe74b6b73


COMMENTS

author: Noah Dean
date: 2011-02-22 05:00:23.024000000

Uploaded patch set 2.

-------------------------------------
author: Nora Conway
date: 2011-02-22 05:28:47.485000000

Patch Set 2: Verified; Looks good to me, approved

make test passes on osx

-------------------------------------
author: Nora Conway
date: 2011-02-22 05:28:47.634000000

Change has been successfully cherry-picked as 031dfdf5c1f50349e2e8f224fb03ba4ffcb49288.

-------------------------------------
