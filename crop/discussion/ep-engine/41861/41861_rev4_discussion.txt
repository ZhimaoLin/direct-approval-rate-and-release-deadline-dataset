DESCRIPTION

MB-10789: [5] Bloomfilter for sets/gets/deletes/evicts

For VALUE-ONLY EVICTION:
- Add all deletes to bloomfilter
- Check bloomfilter before getMetaData

For FULL EVICTION:
- If resident ratio is greater than threshold:
    - Add all deletes to bloomfilter
    - Add evicted items to bloomfilter
- If resident ratio is less than threshold:
    - Add creates to bloomfilter
    - Add deletes to bloomfilter
    - Add evicted items to bloomfilter
- Check bloomfilter, if item not in hashtable:
    - Get
    - DeleteItem
    - GetMetaData

Change-Id: I2766226228d18b448ad464525ce80e6803a31772


COMMENTS

author: Emerson Nolan
date: 2014-10-08 18:32:04.916000000

Uploaded patch set 4.

-------------------------------------
author: Ashlee Kent
date: 2014-10-10 01:10:20.963000000

Patch Set 4:

(1 comment)

Line:378, src/vbucket.h -> Probably more accurate to name this something like:

  keyMayExistInFilter()

Also - it looks like all uses of this end up extracting a ptr and length from a std::string - maybe just make it take a std::string& ?

-------------------------------------
