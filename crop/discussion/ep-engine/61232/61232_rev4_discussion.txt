DESCRIPTION

MB-18650: ep_perfsuite: Reduce iteration count for ThreadSanitizer

When running under ThreadSaniziter, use a reduced iteration count, as
it runs ~20x slower than without TSan.

This reduces the runtime of ep_perfsuite under ThreadSanitizer to
~30s, down from 500s.

Change-Id: I5525b0b20db2973133e6f165336e6b88e92acf42


COMMENTS

author: Ashlee Kent
date: 2016-03-10 15:00:08.073000000

Uploaded patch set 4.

-------------------------------------
author: Hugo Blankenship
date: 2016-03-10 15:03:56.989000000

Patch Set 4:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/83/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-10 15:04:50.897000000

Patch Set 4:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/54/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-10 15:07:12.029000000

Patch Set 4:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/100/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-03-10 15:08:47.841000000

Patch Set 4: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-watson/54/ : FAILURE

Compile error at /home/Piper Jefferson/jenkins/workspace/ep-engine-clang_analyzer-watson/ep-engine/tests/ep_perfsuite.cc:52:0: error: unterminated #if
 ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-clang_analyzer-watson/54/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-watson/83/ : FAILURE

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-watson/100/ : FAILURE

Compile error at /home/Piper Jefferson/jenkins/workspace/ep-engine-threadsanitizer-watson/ep-engine/tests/ep_perfsuite.cc:59:1: error: unknown type name ITERATIONS
 ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-threadsanitizer-watson/100/ )

-------------------------------------
author: Tate Garrett
date: 2016-03-10 17:58:23.474000000

Change has been successfully cherry-picked as 65109ef6cd90b3724ed0d85d39d58f15e98a22a7

-------------------------------------
