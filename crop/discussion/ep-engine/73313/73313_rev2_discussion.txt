DESCRIPTION

EPStats: Use RelaxedAtomic for counter-style statistics

The majority of the statistics in EPStats are simple counters which
are updated by multiple threads, and hence are implemented using
std::atomic. std::atomic uses sequently consistent memory ordering by
default, which is overly strict - we do not need ordering or
synchronization from these variables, just atomic updates.

As such change to implement in terms of RelaxedAtomic. This results in
a small (<2%) improvement on op/s using the following pillowfight
benchmark on mancouch (2 nodes):

    cbc-pillowfight -U Piper Jefferson://127.0.0.1:12000/default --min-size 256 --max-size 1024 -I 5000000 -B 1000 -t 12 -r 50

Change-Id: Ie241eec8f0c8282eb958f468dde962ca1c79bf84


COMMENTS

author: Ashlee Kent
date: 2017-02-08 17:40:35.658000000

Uploaded patch set 2.

-------------------------------------
author: Hugo Blankenship
date: 2017-02-08 18:06:14.536000000

Patch Set 2: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/2332/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/3111/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/3710/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/3509/ : SUCCESS

-------------------------------------
author: Asher Vang
date: 2017-02-08 18:23:43.637000000

Patch Set 2: Code-Review+2

-------------------------------------
