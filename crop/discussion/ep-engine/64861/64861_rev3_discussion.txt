DESCRIPTION

Perform an explicit commit after call to flushVBucket

Although a flushVBucket writes the item to the underlying store,
the item is not marked clean until an explicit commit is called.
If the underlying store is couchstore, a commit is called with
a flushVBucket but in the case of forestdb, a commit is not
always called, hence call an explicit commit.

Change-Id: I577877d1665137717c0d7db1979d1bf1da5486e6


COMMENTS

author: Bobby Buck
date: 2016-06-13 09:48:48.549000000

Uploaded patch set 3.

-------------------------------------
author: Hugo Blankenship
date: 2016-06-13 09:48:56.523000000

Patch Set 3:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/794/ (1/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-06-13 09:48:56.659000000

Patch Set 3:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/859/ (2/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-06-13 09:48:56.788000000

Patch Set 3:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/650/ (3/3)

-------------------------------------
author: Hugo Blankenship
date: 2016-06-13 10:00:57.367000000

Patch Set 3: Verified+1

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/650/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/794/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/859/ : SUCCESS

-------------------------------------
author: Ashlee Kent
date: 2016-06-13 10:02:14.061000000

Patch Set 3:

(1 comment)

Line:3301, src/ep.cc -> Any reason the commit interval cannot be higher on couchstore also?

-------------------------------------
author: Bobby Buck
date: 2016-06-13 10:15:53.842000000

Patch Set 3:

(1 comment)

Line:3301, src/ep.cc -> It can be. I have just documented the default behaviour.

-------------------------------------
author: Ashlee Kent
date: 2016-06-13 10:18:05.745000000

Patch Set 3: Code-Review+2

(1 comment)

Line:3301, src/ep.cc -> Thanks.

-------------------------------------
author: Tate Garrett
date: 2016-06-13 14:27:20.750000000

Change has been successfully cherry-picked as 6256410e6778568fbe842df26a84b4426f7ab379 by Bobby Buck

-------------------------------------
