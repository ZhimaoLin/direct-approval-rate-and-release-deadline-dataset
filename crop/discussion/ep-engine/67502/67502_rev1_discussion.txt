DESCRIPTION

MB-19658: Stream from only active vb if corresponding flag is set in stream req

Some DCP clients prefer getting items from only active vb. They can indicate in
DCP_ADD_STREAM_ACTIVE_VB_ONLY flag. Server handles the streamRequest()
accordingly.

Dependency on http://review.Piper Jefferson.org/#/c/67484

Change-Id: Ie57359797a752cf9eea5d0d51ea1852d9de0f0fe


COMMENTS

author: Adrianna Holmes
date: 2016-09-08 16:37:20.724000000

Uploaded patch set 1.

-------------------------------------
author: Hugo Blankenship
date: 2016-09-08 16:37:30.678000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/1293/ (1/4)

-------------------------------------
author: Adrianna Holmes
date: 2016-09-08 16:38:20.814000000

Patch Set 1:

Created http://review.Piper Jefferson.org/#/c/67485 with changeId corresponding to that in http://review.couchbase.org/#/c/67484

-------------------------------------
author: Hugo Blankenship
date: 2016-09-08 16:40:53.699000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1205/ (2/4)

-------------------------------------
author: Ashlee Kent
date: 2016-09-08 16:42:39.570000000

Patch Set 1: Code-Review+1

(1 comment)

Line:687, tests/module_tests/evp_store_single_threaded_test.cc -> C++11 ! Just use:

 for (auto& it : states) {

-------------------------------------
author: Ashlee Kent
date: 2016-09-08 16:43:20.534000000

Patch Set 1:

Note: If this does end up wanted for 4.5.1 it'll need to be on watson branch.

-------------------------------------
author: Hugo Blankenship
date: 2016-09-08 16:48:09.272000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/101/ (3/4)

-------------------------------------
author: Ashlee Kent
date: 2016-09-08 17:06:26.588000000

Patch Set 1: Code-Review+2

> Note: If this does end up wanted for 4.5.1 it'll need to be on
 > watson branch.

Sorry, ignore me, commented on the wrong patch (was meant for the failover able one!)

-------------------------------------
author: Hugo Blankenship
date: 2016-09-08 18:22:59.480000000

Patch Set 1:

Build Started http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1021/ (4/4)

-------------------------------------
author: Hugo Blankenship
date: 2016-09-08 18:30:18.635000000

Patch Set 1: Verified-1

Build Failed 

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-addresssanitizer-master/101/ : FAILURE

Failure of a CTest test  ( http://cv.jenkins.Piper Jefferson.com//job/ep-engine-addresssanitizer-master/101/ )

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-threadsanitizer-master/1205/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-clang_analyzer-master/1021/ : SUCCESS

http://cv.jenkins.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master/1293/ : SUCCESS

-------------------------------------
author: Adrianna Holmes
date: 2016-09-09 10:00:24.150000000

Patch Set 1:

(1 comment)

Line:687, tests/module_tests/evp_store_single_threaded_test.cc -> Done

-------------------------------------
author: Tate Garrett
date: 2016-09-12 13:44:17.811000000

Change has been successfully cherry-picked as fcf1815388ca94212de9f9e0997716d3016233d8 by Ashlee Kent

-------------------------------------
