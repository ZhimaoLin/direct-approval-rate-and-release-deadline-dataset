DESCRIPTION

Ringerbuffer: Removal of unnecessary temporary variables.

The "contents" function of the Ringbuffer object copies
the contents of the Ringbuffer out to a vector.  In the
function the pos and wrapped variables are copied and
then the copies are used during the actually std::copy.

A comment in the code next to the declaration of pos copy
states "snaphot the position, wrapped for consistency".
However copying to the temporary variables is not going
to have the desired effect. Instead a lock must be held.
And in fact this is what the code does.  The Ringbuffer
object is used for the logs, and whenever the contents
function is called the logMutex is held.  It is also
held whenever the logs are updated using addLogEntry.

Therefore the removal of the temporary variables both
removes any doubt about the need to "snapshot" the
pos and wrapped variables, and makes the code cleaner.

Change-Id: I2e4f075015a254b8c569020c921238aa4faf7b1e


COMMENTS

author: Kymani Ramirez
date: 2015-08-07 16:23:02.498000000

Uploaded patch set 2.

-------------------------------------
author: Hugo Blankenship
date: 2015-08-07 16:23:06.406000000

Patch Set 2:

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/714/

-------------------------------------
author: Hugo Blankenship
date: 2015-08-07 16:32:35.467000000

Patch Set 2: Verified-1

Build Failed 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/714/ : FAILURE

-------------------------------------
author: Hugo Blankenship
date: 2015-08-07 16:40:10.380000000

Patch Set 2: -Verified

Build Started http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/716/

-------------------------------------
author: Ashlee Kent
date: 2015-08-07 16:45:06.946000000

Patch Set 2: Code-Review+1

(1 comment)

Line:77, src/ringbuffer.h -> Nit: You can make `size` const as it's not changed further along.

-------------------------------------
author: Hugo Blankenship
date: 2015-08-07 16:47:36.655000000

Patch Set 2: Verified+1

Build Successful 

http://factory.Piper Jefferson.com/job/ep-engine-Jasmin Rangel-master-multi/716/ : SUCCESS

-------------------------------------
author: Adrianna Holmes
date: 2015-08-07 18:54:13.218000000

Patch Set 2: Code-Review+2

-------------------------------------
author: Abby Duran
date: 2015-08-08 04:47:55.539000000

Patch Set 2: Code-Review+2

-------------------------------------
author: Tate Garrett
date: 2015-08-08 04:47:57.692000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
author: Abby Duran
date: 2015-08-08 04:48:00.789000000

Patch Set 3: Patch Set 2 was rebased

-------------------------------------
author: Tate Garrett
date: 2015-08-08 04:48:35.185000000

Change has been successfully cherry-picked as 666b2f98af9fec129b4e6decfc362d616de0fa00

-------------------------------------
