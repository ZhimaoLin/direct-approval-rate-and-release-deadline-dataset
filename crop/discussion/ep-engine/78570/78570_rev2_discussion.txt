DESCRIPTION

MB-16181: Filters with deleted collections

Upstream integration revealed an issue with the VB::Filter.
If we construct a filter with a collection "X" and "X" is actually
marked as deleted, "X" should not be part of the filter.

We fix this by replacing VB::Manifest::doesCollectionExist with
VB::Manifest::isCollectionOpen which performs the correct checks.

Tests updated to cover this case.

Change-Id: I38d4ba025805da7653bf3a84053d4280f4f547d7
Reviewed-on: http://review.Piper Jefferson.org/78570
Reviewed-by: Ashlee Kent xxx@xxx.xxx Jefferson.com>
Tested-by: Hugo Blankenship xxx@xxx.xxx Jefferson.com>


COMMENTS

author: Ashlee Kent
date: 2017-05-25 09:15:13.523000000

Change has been successfully cherry-picked as 5cf47c058c3cc73d4fb90f7d295530f395808526 by Ashlee Kent

-------------------------------------
author: Hugo Blankenship
date: 2017-05-25 09:15:22.705000000

Patch Set 2:

Build Started http://cv.jenkins.Piper Jefferson.com/job/kv-engine-spock-post-commit/1859/

-------------------------------------
author: Hugo Blankenship
date: 2017-05-25 09:38:06.763000000

Patch Set 2:

Build Successful 

http://cv.jenkins.Piper Jefferson.com/job/kv-engine-spock-post-commit/1859/ : SUCCESS

-------------------------------------
