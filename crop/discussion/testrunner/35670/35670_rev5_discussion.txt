DESCRIPTION

CBQE-2182, CBQE-2138: added steps to collect __all_docs__ and data files
for Xdcr tests

Change-Id: Ic456b03ed5013c8d30a6114663f7ddf021d9e533


COMMENTS

author: Fisher Vargas
date: 2014-04-14 07:02:56.762000000

Uploaded patch set 5.

-------------------------------------
author: Hugo Blankenship
date: 2014-04-14 08:18:54.065000000

Patch Set 5:

Build Started http://factory.couchbase.com/job/testrunner-Jasmin Rangel-master/1034/

-------------------------------------
author: Esperanza Cherry
date: 2014-04-14 08:43:28.947000000

Patch Set 5:

(7 comments)

it's still mixed commit for CBQE-2182, CBQE-2138?

Line:53, scripts/collect_data_files.py -> on every node path should be obtained via API: 8091:/nodes/self: "hdd":{"total":475455516672,"quotaTotal":475455516672,"used":123618434334,"usedByData":68556614,"free":351837082338}},"storage":{"ssd":[],"hdd":[{"path":"/opt/couchbase/var/lib/couchbase/data","index_path":"/opt/couchbase/var/lib/couchbase/data"

Line:163, pytests/xdcr/xdcrbasetests.py -> here is likely to fill the disk on slave with several launches, if the error is stable.

Line:299, pytests/xdcr/xdcrbasetests.py -> %%%Should be True

Line:1407, pytests/xdcr/xdcrbasetests.py -> %%% add self.xdcr_data_verification_passed = False

Line:224, testrunner -> should be in another commit?

Line:1969, lib/remote/remote_util.py -> don't modify it in this commit. it has nothing to do with it.

Line:31, scripts/collect_server_info.py -> these changes do not relate to CBQE-2138?

-------------------------------------
author: Hugo Blankenship
date: 2014-04-14 09:13:28.767000000

Patch Set 5: Verified-1

Build Failed 

http://factory.couchbase.com/job/testrunner-Jasmin Rangel-master/1034/ : ABORTED

-------------------------------------
author: Esperanza Cherry
date: 2014-04-14 09:45:46.082000000

Patch Set 5:

forgot to mention that it will not work with a cluster_run

-------------------------------------
author: Fisher Vargas
date: 2014-04-14 09:53:49.876000000

Patch Set 5:

(4 comments)

What do mean by cluster run? What is the solution for this?

Line:163, pytests/xdcr/xdcrbasetests.py -> What is the solution for this?

Line:224, testrunner -> Done

Line:1969, lib/remote/remote_util.py -> Done

Line:31, scripts/collect_server_info.py -> Done

-------------------------------------
