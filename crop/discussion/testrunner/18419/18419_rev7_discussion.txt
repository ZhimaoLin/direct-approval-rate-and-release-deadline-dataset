DESCRIPTION

CBQE-348:buckets are stored as objects-diff buckets

now basetestcase use lib/membase/api/rest_client.Bucket to store bucket objects in tests.
this was done to use diff tipes of buckets: default, sasl, standart
All tests were adopted to use this approach:
new rebalance tests, createdeleteview, warmup, backup tests

Change-Id: Iefc7da964f2c119619f63e0ead829b6d00fac545


COMMENTS

author: Esperanza Cherry
date: 2012-07-28 23:03:18.532000000

Uploaded patch set 7.

-------------------------------------
author: Hugo Blankenship
date: 2012-07-28 23:03:21.966000000

Patch Set 7:

Build Started http://qa.hq.northscale.net/job/testrunner-Jasmin Rangel-master/2047/ 

-------------------------------------
author: Hugo Blankenship
date: 2012-07-28 23:21:08.001000000

Patch Set 7: Verified

Build Successful 

http://qa.hq.northscale.net/job/testrunner-Jasmin Rangel-master/2047/ : SUCCESS

-------------------------------------
author: Esperanza Cherry
date: 2012-07-29 23:37:42.752000000

Patch Set 7: Verified; Looks good to me, but someone else must approve

py-backup-Roland Charles.conf pass 15 , fail 0
http://qa.hq.northscale.net/view/All/job/andrei_fork/16/

py-backup-Roland Charles.conf pass 5 , fail 0
http://qa.hq.northscale.net/view/All/job/centos-64-2.0-backup/34/

py-createview-all.conf pass 49 , fail 14
( rebalance failed + timeout errors, the same on the code from git)
http://qa.hq.northscale.net/view/All/job/centos-64-2.0-new-view-tests-all/6/

-------------------------------------
author: Roland Charles
date: 2012-07-30 04:30:51.684000000

Patch Set 7: Looks good to me, approved



-------------------------------------
author: Roland Charles
date: 2012-07-30 06:03:11.745000000

Patch Set 7: Verified



-------------------------------------
author: Maliyah Fischer
date: 2012-07-30 06:16:57.551000000

Patch Set 7: (2 inline comments)

Overall looks good. A couple of comments inline.

Line:175, pytests/basetestcase.py -> 175-177 lines can be removed

Line:457, lib/membase/api/rest_client.py -> This function also needs to change with new code like  in _get_design_doc

-------------------------------------
author: Reid Stokes
date: 2012-07-30 08:10:32.605000000

Patch Set 7: I would prefer that you didn't submit this

(6 inline comments)

I am seeing many redundant else conditions. 

@Andrei,
Also, just to keep in mind, we should try to split these over multiple reviews.

Line:214, lib/membase/api/rest_client.py -> no need of the else condition... u can initialized else condition as default

Line:222, lib/membase/api/rest_client.py -> no need of the else condition... u can initialized else condition as default

Line:242, lib/membase/api/rest_client.py -> no need of the else condition... u can initialized else condition as default

Line:251, lib/membase/api/rest_client.py -> no need of the else condition... u can initialized else condition as default

Line:234, lib/tasks/task.py -> you can initialize self.bucket = bucket

and check only if

Line:308, lib/tasks/task.py -> same here. use more pythonic way .

-------------------------------------
