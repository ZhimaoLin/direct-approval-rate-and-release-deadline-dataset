DESCRIPTION

CBQE-0: Fix for hanging compaction test

Change-Id: I1e52200d73a74425dc27eb0d69a9b8ad70a208a0


COMMENTS

author: Moises Brennan
date: 2014-08-12 10:54:10.386000000

Uploaded patch set 4.

-------------------------------------
author: Hugo Blankenship
date: 2014-08-12 10:54:16.913000000

Patch Set 4:

Build Started http://factory.couchbase.com/job/testrunner-Jasmin Rangel-master/2330/

-------------------------------------
author: Hugo Blankenship
date: 2014-08-12 11:12:37.865000000

Patch Set 4: Verified+1

Build Successful 

http://factory.couchbase.com/job/testrunner-Jasmin Rangel-master/2330/ : SUCCESS

-------------------------------------
author: Trevor Santana
date: 2014-08-12 11:45:16.514000000

Patch Set 4:

(2 comments)

Line:166, pytests/autocompaction.py -> why do you delete the timeout?

Line:394, pytests/autocompaction.py -> if you will get an exception in one of the threads Will it stop the test?
I think thread will be joint and no exception will raise, we need an event variable here I think

-------------------------------------
author: Esperanza Cherry
date: 2014-08-12 13:36:48.905000000

Patch Set 4:

(2 comments)

Line:345, pytests/view/compactionviewtests.py -> self.fail?

Line:356, pytests/view/compactionviewtests.py -> self.fail?

-------------------------------------
author: Moises Brennan
date: 2014-08-13 06:36:24.046000000

Patch Set 4:

(2 comments)

Line:345, pytests/view/compactionviewtests.py -> Here we are expecting that DB compaction shouldn't start as only Views compaction is enabled that's why if it's not started then test case passed not failed.

Line:356, pytests/view/compactionviewtests.py -> Here we are expecting that View compaction shouldn't start as only DB compaction is enabled that's why if it's not started then test case is passed not failed.

-------------------------------------
