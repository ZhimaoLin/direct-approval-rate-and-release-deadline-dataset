DESCRIPTION

CBD-450: revised observe repl routine

Cleaned up observe routine, added support for repl cas check

Due to current server impl:

> Upon a cas value mismatch received from the repl server:
    * If key_state == NOT_FOUND, meaning the key has not been replicated
      -> poll again
    * If key_state == [PERSISTED, FOUND] but cas value doesn't match
      -> discard the repl observe request, since there is no chance for \
         the client to find out if the key has been updated or not

Change-Id: I61279eef646efa96c395653f4c4a7f112e660aa9


COMMENTS

author: Alex Mcmahon
date: 2012-07-24 23:44:18.500000000

Patch Set 1: Looks good to me, approved



-------------------------------------
author: Hugo Blankenship
date: 2012-07-25 00:26:03.133000000

Patch Set 1:

Build Started http://qa.hq.northscale.net/job/testrunner-Jasmin Rangel-master/1924/ 

-------------------------------------
author: Hugo Blankenship
date: 2012-07-25 00:46:55.715000000

Patch Set 1: Verified

Build Successful 

http://qa.hq.northscale.net/job/testrunner-Jasmin Rangel-master/1924/ : SUCCESS

-------------------------------------
author: Daniel Blair
date: 2012-07-25 01:58:46.979000000

Change has been successfully cherry-picked as 8739cc9921ba77aff32a07403a97800826414dd1.

-------------------------------------
