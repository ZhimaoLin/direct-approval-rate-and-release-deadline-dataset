DESCRIPTION

runsystest.py - automation script for system tests

Usage:

python runsystest.py --build 3.0.0-588 --params vbuckets=1024,xdcr_upr=false,upr=true

--build  required param indicating which version-build the system test is to be run on
--params optional param to specify additional installer options

Change-Id: I993e0029e80571a4827908b3d4fc5d0cdc95bcbe


COMMENTS

author: Titus Ho
date: 2014-04-18 21:51:34.396000000

Uploaded patch set 9.

-------------------------------------
author: Hugo Blankenship
date: 2014-04-18 21:51:41.512000000

Patch Set 9:

Build Started http://factory.couchbase.com/job/testrunner-Jasmin Rangel-master/1120/

-------------------------------------
author: Titus Ho
date: 2014-04-18 22:00:53.807000000

Patch Set 9:

(4 comments)

Hey Aruna, I added a patch with some changes I had to made to adopt with using this from scratch.  

+split ip/port on ssh
+set ssh policy
+kill command syntax
+create vhost
+set vhost permisions

Also some comments inline about usability.

This so far has been a big help to me.  Though I'm having a problem with my rabbitmq server  in my vm not accepting tasks from the worker so I haven't got it all to run yet (unrelated to script - but it may be useful to check if librabbitmq can do basic connect to rabbitmq vhost)

Line:5, pysystests/runsystest.py -> Note i changed this to testcfg, was testcfg_src

Line:207, pysystests/runsystest.py -> will be good to timeout on these if ip not available as this is sanity check.

and if timeout occured raise exception to exit

Line:254, pysystests/runsystest.py -> in using this i often found myself commenting out some parts.  would be nice if the command line allowed for specifying if we only want to run certain steps

Line:18, pysystests/testcfg_src.py -> --cluster can be appended in the runsystest file, so that instead of embedding default we can do

--cluster cfg.CB_CLUSTER_TAG

-------------------------------------
author: Hugo Blankenship
date: 2014-04-18 22:15:16.921000000

Patch Set 9: Verified-1

Build Failed 

http://factory.couchbase.com/job/testrunner-Jasmin Rangel-master/1120/ : FAILURE

-------------------------------------
author: Angelina Mayer
date: 2014-04-22 00:04:15.017000000

Patch Set 9:

(4 comments)

Line:5, pysystests/runsystest.py -> Done

Line:207, pysystests/runsystest.py -> looks like you've added this already, thanks.

Line:254, pysystests/runsystest.py -> Done

Line:18, pysystests/testcfg_src.py -> Done

-------------------------------------
