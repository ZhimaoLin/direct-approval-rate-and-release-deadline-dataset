DESCRIPTION

CBQE-2200 consolidate delay time in rest api function call.
Also inscrease delay time to 15 seconds so that
couchbase server will come up completely after reset
the configuration.  5 seconds is not enough and connection refused
error will throw out when connect to couchbase server

Change-Id: I023bdbf4ccf1cf911d81c3305a81a2a6f9553708


COMMENTS

author: Frederick Booker
date: 2014-04-18 01:18:45.573000000

Uploaded patch set 3.

-------------------------------------
author: Hugo Blankenship
date: 2014-04-18 01:18:51.811000000

Patch Set 3:

Build Started http://factory.couchbase.com/job/testrunner-Jasmin Rangel-master/1113/

-------------------------------------
author: Frederick Booker
date: 2014-04-18 01:25:52.541000000

Patch Set 3: Verified+1

-------------------------------------
author: Hugo Blankenship
date: 2014-04-18 01:42:34.433000000

Patch Set 3: Verified+1

Build Successful 

http://factory.couchbase.com/job/testrunner-Jasmin Rangel-master/1113/ : SUCCESS

-------------------------------------
author: Alex Mcmahon
date: 2014-04-18 02:03:14.602000000

Patch Set 3: Code-Review+1

-------------------------------------
author: Titus Ho
date: 2014-04-18 14:32:54.506000000

Patch Set 3:

(1 comment)

Line:962, lib/membase/api/rest_client.py -> 15 is probably safe but still arbitrary, is there instead some verification you can do?  ie get_nodes or somehow do an erlang rpc call to get the config and verify.

otherwise, at least allow the sleep time to get passed in as method param so that we can override if necessary

-------------------------------------
author: Frederick Booker
date: 2014-04-21 18:38:39.126000000

Patch Set 3:

(1 comment)

Line:962, lib/membase/api/rest_client.py -> I will write another function to track the delay in shutting down couchbase server and come backup.

-------------------------------------
author: Tate Garrett
date: 2014-04-21 21:15:29.737000000

The change could not be merged due to a path conflict.

Please rebase the change locally and upload the rebased commit for review.

-------------------------------------
