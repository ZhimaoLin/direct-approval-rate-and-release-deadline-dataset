DESCRIPTION

New kvstore aware smart client for testrunner

Allows for easier data integrity testing against clusters.
Added new queuing workflow to rebalancing tests.

Also  see (smartkvstore_tester.py) for examples of task
management in writting more advanced tests.

Change-Id: I11276ae3dff7724da4c98eba0bf683f2576cd778


COMMENTS

author: Titus Ho
date: 2012-04-06 05:49:49.853000000

Uploaded patch set 2.

-------------------------------------
author: Zackery Barr
date: 2012-04-06 17:06:10.548000000

Patch Set 2:

this looks good but please don't merge it because this will break existing xdcr test cases.

can you merge this to branch-18 of test runner instead ?

-------------------------------------
author: Ayla Reynolds
date: 2012-04-10 10:04:48.895000000

Patch Set 2: I would prefer that you didn't submit this

(4 inline comments)

See my comments as minor nitpicks about general Python style. This shouldn't be seen as a blocker.

Line:120, pytests/rebalancingtests.py -> I would define `self.master` and `'self.rest' here, as it is needed so often.

Line:846, lib/memcached/helper/data_helper.py -> I"m not sure if those get_{valid|deleted|expired|]_key() methods are needed. I would just rename the `get_key_check_status()` to `get_status()` (or just `status`).

Line:952, lib/memcached/helper/data_helper.py -> Python doesn't need braces for an if statement. It's the same for the next two `elif` and the two functions below.

Line:1013, lib/memcached/helper/data_helper.py -> The class is called `KVClient*Task*Manager`, I wouldn't repeat *task* in every method call. Hence I would just name name them, `create()`, `start()`, `pause()`, `resume()`, `complete()`, `abort()`, `verify()`, `verify_all()` and `complete_all()`.

-------------------------------------
author: Reid Stokes
date: 2012-07-26 21:27:10.255000000

Patch Set 2: Abandoned

-------------------------------------
