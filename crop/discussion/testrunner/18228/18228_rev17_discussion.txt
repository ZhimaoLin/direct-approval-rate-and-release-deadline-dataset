DESCRIPTION

Fix for wait_for_memcached

wait_for_memcached earlier threw an error,
when a bucket is created for a cluster after rebalancing.
The Fix: Removed redundant code from wait_for_memcached,
and added functionality in wait_for_vbuckets_ready_state()
that will cover both scenarios of when executed using
cluster_run or on a set of vms.
Replaced the call to MemcachedClientHelper with a call
to MemcachedClient itself.
Patch 17: Incorporated all the changes pointed out in
the previous patch.

Change-Id: I4048c58cd8d1ee6a58845f2fda17b57929bc9981


COMMENTS

author: Emerson Nolan
date: 2012-07-18 18:28:44.353000000

Uploaded patch set 17.

-------------------------------------
author: Hugo Blankenship
date: 2012-07-18 18:28:47.833000000

Patch Set 17:

Build Started http://qa.hq.northscale.net/job/testrunner-Jasmin Rangel-master/1749/ 

-------------------------------------
author: Hugo Blankenship
date: 2012-07-18 18:42:50.849000000

Patch Set 17: Verified

Build Successful 

http://qa.hq.northscale.net/job/testrunner-Jasmin Rangel-master/1749/ : SUCCESS

-------------------------------------
author: Reid Stokes
date: 2012-07-18 18:59:42.356000000

Patch Set 17: Looks good to me, approved



-------------------------------------
author: Ayla Reynolds
date: 2012-07-18 19:11:03.270000000

Patch Set 17: Verified; Looks good to me, approved

Code looks good now :) I've tested it only for ./cluster_run, it gets a +v though (as there is now half +v)

-------------------------------------
author: Reid Stokes
date: 2012-07-18 22:46:53.694000000

Patch Set 17: Verified

Things look good against vms and on cluster_run.

-------------------------------------
author: Esperanza Cherry
date: 2012-07-18 22:55:31.784000000

Patch Set 17: I would prefer that you didn't submit this

(2 inline comments)



Line:236, lib/membase/helper/bucket_helper.py -> remove start_time, end_time

Line:237, lib/membase/helper/bucket_helper.py -> I guess that sleep is not needed here

-------------------------------------
